This file contains any messages produced by compilers while
running configure, to aid debugging if configure makes a mistake.

It was created by zfs configure 0.7.13, which was
generated by GNU Autoconf 2.69.  Invocation command line was

  $ ./configure --with-spec=redhat

## --------- ##
## Platform. ##
## --------- ##

hostname = pm1
uname -m = x86_64
uname -r = 3.10.0-1062.1.1.el7_myms.x86_64
uname -s = Linux
uname -v = #1 SMP Tue Jul 14 13:22:07 KST 2020

/usr/bin/uname -p = x86_64
/bin/uname -X     = unknown

/bin/arch              = x86_64
/usr/bin/arch -k       = unknown
/usr/convex/getsysinfo = unknown
/usr/bin/hostinfo      = unknown
/bin/machine           = unknown
/usr/bin/oslevel       = unknown
/bin/universe          = unknown

PATH: /usr/local/sbin
PATH: /usr/local/bin
PATH: /usr/sbin
PATH: /usr/bin
PATH: /root/bin
PATH: /root/go/bin
PATH: /usr/local/go/bin
PATH: /root/bin
PATH: /root/go/bin
PATH: /usr/local/go/bin


## ----------- ##
## Core tests. ##
## ----------- ##

configure:2401: checking for gawk
configure:2417: found /usr/bin/gawk
configure:2428: result: gawk
configure:2439: checking metadata
configure:2571: result: git describe
configure:2609: checking build system type
configure:2623: result: x86_64-unknown-linux-gnu
configure:2643: checking host system type
configure:2656: result: x86_64-unknown-linux-gnu
configure:2676: checking target system type
configure:2689: result: x86_64-unknown-linux-gnu
configure:2717: checking whether to enable maintainer-specific portions of Makefiles
configure:2726: result: no
configure:2750: checking whether make supports nested variables
configure:2767: result: yes
configure:2794: checking for a BSD-compatible install
configure:2862: result: /usr/bin/install -c
configure:2873: checking whether build environment is sane
configure:2928: result: yes
configure:3079: checking for a thread-safe mkdir -p
configure:3118: result: /usr/bin/mkdir -p
configure:3121: checking whether make sets $(MAKE)
configure:3143: result: yes
configure:3286: checking for gcc
configure:3302: found /usr/bin/gcc
configure:3313: result: gcc
configure:3542: checking for C compiler version
configure:3551: gcc --version >&5
gcc (GCC) 4.8.5 20150623 (Red Hat 4.8.5-39)
Copyright (C) 2015 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

configure:3562: $? = 0
configure:3551: gcc -v >&5
Using built-in specs.
COLLECT_GCC=gcc
COLLECT_LTO_WRAPPER=/usr/libexec/gcc/x86_64-redhat-linux/4.8.5/lto-wrapper
Target: x86_64-redhat-linux
Configured with: ../configure --prefix=/usr --mandir=/usr/share/man --infodir=/usr/share/info --with-bugurl=http://bugzilla.redhat.com/bugzilla --enable-bootstrap --enable-shared --enable-threads=posix --enable-checking=release --with-system-zlib --enable-__cxa_atexit --disable-libunwind-exceptions --enable-gnu-unique-object --enable-linker-build-id --with-linker-hash-style=gnu --enable-languages=c,c++,objc,obj-c++,java,fortran,ada,go,lto --enable-plugin --enable-initfini-array --disable-libgcj --with-isl=/builddir/build/BUILD/gcc-4.8.5-20150702/obj-x86_64-redhat-linux/isl-install --with-cloog=/builddir/build/BUILD/gcc-4.8.5-20150702/obj-x86_64-redhat-linux/cloog-install --enable-gnu-indirect-function --with-tune=generic --with-arch_32=x86-64 --build=x86_64-redhat-linux
Thread model: posix
gcc version 4.8.5 20150623 (Red Hat 4.8.5-39) (GCC) 
configure:3562: $? = 0
configure:3551: gcc -V >&5
gcc: error: unrecognized command line option '-V'
gcc: fatal error: no input files
compilation terminated.
configure:3562: $? = 4
configure:3551: gcc -qversion >&5
gcc: error: unrecognized command line option '-qversion'
gcc: fatal error: no input files
compilation terminated.
configure:3562: $? = 4
configure:3582: checking whether the C compiler works
configure:3604: gcc    conftest.c  >&5
configure:3608: $? = 0
configure:3656: result: yes
configure:3659: checking for C compiler default output file name
configure:3661: result: a.out
configure:3667: checking for suffix of executables
configure:3674: gcc -o conftest    conftest.c  >&5
configure:3678: $? = 0
configure:3700: result: 
configure:3722: checking whether we are cross compiling
configure:3730: gcc -o conftest    conftest.c  >&5
configure:3734: $? = 0
configure:3741: ./conftest
configure:3745: $? = 0
configure:3760: result: no
configure:3765: checking for suffix of object files
configure:3787: gcc -c   conftest.c >&5
configure:3791: $? = 0
configure:3812: result: o
configure:3816: checking whether we are using the GNU C compiler
configure:3835: gcc -c   conftest.c >&5
configure:3835: $? = 0
configure:3844: result: yes
configure:3853: checking whether gcc accepts -g
configure:3873: gcc -c -g  conftest.c >&5
configure:3873: $? = 0
configure:3914: result: yes
configure:3931: checking for gcc option to accept ISO C89
configure:3994: gcc  -c -g -O2  conftest.c >&5
configure:3994: $? = 0
configure:4007: result: none needed
configure:4038: checking for style of include used by make
configure:4066: result: GNU
configure:4092: checking dependency style of gcc
configure:4203: result: gcc3
configure:4264: checking how to print strings
configure:4291: result: printf
configure:4312: checking for a sed that does not truncate output
configure:4376: result: /usr/bin/sed
configure:4394: checking for grep that handles long lines and -e
configure:4452: result: /usr/bin/grep
configure:4457: checking for egrep
configure:4519: result: /usr/bin/grep -E
configure:4524: checking for fgrep
configure:4586: result: /usr/bin/grep -F
configure:4621: checking for ld used by gcc
configure:4688: result: /usr/bin/ld
configure:4695: checking if the linker (/usr/bin/ld) is GNU ld
configure:4710: result: yes
configure:4722: checking for BSD- or MS-compatible name lister (nm)
configure:4771: result: /usr/bin/nm -B
configure:4901: checking the name lister (/usr/bin/nm -B) interface
configure:4908: gcc -c -g -O2  conftest.c >&5
configure:4911: /usr/bin/nm -B "conftest.o"
configure:4914: output
0000000000000000 B some_variable
configure:4921: result: BSD nm
configure:4924: checking whether ln -s works
configure:4928: result: yes
configure:4936: checking the maximum length of command line arguments
configure:5066: result: 1572864
configure:5083: checking whether the shell understands some XSI constructs
configure:5093: result: yes
configure:5097: checking whether the shell understands "+="
configure:5103: result: yes
configure:5138: checking how to convert x86_64-unknown-linux-gnu file names to x86_64-unknown-linux-gnu format
configure:5178: result: func_convert_file_noop
configure:5185: checking how to convert x86_64-unknown-linux-gnu file names to toolchain format
configure:5205: result: func_convert_file_noop
configure:5212: checking for /usr/bin/ld option to reload object files
configure:5219: result: -r
configure:5293: checking for objdump
configure:5309: found /usr/bin/objdump
configure:5320: result: objdump
configure:5352: checking how to recognize dependent libraries
configure:5554: result: pass_all
configure:5639: checking for dlltool
configure:5669: result: no
configure:5699: checking how to associate runtime and link libraries
configure:5726: result: printf %s\n
configure:5787: checking for ar
configure:5803: found /usr/bin/ar
configure:5814: result: ar
configure:5851: checking for archiver @FILE support
configure:5868: gcc -c -g -O2  conftest.c >&5
configure:5868: $? = 0
configure:5871: ar cru libconftest.a @conftest.lst >&5
configure:5874: $? = 0
configure:5879: ar cru libconftest.a @conftest.lst >&5
ar: conftest.o: No such file or directory
configure:5882: $? = 1
configure:5894: result: @
configure:5952: checking for strip
configure:5968: found /usr/bin/strip
configure:5979: result: strip
configure:6051: checking for ranlib
configure:6067: found /usr/bin/ranlib
configure:6078: result: ranlib
configure:6180: checking command to parse /usr/bin/nm -B output from gcc object
configure:6300: gcc -c -g -O2  conftest.c >&5
configure:6303: $? = 0
configure:6307: /usr/bin/nm -B conftest.o \| sed -n -e 's/^.*[ ]\([ABCDGIRSTW][ABCDGIRSTW]*\)[ ][ ]*\([_A-Za-z][_A-Za-z0-9]*\)$/\1 \2 \2/p' | sed '/ __gnu_lto/d' \> conftest.nm
configure:6310: $? = 0
configure:6376: gcc -o conftest -g -O2   conftest.c conftstm.o >&5
configure:6379: $? = 0
configure:6417: result: ok
configure:6454: checking for sysroot
configure:6484: result: no
configure:6561: gcc -c -g -O2  conftest.c >&5
configure:6564: $? = 0
configure:6740: checking for mt
configure:6770: result: no
configure:6790: checking if : is a manifest tool
configure:6796: : '-?'
configure:6804: result: no
configure:7446: checking how to run the C preprocessor
configure:7477: gcc -E  conftest.c
configure:7477: $? = 0
configure:7491: gcc -E  conftest.c
conftest.c:17:28: fatal error: ac_nonexistent.h: No such file or directory
 #include <ac_nonexistent.h>
                            ^
compilation terminated.
configure:7491: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| /* end confdefs.h.  */
| #include <ac_nonexistent.h>
configure:7516: result: gcc -E
configure:7536: gcc -E  conftest.c
configure:7536: $? = 0
configure:7550: gcc -E  conftest.c
conftest.c:17:28: fatal error: ac_nonexistent.h: No such file or directory
 #include <ac_nonexistent.h>
                            ^
compilation terminated.
configure:7550: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| /* end confdefs.h.  */
| #include <ac_nonexistent.h>
configure:7579: checking for ANSI C header files
configure:7599: gcc -c -g -O2  conftest.c >&5
configure:7599: $? = 0
configure:7672: gcc -o conftest -g -O2   conftest.c  >&5
configure:7672: $? = 0
configure:7672: ./conftest
configure:7672: $? = 0
configure:7683: result: yes
configure:7696: checking for sys/types.h
configure:7696: gcc -c -g -O2  conftest.c >&5
configure:7696: $? = 0
configure:7696: result: yes
configure:7696: checking for sys/stat.h
configure:7696: gcc -c -g -O2  conftest.c >&5
configure:7696: $? = 0
configure:7696: result: yes
configure:7696: checking for stdlib.h
configure:7696: gcc -c -g -O2  conftest.c >&5
configure:7696: $? = 0
configure:7696: result: yes
configure:7696: checking for string.h
configure:7696: gcc -c -g -O2  conftest.c >&5
configure:7696: $? = 0
configure:7696: result: yes
configure:7696: checking for memory.h
configure:7696: gcc -c -g -O2  conftest.c >&5
configure:7696: $? = 0
configure:7696: result: yes
configure:7696: checking for strings.h
configure:7696: gcc -c -g -O2  conftest.c >&5
configure:7696: $? = 0
configure:7696: result: yes
configure:7696: checking for inttypes.h
configure:7696: gcc -c -g -O2  conftest.c >&5
configure:7696: $? = 0
configure:7696: result: yes
configure:7696: checking for stdint.h
configure:7696: gcc -c -g -O2  conftest.c >&5
configure:7696: $? = 0
configure:7696: result: yes
configure:7696: checking for unistd.h
configure:7696: gcc -c -g -O2  conftest.c >&5
configure:7696: $? = 0
configure:7696: result: yes
configure:7710: checking for dlfcn.h
configure:7710: gcc -c -g -O2  conftest.c >&5
configure:7710: $? = 0
configure:7710: result: yes
configure:7916: checking for objdir
configure:7931: result: .libs
configure:8202: checking if gcc supports -fno-rtti -fno-exceptions
configure:8220: gcc -c -g -O2  -fno-rtti -fno-exceptions conftest.c >&5
cc1: warning: command line option '-fno-rtti' is valid for C++/ObjC++ but not for C [enabled by default]
configure:8224: $? = 0
configure:8237: result: no
configure:8564: checking for gcc option to produce PIC
configure:8571: result: -fPIC -DPIC
configure:8579: checking if gcc PIC flag -fPIC -DPIC works
configure:8597: gcc -c -g -O2  -fPIC -DPIC -DPIC conftest.c >&5
configure:8601: $? = 0
configure:8614: result: yes
configure:8643: checking if gcc static flag -static works
configure:8671: result: no
configure:8686: checking if gcc supports -c -o file.o
configure:8707: gcc -c -g -O2  -o out/conftest2.o conftest.c >&5
configure:8711: $? = 0
configure:8733: result: yes
configure:8741: checking if gcc supports -c -o file.o
configure:8788: result: yes
configure:8821: checking whether the gcc linker (/usr/bin/ld -m elf_x86_64) supports shared libraries
configure:9974: result: yes
configure:10011: checking whether -lc should be explicitly linked in
configure:10019: gcc -c -g -O2  conftest.c >&5
configure:10022: $? = 0
configure:10037: gcc -shared  -fPIC -DPIC conftest.o  -v -Wl,-soname -Wl,conftest -o conftest 2\>\&1 \| /usr/bin/grep  -lc  \>/dev/null 2\>\&1
configure:10040: $? = 0
configure:10054: result: no
configure:10214: checking dynamic linker characteristics
configure:10725: gcc -o conftest -g -O2   -Wl,-rpath -Wl,/foo conftest.c  >&5
configure:10725: $? = 0
configure:10951: result: GNU/Linux ld.so
configure:11058: checking how to hardcode library paths into programs
configure:11083: result: immediate
configure:11623: checking whether stripping libraries is possible
configure:11628: result: yes
configure:11663: checking if libtool supports shared libraries
configure:11665: result: yes
configure:11668: checking whether to build shared libraries
configure:11689: result: yes
configure:11692: checking whether to build static libraries
configure:11696: result: yes
configure:11742: checking dependency style of gcc
configure:11851: result: gcc3
configure:11867: checking whether gcc and cc understand -c and -o together
configure:11898: gcc -c conftest.c -o conftest2.o >&5
configure:11902: $? = 0
configure:11908: gcc -c conftest.c -o conftest2.o >&5
configure:11912: $? = 0
configure:11923: cc -c conftest.c >&5
configure:11927: $? = 0
configure:11935: cc -c conftest.c -o conftest2.o >&5
configure:11939: $? = 0
configure:11945: cc -c conftest.c -o conftest2.o >&5
configure:11949: $? = 0
configure:11967: result: yes
configure:12005: checking whether to build with code coverage support
configure:12025: result: no
configure:12364: checking zfs author
configure:12366: result: OpenZFS on Linux
configure:12369: checking zfs license
configure:12371: result: CDDL
configure:12376: checking linux distribution
configure:12403: result: redhat
configure:12407: checking default package type
configure:12423: result: rpm
configure:12428: checking default init directory
configure:12430: result: ${prefix}/etc/init.d
configure:12434: checking default init script type
configure:12450: result: redhat
configure:12454: checking default init config direectory
configure:12467: result: /etc/sysconfig
configure:12471: checking whether initramfs-tools is available
configure:12479: result: no
configure:12488: checking whether rpm is available
configure:12494: result: yes (4.11.3)
configure:12505: checking whether rpmbuild is available
configure:12511: result: yes (4.11.3)
configure:12571: checking whether spec files are available
configure:12573: result: yes (rpm/redhat/*.spec.in)
configure:12598: checking whether dpkg is available
configure:12610: result: no
configure:12615: checking whether dpkg-buildpackage is available
configure:12628: result: no
configure:12644: checking whether alien is available
configure:12656: result: no
configure:12682: checking zfs config
configure:12684: result: all
configure:12690: checking for -Wno-unused-but-set-variable support
configure:12707: gcc -c -g -O2 -Wunused-but-set-variable  conftest.c >&5
configure:12707: $? = 0
configure:12710: result: yes
configure:12726: checking for -Wno-bool-compare support
configure:12743: gcc -c -g -O2 -Wbool-compare  conftest.c >&5
gcc: error: unrecognized command line option '-Wbool-compare'
configure:12743: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| /* end confdefs.h.  */
| 
| int
| main ()
| {
| 
|   ;
|   return 0;
| }
configure:12752: result: no
configure:12765: checking whether host toolchain supports SSE
configure:12777: gcc -o conftest -g -O2   conftest.c  >&5
configure:12777: $? = 0
configure:12782: result: yes
configure:12795: checking whether host toolchain supports SSE2
configure:12807: gcc -o conftest -g -O2   conftest.c  >&5
configure:12807: $? = 0
configure:12812: result: yes
configure:12825: checking whether host toolchain supports SSE3
configure:12838: gcc -o conftest -g -O2   conftest.c  >&5
configure:12838: $? = 0
configure:12843: result: yes
configure:12856: checking whether host toolchain supports SSSE3
configure:12868: gcc -o conftest -g -O2   conftest.c  >&5
configure:12868: $? = 0
configure:12873: result: yes
configure:12886: checking whether host toolchain supports SSE4.1
configure:12898: gcc -o conftest -g -O2   conftest.c  >&5
configure:12898: $? = 0
configure:12903: result: yes
configure:12916: checking whether host toolchain supports SSE4.2
configure:12928: gcc -o conftest -g -O2   conftest.c  >&5
configure:12928: $? = 0
configure:12933: result: yes
configure:12946: checking whether host toolchain supports AVX
configure:12959: gcc -o conftest -g -O2   conftest.c  >&5
configure:12959: $? = 0
configure:12961: result: yes
configure:12977: checking whether host toolchain supports AVX2
configure:12990: gcc -o conftest -g -O2   conftest.c  >&5
configure:12990: $? = 0
configure:12992: result: yes
configure:13008: checking whether host toolchain supports AVX512F
configure:13021: gcc -o conftest -g -O2   conftest.c  >&5
configure:13021: $? = 0
configure:13023: result: yes
configure:13039: checking whether host toolchain supports AVX512CD
configure:13052: gcc -o conftest -g -O2   conftest.c  >&5
configure:13052: $? = 0
configure:13054: result: yes
configure:13070: checking whether host toolchain supports AVX512DQ
configure:13083: gcc -o conftest -g -O2   conftest.c  >&5
configure:13083: $? = 0
configure:13085: result: yes
configure:13101: checking whether host toolchain supports AVX512BW
configure:13114: gcc -o conftest -g -O2   conftest.c  >&5
configure:13114: $? = 0
configure:13116: result: yes
configure:13132: checking whether host toolchain supports AVX512IFMA
configure:13145: gcc -o conftest -g -O2   conftest.c  >&5
configure:13145: $? = 0
configure:13147: result: yes
configure:13163: checking whether host toolchain supports AVX512VBMI
configure:13176: gcc -o conftest -g -O2   conftest.c  >&5
configure:13176: $? = 0
configure:13178: result: yes
configure:13194: checking whether host toolchain supports AVX512PF
configure:13207: gcc -o conftest -g -O2   conftest.c  >&5
configure:13207: $? = 0
configure:13209: result: yes
configure:13225: checking whether host toolchain supports AVX512ER
configure:13238: gcc -o conftest -g -O2   conftest.c  >&5
configure:13238: $? = 0
configure:13240: result: yes
configure:13256: checking whether host toolchain supports AVX512VL
configure:13269: gcc -o conftest -g -O2   conftest.c  >&5
configure:13269: $? = 0
configure:13271: result: yes
configure:13290: checking for target asm dir
configure:13328: result: asm-x86_64
configure:28144: checking for udev directories
configure:28186: result: /lib/udev;/lib/udev/rules.d
configure:28235: checking for systemd support
configure:28237: result: yes
configure:28276: checking for dracut directory
configure:28308: result: /usr/lib/dracut
configure:28314: checking zlib.h usability
configure:28314: gcc -c -g -O2  conftest.c >&5
configure:28314: $? = 0
configure:28314: result: yes
configure:28314: checking zlib.h presence
configure:28314: gcc -E  conftest.c
configure:28314: $? = 0
configure:28314: result: yes
configure:28314: checking for zlib.h
configure:28314: result: yes
configure:28327: checking for library containing compress2
configure:28358: gcc -o conftest -g -O2   conftest.c  >&5
/tmp/ccyhsASV.o: In function `main':
/home/kau/zfs_chksm/conftest.c:57: undefined reference to `compress2'
collect2: error: ld returned 1 exit status
configure:28358: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| /* end confdefs.h.  */
| 
| /* Override any GCC internal prototype to avoid an error.
|    Use char because int might match the return type of a GCC
|    builtin and then its argument prototype would still apply.  */
| #ifdef __cplusplus
| extern "C"
| #endif
| char compress2 ();
| int
| main ()
| {
| return compress2 ();
|   ;
|   return 0;
| }
configure:28358: gcc -o conftest -g -O2   conftest.c -lz   >&5
configure:28358: $? = 0
configure:28375: result: -lz
configure:28390: checking for library containing uncompress
configure:28421: gcc -o conftest -g -O2   conftest.c -lz  >&5
configure:28421: $? = 0
configure:28438: result: none required
configure:28453: checking for library containing crc32
configure:28484: gcc -o conftest -g -O2   conftest.c -lz  >&5
configure:28484: $? = 0
configure:28501: result: none required
configure:28525: checking uuid/uuid.h usability
configure:28525: gcc -c -g -O2  conftest.c >&5
configure:28525: $? = 0
configure:28525: result: yes
configure:28525: checking uuid/uuid.h presence
configure:28525: gcc -E  conftest.c
configure:28525: $? = 0
configure:28525: result: yes
configure:28525: checking for uuid/uuid.h
configure:28525: result: yes
configure:28538: checking for library containing uuid_generate
configure:28569: gcc -o conftest -g -O2   conftest.c -lz  >&5
/tmp/ccU9qoyc.o: In function `main':
/home/kau/zfs_chksm/conftest.c:58: undefined reference to `uuid_generate'
collect2: error: ld returned 1 exit status
configure:28569: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| /* end confdefs.h.  */
| 
| /* Override any GCC internal prototype to avoid an error.
|    Use char because int might match the return type of a GCC
|    builtin and then its argument prototype would still apply.  */
| #ifdef __cplusplus
| extern "C"
| #endif
| char uuid_generate ();
| int
| main ()
| {
| return uuid_generate ();
|   ;
|   return 0;
| }
configure:28569: gcc -o conftest -g -O2   conftest.c -luuid  -lz  >&5
configure:28569: $? = 0
configure:28586: result: -luuid
configure:28601: checking for library containing uuid_is_null
configure:28632: gcc -o conftest -g -O2   conftest.c -luuid -lz  >&5
configure:28632: $? = 0
configure:28649: result: none required
configure:28684: checking for xdrmem_create in -ltirpc
configure:28709: gcc -o conftest -g -O2   conftest.c -ltirpc  -luuid -lz  >&5
/usr/bin/ld: cannot find -ltirpc
collect2: error: ld returned 1 exit status
configure:28709: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| /* end confdefs.h.  */
| 
| /* Override any GCC internal prototype to avoid an error.
|    Use char because int might match the return type of a GCC
|    builtin and then its argument prototype would still apply.  */
| #ifdef __cplusplus
| extern "C"
| #endif
| char xdrmem_create ();
| int
| main ()
| {
| return xdrmem_create ();
|   ;
|   return 0;
| }
configure:28718: result: no
configure:28736: checking for library containing xdrmem_create
configure:28767: gcc -o conftest -g -O2   conftest.c -luuid -lz  >&5
configure:28767: $? = 0
configure:28784: result: none required
configure:28870: checking blkid/blkid.h usability
configure:28870: gcc -c -g -O2  conftest.c >&5
configure:28870: $? = 0
configure:28870: result: yes
configure:28870: checking blkid/blkid.h presence
configure:28870: gcc -E  conftest.c
configure:28870: $? = 0
configure:28870: result: yes
configure:28870: checking for blkid/blkid.h
configure:28870: result: yes
configure:28892: checking libudev.h usability
configure:28892: gcc -c -g -O2  conftest.c >&5
configure:28892: $? = 0
configure:28892: result: yes
configure:28892: checking libudev.h presence
configure:28892: gcc -E  conftest.c
configure:28892: $? = 0
configure:28892: result: yes
configure:28892: checking for libudev.h
configure:28892: result: yes
configure:28910: checking for library containing udev_device_get_is_initialized
configure:28941: gcc -o conftest -g -O2   conftest.c -luuid -lz  >&5
/tmp/ccXxWjUO.o: In function `main':
/home/kau/zfs_chksm/conftest.c:61: undefined reference to `udev_device_get_is_initialized'
collect2: error: ld returned 1 exit status
configure:28941: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| /* end confdefs.h.  */
| 
| /* Override any GCC internal prototype to avoid an error.
|    Use char because int might match the return type of a GCC
|    builtin and then its argument prototype would still apply.  */
| #ifdef __cplusplus
| extern "C"
| #endif
| char udev_device_get_is_initialized ();
| int
| main ()
| {
| return udev_device_get_is_initialized ();
|   ;
|   return 0;
| }
configure:28941: gcc -o conftest -g -O2   conftest.c -ludev  -luuid -lz  >&5
configure:28941: $? = 0
configure:28958: result: -ludev
configure:28972: checking for -Wframe-larger-than=<size> support
configure:28989: gcc -c -g -O2 -Wframe-larger-than=1024  conftest.c >&5
configure:28989: $? = 0
configure:28992: result: yes
configure:29010: checking libaio.h usability
configure:29010: gcc -c -g -O2  conftest.c >&5
configure:29010: $? = 0
configure:29010: result: yes
configure:29010: checking libaio.h presence
configure:29010: gcc -E  conftest.c
configure:29010: $? = 0
configure:29010: result: yes
configure:29010: checking for libaio.h
configure:29010: result: yes
configure:29035: checking makedev() is declared in sys/sysmacros.h
configure:29053: gcc -c -g -O2  conftest.c >&5
configure:29053: $? = 0
configure:29055: result: yes
configure:29070: checking makedev() is declared in sys/mkdev.h
configure:29088: gcc -c -g -O2  conftest.c >&5
conftest.c:54:25: fatal error: sys/mkdev.h: No such file or directory
   #include <sys/mkdev.h>
                         ^
compilation terminated.
configure:29088: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| /* end confdefs.h.  */
| 
| 		#include <sys/mkdev.h>
| 
| int
| main ()
| {
| 
| 		int k;
| 		k = makedev(0,0);
| 
|   ;
|   return 0;
| }
configure:29098: result: no
configure:29105: checking for -Wno-format-truncation support
configure:29122: gcc -c -g -O2 -Wno-format-truncation  conftest.c >&5
configure:29122: $? = 0
configure:29125: result: yes
configure:29150: checking for mlockall
configure:29150: gcc -o conftest -g -O2   conftest.c -ludev -luuid -lz  >&5
configure:29150: $? = 0
configure:29150: result: yes
configure:29176: checking kernel source directory
configure:29219: result: /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64
configure:29230: checking kernel build directory
configure:29257: result: /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64
configure:29260: checking kernel source version
configure:29308: result: 3.10.0-1062.1.1.el7_myms.x86_64
configure:29321: checking kernel file name for module symbols
configure:29350: result: Module.symvers
configure:29391: checking spl source directory
configure:29449: result: /usr/src/spl-0.7.13
configure:29463: checking spl build directory
configure:29503: result: /usr/src/spl-0.7.13/3.10.0-1062.1.1.el7_myms.x86_64
configure:29517: checking spl source version
configure:29540: result: 0.7.13-1
configure:29551: checking spl file name for module symbols
configure:29592: result: Module.symvers
configure:29690: checking whether access_ok() has 'type' parameter
configure:29725: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:29728: $? = 0
configure:29730: test -s build/conftest.o
configure:29733: $? = 0
configure:29736: result: yes
configure:29757: checking whether modules can be built
configure:29786: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:29789: $? = 0
configure:29791: test -s build/conftest.o
configure:29794: $? = 0
configure:29797: result: yes
configure:29822: checking for available /dev/zfs minor
configure:29829: result: 249
configure:29848: checking for compile-time stack validation (objtool)
configure:29884: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:29887: $? = 0
configure:29889: test -s build/conftest.o
configure:29892: $? = 0
configure:29895: result: yes
configure:29941: gcc -o conftest -g -O2   conftest.c -ludev -luuid -lz  >&5
configure:29941: $? = 0
configure:29941: ./conftest
configure:29941: $? = 1
configure: program exited with status 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| /* end confdefs.h.  */
| 
| 
| 				#include "/usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64/include/linux/license.h"
| 
| int
| main ()
| {
| 
| 				return !license_is_gpl_compatible("CDDL");
| 
|   ;
|   return 0;
| }
| 
configure:29956: checking whether kernel was built with 16K or larger stacks
configure:29991: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:29994: $? = 0
configure:29996: test -s build/conftest.o
configure:29999: $? = 0
configure:30002: result: yes
configure:30024: checking whether kernel was built with CONFIG_DEBUG_LOCK_ALLOC
configure:30059: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
/home/kau/zfs_chksm/build/conftest.c: In function ‘main’:
/home/kau/zfs_chksm/build/conftest.c:66:4: error: #error CONFIG_DEBUG_LOCK_ALLOC not #defined
   #error CONFIG_DEBUG_LOCK_ALLOC not #defined
    ^
make[1]: *** [/home/kau/zfs_chksm/build/conftest.o] Error 1
make: *** [_module_/home/kau/zfs_chksm/build] Error 2
configure:30062: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| 
| 
| 		#include <linux/module.h>
| 
| int
| main (void)
| {
| 
| 		#ifndef CONFIG_DEBUG_LOCK_ALLOC
| 		#error CONFIG_DEBUG_LOCK_ALLOC not #defined
| 		#endif
| 
|   ;
|   return 0;
| }
| 
configure:30153: result: no
configure:30170: checking whether DECLARE_EVENT_CLASS() is available
configure:30241: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024 -I$(src)  M=/home/kau/zfs_chksm/build 
FATAL: modpost: GPL-incompatible module conftest.ko uses GPL-only symbol 'trace_event_raw_init'
make[1]: *** [__modpost] Error 1
make: *** [modules] Error 2
configure:30244: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| 
| 
| 		#include <linux/module.h>
| 		MODULE_LICENSE(ZFS_META_LICENSE);
| 
| 		#define CREATE_TRACE_POINTS
| 		#include "conftest.h"
| 
| int
| main (void)
| {
| 
| 		trace_zfs_autoconf_event_one(1UL);
| 		trace_zfs_autoconf_event_two(2UL);
| 
|   ;
|   return 0;
| }
| 
configure:30262: result: no
configure:30274: checking whether current->bio_tail exists
configure:30307: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
/home/kau/zfs_chksm/build/conftest.c: In function ‘main’:
/home/kau/zfs_chksm/build/conftest.c:65:10: error: ‘struct task_struct’ has no member named ‘bio_tail’
   current->bio_tail = (struct bio **) NULL;
          ^
make[1]: *** [/home/kau/zfs_chksm/build/conftest.o] Error 1
make: *** [_module_/home/kau/zfs_chksm/build] Error 2
configure:30310: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| 
| 
| 		#include <linux/sched.h>
| 
| int
| main (void)
| {
| 
| 		current->bio_tail = (struct bio **) NULL;
| 
|   ;
|   return 0;
| }
| 
configure:30328: result: no
configure:30330: checking whether current->bio_list exists
configure:30363: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:30366: $? = 0
configure:30368: test -s build/conftest.o
configure:30371: $? = 0
configure:30374: result: yes
configure:30402: checking whether super_block->s_user_ns exists
configure:30437: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:30440: $? = 0
configure:30442: test -s build/conftest.o
configure:30445: $? = 0
configure:30448: result: yes
configure:30469: checking whether submit_bio() wants 1 arg
configure:30504: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
/home/kau/zfs_chksm/build/conftest.c: In function ‘main’:
/home/kau/zfs_chksm/build/conftest.c:67:3: error: unknown type name ‘blk_qc_t’
   blk_qc_t blk_qc;
   ^
/home/kau/zfs_chksm/build/conftest.c:69:3: error: passing argument 1 of ‘submit_bio’ makes integer from pointer without a cast [-Werror]
   blk_qc = submit_bio(bio);
   ^
In file included from include/linux/highmem.h:4:0,
                 from include/linux/bio.h:23,
                 from /home/kau/zfs_chksm/build/conftest.c:61:
include/linux/fs.h:2978:13: note: expected ‘int’ but argument is of type ‘struct bio *’
 extern void submit_bio(int, struct bio *);
             ^
/home/kau/zfs_chksm/build/conftest.c:69:3: error: too few arguments to function ‘submit_bio’
   blk_qc = submit_bio(bio);
   ^
In file included from include/linux/highmem.h:4:0,
                 from include/linux/bio.h:23,
                 from /home/kau/zfs_chksm/build/conftest.c:61:
include/linux/fs.h:2978:13: note: declared here
 extern void submit_bio(int, struct bio *);
             ^
cc1: all warnings being treated as errors
make[1]: *** [/home/kau/zfs_chksm/build/conftest.o] Error 1
make: *** [_module_/home/kau/zfs_chksm/build] Error 2
configure:30507: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| 
| 
| 		#include <linux/bio.h>
| 
| int
| main (void)
| {
| 
| 		blk_qc_t blk_qc;
| 		struct bio *bio = NULL;
| 		blk_qc = submit_bio(bio);
| 
|   ;
|   return 0;
| }
| 
configure:30525: result: no
configure:30536: checking whether bops->check_events() exists
configure:30578: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024 -Wno-unused-but-set-variable  M=/home/kau/zfs_chksm/build 
configure:30581: $? = 0
configure:30583: test -s build/conftest.o
configure:30586: $? = 0
configure:30589: result: yes
configure:30611: checking whether bops->release() is void
configure:30655: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024 -Wno-unused-but-set-variable  M=/home/kau/zfs_chksm/build 
configure:30658: $? = 0
configure:30660: test -s build/conftest.o
configure:30663: $? = 0
configure:30666: result: void
configure:30687: checking whether kernel defines fmode_t
configure:30720: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:30723: $? = 0
configure:30725: test -s build/conftest.o
configure:30728: $? = 0
configure:30731: result: yes
configure:30752: checking whether blkdev_get() wants 3 args
configure:30786: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:30789: $? = 0
configure:30791: test -s build/conftest.o
configure:30794: $? = 0
configure:30797: result: yes
configure:30817: checking whether blkdev_get_by_path() is available
configure:30851: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:30854: $? = 0
configure:30856: test -s build/conftest.o
configure:30859: $? = 0
configure:30911: result: yes
configure:30921: checking whether open_bdev_exclusive() is available
configure:30955: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
/home/kau/zfs_chksm/build/conftest.c: In function ‘main’:
/home/kau/zfs_chksm/build/conftest.c:72:3: error: implicit declaration of function ‘open_bdev_exclusive’ [-Werror=implicit-function-declaration]
   open_bdev_exclusive(NULL, 0, NULL);
   ^
cc1: all warnings being treated as errors
make[1]: *** [/home/kau/zfs_chksm/build/conftest.o] Error 1
make: *** [_module_/home/kau/zfs_chksm/build] Error 2
configure:30958: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| 
| 
| 		#include <linux/fs.h>
| 
| int
| main (void)
| {
| 
| 		open_bdev_exclusive(NULL, 0, NULL);
| 
|   ;
|   return 0;
| }
| 
configure:30978: result: no
configure:31025: checking whether lookup_bdev() wants 1 arg
configure:31059: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:31062: $? = 0
configure:31064: test -s build/conftest.o
configure:31067: $? = 0
configure:31325: result: yes
configure:31336: checking whether invalidate_bdev() wants 1 arg
configure:31370: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:31373: $? = 0
configure:31375: test -s build/conftest.o
configure:31378: $? = 0
configure:31381: result: yes
configure:31402: checking whether bdev_logical_block_size() is available
configure:31438: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024 -Wno-unused-but-set-variable  M=/home/kau/zfs_chksm/build 
configure:31441: $? = 0
configure:31443: test -s build/conftest.o
configure:31446: $? = 0
configure:31449: result: yes
configure:31471: checking whether bdev_physical_block_size() is available
configure:31507: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024 -Wno-unused-but-set-variable  M=/home/kau/zfs_chksm/build 
configure:31510: $? = 0
configure:31512: test -s build/conftest.o
configure:31515: $? = 0
configure:31518: result: yes
configure:31540: checking whether bio has bi_iter
configure:31574: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
/home/kau/zfs_chksm/build/conftest.c: In function ‘main’:
/home/kau/zfs_chksm/build/conftest.c:77:6: error: ‘struct bio’ has no member named ‘bi_iter’
   bio.bi_iter.bi_sector = 0;
      ^
make[1]: *** [/home/kau/zfs_chksm/build/conftest.o] Error 1
make: *** [_module_/home/kau/zfs_chksm/build] Error 2
configure:31577: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| 
| 
| 		#include <linux/bio.h>
| 
| int
| main (void)
| {
| 
| 		struct bio bio;
| 		bio.bi_iter.bi_sector = 0;
| 
|   ;
|   return 0;
| }
| 
configure:31595: result: no
configure:31606: checking whether BIO_RW_FAILFAST_* are defined
configure:31642: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
/home/kau/zfs_chksm/build/conftest.c: In function ‘main’:
/home/kau/zfs_chksm/build/conftest.c:77:18: error: ‘BIO_RW_FAILFAST_DEV’ undeclared (first use in this function)
   flags = ((1 << BIO_RW_FAILFAST_DEV) |
                  ^
/home/kau/zfs_chksm/build/conftest.c:77:18: note: each undeclared identifier is reported only once for each function it appears in
/home/kau/zfs_chksm/build/conftest.c:78:11: error: ‘BIO_RW_FAILFAST_TRANSPORT’ undeclared (first use in this function)
     (1 << BIO_RW_FAILFAST_TRANSPORT) |
           ^
/home/kau/zfs_chksm/build/conftest.c:79:11: error: ‘BIO_RW_FAILFAST_DRIVER’ undeclared (first use in this function)
     (1 << BIO_RW_FAILFAST_DRIVER));
           ^
make[1]: *** [/home/kau/zfs_chksm/build/conftest.o] Error 1
make: *** [_module_/home/kau/zfs_chksm/build] Error 2
configure:31645: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| 
| 
| 		#include <linux/bio.h>
| 
| int
| main (void)
| {
| 
| 		int flags __attribute__ ((unused));
| 		flags = ((1 << BIO_RW_FAILFAST_DEV) |
| 			 (1 << BIO_RW_FAILFAST_TRANSPORT) |
| 			 (1 << BIO_RW_FAILFAST_DRIVER));
| 
|   ;
|   return 0;
| }
| 
configure:31663: result: no
configure:31675: checking whether bio_set_dev() exists
configure:31711: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
/home/kau/zfs_chksm/build/conftest.c: In function ‘main’:
/home/kau/zfs_chksm/build/conftest.c:79:3: error: implicit declaration of function ‘bio_set_dev’ [-Werror=implicit-function-declaration]
   bio_set_dev(bio, bdev);
   ^
cc1: all warnings being treated as errors
make[1]: *** [/home/kau/zfs_chksm/build/conftest.o] Error 1
make: *** [_module_/home/kau/zfs_chksm/build] Error 2
configure:31714: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| 
| 
| 		#include <linux/bio.h>
| 		#include <linux/fs.h>
| 
| int
| main (void)
| {
| 
| 		struct block_device *bdev = NULL;
| 		struct bio *bio = NULL;
| 		bio_set_dev(bio, bdev);
| 
|   ;
|   return 0;
| }
| 
configure:31732: result: no
configure:31743: checking whether bio_set_dev() is GPL-only
configure:31781: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
/home/kau/zfs_chksm/build/conftest.c: In function ‘main’:
/home/kau/zfs_chksm/build/conftest.c:81:3: error: implicit declaration of function ‘bio_set_dev’ [-Werror=implicit-function-declaration]
   bio_set_dev(bio, bdev);
   ^
cc1: all warnings being treated as errors
make[1]: *** [/home/kau/zfs_chksm/build/conftest.o] Error 1
make: *** [_module_/home/kau/zfs_chksm/build] Error 2
configure:31784: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| 
| 
| 		#include <linux/module.h>
| 		#include <linux/bio.h>
| 		#include <linux/fs.h>
| 		MODULE_LICENSE("CDDL");
| 
| int
| main (void)
| {
| 
| 		struct block_device *bdev = NULL;
| 		struct bio *bio = NULL;
| 		bio_set_dev(bio, bdev);
| 
|   ;
|   return 0;
| }
| 
configure:31799: result: yes
configure:31814: checking whether REQ_FAILFAST_MASK is defined
configure:31848: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:31851: $? = 0
configure:31853: test -s build/conftest.o
configure:31856: $? = 0
configure:31859: result: yes
configure:31880: checking whether REQ_OP_DISCARD is defined
configure:31913: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
In file included from /home/kau/zfs_chksm/build/conftest.c:72:0:
include/linux/blk_types.h:118:2: error: expected specifier-qualifier-list before ‘RH_KABI_REPLACE’
  RH_KABI_REPLACE(void *rh_reserved1, struct bio_aux *bio_aux)
  ^
include/linux/blk_types.h: In function ‘blk_path_error’:
include/linux/blk_types.h:313:8: error: ‘EBADE’ undeclared (first use in this function)
  case -EBADE:
        ^
include/linux/blk_types.h:313:8: note: each undeclared identifier is reported only once for each function it appears in
include/linux/blk_types.h:314:8: error: ‘EOPNOTSUPP’ undeclared (first use in this function)
  case -EOPNOTSUPP:
        ^
include/linux/blk_types.h:315:8: error: ‘ENOSPC’ undeclared (first use in this function)
  case -ENOSPC:
        ^
include/linux/blk_types.h:316:8: error: ‘EREMOTEIO’ undeclared (first use in this function)
  case -EREMOTEIO:
        ^
include/linux/blk_types.h:317:8: error: ‘ENODATA’ undeclared (first use in this function)
  case -ENODATA:
        ^
include/linux/blk_types.h:318:8: error: ‘EILSEQ’ undeclared (first use in this function)
  case -EILSEQ:
        ^
make[1]: *** [/home/kau/zfs_chksm/build/conftest.o] Error 1
make: *** [_module_/home/kau/zfs_chksm/build] Error 2
configure:31916: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_BIO_SET_DEV_GPL_ONLY 1
| #define HAVE_REQ_FAILFAST_MASK 1
| 
| 
| 		#include <linux/blk_types.h>
| 
| int
| main (void)
| {
| 
| 		int op __attribute__ ((unused)) = REQ_OP_DISCARD;
| 
|   ;
|   return 0;
| }
| 
configure:31934: result: no
configure:31945: checking whether REQ_OP_SECURE_ERASE is defined
configure:31978: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
In file included from /home/kau/zfs_chksm/build/conftest.c:72:0:
include/linux/blk_types.h:118:2: error: expected specifier-qualifier-list before ‘RH_KABI_REPLACE’
  RH_KABI_REPLACE(void *rh_reserved1, struct bio_aux *bio_aux)
  ^
include/linux/blk_types.h: In function ‘blk_path_error’:
include/linux/blk_types.h:313:8: error: ‘EBADE’ undeclared (first use in this function)
  case -EBADE:
        ^
include/linux/blk_types.h:313:8: note: each undeclared identifier is reported only once for each function it appears in
include/linux/blk_types.h:314:8: error: ‘EOPNOTSUPP’ undeclared (first use in this function)
  case -EOPNOTSUPP:
        ^
include/linux/blk_types.h:315:8: error: ‘ENOSPC’ undeclared (first use in this function)
  case -ENOSPC:
        ^
include/linux/blk_types.h:316:8: error: ‘EREMOTEIO’ undeclared (first use in this function)
  case -EREMOTEIO:
        ^
include/linux/blk_types.h:317:8: error: ‘ENODATA’ undeclared (first use in this function)
  case -ENODATA:
        ^
include/linux/blk_types.h:318:8: error: ‘EILSEQ’ undeclared (first use in this function)
  case -EILSEQ:
        ^
/home/kau/zfs_chksm/build/conftest.c: In function ‘main’:
/home/kau/zfs_chksm/build/conftest.c:78:37: error: ‘REQ_OP_SECURE_ERASE’ undeclared (first use in this function)
   int op __attribute__ ((unused)) = REQ_OP_SECURE_ERASE;
                                     ^
make[1]: *** [/home/kau/zfs_chksm/build/conftest.o] Error 1
make: *** [_module_/home/kau/zfs_chksm/build] Error 2
configure:31981: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_BIO_SET_DEV_GPL_ONLY 1
| #define HAVE_REQ_FAILFAST_MASK 1
| 
| 
| 		#include <linux/blk_types.h>
| 
| int
| main (void)
| {
| 
| 		int op __attribute__ ((unused)) = REQ_OP_SECURE_ERASE;
| 
|   ;
|   return 0;
| }
| 
configure:31999: result: no
configure:32010: checking whether REQ_OP_FLUSH is defined
configure:32043: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
In file included from /home/kau/zfs_chksm/build/conftest.c:72:0:
include/linux/blk_types.h:118:2: error: expected specifier-qualifier-list before ‘RH_KABI_REPLACE’
  RH_KABI_REPLACE(void *rh_reserved1, struct bio_aux *bio_aux)
  ^
include/linux/blk_types.h: In function ‘blk_path_error’:
include/linux/blk_types.h:313:8: error: ‘EBADE’ undeclared (first use in this function)
  case -EBADE:
        ^
include/linux/blk_types.h:313:8: note: each undeclared identifier is reported only once for each function it appears in
include/linux/blk_types.h:314:8: error: ‘EOPNOTSUPP’ undeclared (first use in this function)
  case -EOPNOTSUPP:
        ^
include/linux/blk_types.h:315:8: error: ‘ENOSPC’ undeclared (first use in this function)
  case -ENOSPC:
        ^
include/linux/blk_types.h:316:8: error: ‘EREMOTEIO’ undeclared (first use in this function)
  case -EREMOTEIO:
        ^
include/linux/blk_types.h:317:8: error: ‘ENODATA’ undeclared (first use in this function)
  case -ENODATA:
        ^
include/linux/blk_types.h:318:8: error: ‘EILSEQ’ undeclared (first use in this function)
  case -EILSEQ:
        ^
/home/kau/zfs_chksm/build/conftest.c: In function ‘main’:
/home/kau/zfs_chksm/build/conftest.c:78:37: error: ‘REQ_OP_FLUSH’ undeclared (first use in this function)
   int op __attribute__ ((unused)) = REQ_OP_FLUSH;
                                     ^
make[1]: *** [/home/kau/zfs_chksm/build/conftest.o] Error 1
make: *** [_module_/home/kau/zfs_chksm/build] Error 2
configure:32046: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_BIO_SET_DEV_GPL_ONLY 1
| #define HAVE_REQ_FAILFAST_MASK 1
| 
| 
| 		#include <linux/blk_types.h>
| 
| int
| main (void)
| {
| 
| 		int op __attribute__ ((unused)) = REQ_OP_FLUSH;
| 
|   ;
|   return 0;
| }
| 
configure:32064: result: no
configure:32075: checking whether bio->bi_opf is defined
configure:32109: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
/home/kau/zfs_chksm/build/conftest.c: In function ‘main’:
/home/kau/zfs_chksm/build/conftest.c:79:6: error: ‘struct bio’ has no member named ‘bi_opf’
   bio.bi_opf = 0;
      ^
make[1]: *** [/home/kau/zfs_chksm/build/conftest.o] Error 1
make: *** [_module_/home/kau/zfs_chksm/build] Error 2
configure:32112: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_BIO_SET_DEV_GPL_ONLY 1
| #define HAVE_REQ_FAILFAST_MASK 1
| 
| 
| 		#include <linux/bio.h>
| 
| int
| main (void)
| {
| 
| 		struct bio bio __attribute__ ((unused));
| 		bio.bi_opf = 0;
| 
|   ;
|   return 0;
| }
| 
configure:32130: result: no
configure:32141: checking whether bio_end_io_t wants 1 arg
configure:32177: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
/home/kau/zfs_chksm/build/conftest.c:76:51: error: initialization from incompatible pointer type [-Werror]
   bio_end_io_t *end_io __attribute__ ((unused)) = wanted_end_io;
                                                   ^
cc1: all warnings being treated as errors
make[1]: *** [/home/kau/zfs_chksm/build/conftest.o] Error 1
make: *** [_module_/home/kau/zfs_chksm/build] Error 2
configure:32180: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_BIO_SET_DEV_GPL_ONLY 1
| #define HAVE_REQ_FAILFAST_MASK 1
| 
| 
| 		#include <linux/bio.h>
| 
| 		void wanted_end_io(struct bio *bio) { return; }
| 
| 		bio_end_io_t *end_io __attribute__ ((unused)) = wanted_end_io;
| 
| int
| main (void)
| {
| 
| 
|   ;
|   return 0;
| }
| 
configure:32198: result: no
configure:32209: checking whether bio->bi_status exists
configure:32245: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
/home/kau/zfs_chksm/build/conftest.c: In function ‘main’:
/home/kau/zfs_chksm/build/conftest.c:79:3: error: unknown type name ‘blk_status_t’
   blk_status_t status __attribute__ ((unused)) = BLK_STS_OK;
   ^
/home/kau/zfs_chksm/build/conftest.c:79:50: error: ‘BLK_STS_OK’ undeclared (first use in this function)
   blk_status_t status __attribute__ ((unused)) = BLK_STS_OK;
                                                  ^
/home/kau/zfs_chksm/build/conftest.c:79:50: note: each undeclared identifier is reported only once for each function it appears in
/home/kau/zfs_chksm/build/conftest.c:81:6: error: ‘struct bio’ has no member named ‘bi_status’
   bio.bi_status = status;
      ^
make[1]: *** [/home/kau/zfs_chksm/build/conftest.o] Error 1
make: *** [_module_/home/kau/zfs_chksm/build] Error 2
configure:32248: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_BIO_SET_DEV_GPL_ONLY 1
| #define HAVE_REQ_FAILFAST_MASK 1
| 
| 
| 		#include <linux/bio.h>
| 
| int
| main (void)
| {
| 
| 		struct bio bio __attribute__ ((unused));
| 		blk_status_t status __attribute__ ((unused)) = BLK_STS_OK;
| 
| 		bio.bi_status = status;
| 
|   ;
|   return 0;
| }
| 
configure:32266: result: no
configure:32277: checking whether BIO_RW_BARRIER is defined
configure:32311: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
/home/kau/zfs_chksm/build/conftest.c: In function ‘main’:
/home/kau/zfs_chksm/build/conftest.c:79:11: error: ‘BIO_RW_BARRIER’ undeclared (first use in this function)
   flags = BIO_RW_BARRIER;
           ^
/home/kau/zfs_chksm/build/conftest.c:79:11: note: each undeclared identifier is reported only once for each function it appears in
make[1]: *** [/home/kau/zfs_chksm/build/conftest.o] Error 1
make: *** [_module_/home/kau/zfs_chksm/build] Error 2
configure:32314: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_BIO_SET_DEV_GPL_ONLY 1
| #define HAVE_REQ_FAILFAST_MASK 1
| 
| 
| 		#include <linux/bio.h>
| 
| int
| main (void)
| {
| 
| 		int flags __attribute__ ((unused));
| 		flags = BIO_RW_BARRIER;
| 
|   ;
|   return 0;
| }
| 
configure:32332: result: no
configure:32343: checking whether BIO_RW_DISCARD is defined
configure:32377: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
/home/kau/zfs_chksm/build/conftest.c: In function ‘main’:
/home/kau/zfs_chksm/build/conftest.c:79:11: error: ‘BIO_RW_DISCARD’ undeclared (first use in this function)
   flags = BIO_RW_DISCARD;
           ^
/home/kau/zfs_chksm/build/conftest.c:79:11: note: each undeclared identifier is reported only once for each function it appears in
make[1]: *** [/home/kau/zfs_chksm/build/conftest.o] Error 1
make: *** [_module_/home/kau/zfs_chksm/build] Error 2
configure:32380: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_BIO_SET_DEV_GPL_ONLY 1
| #define HAVE_REQ_FAILFAST_MASK 1
| 
| 
| 		#include <linux/bio.h>
| 
| int
| main (void)
| {
| 
| 		int flags __attribute__ ((unused));
| 		flags = BIO_RW_DISCARD;
| 
|   ;
|   return 0;
| }
| 
configure:32398: result: no
configure:32409: checking whether blk_queue bdi is dynamic
configure:32444: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
/home/kau/zfs_chksm/build/conftest.c: In function ‘main’:
/home/kau/zfs_chksm/build/conftest.c:80:22: error: incompatible types when assigning to type ‘struct backing_dev_info’ from type ‘struct backing_dev_info *’
   q.backing_dev_info = &bdi;
                      ^
make[1]: *** [/home/kau/zfs_chksm/build/conftest.o] Error 1
make: *** [_module_/home/kau/zfs_chksm/build] Error 2
configure:32447: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_BIO_SET_DEV_GPL_ONLY 1
| #define HAVE_REQ_FAILFAST_MASK 1
| 
| 
| 		#include <linux/blkdev.h>
| 
| int
| main (void)
| {
| 
| 		struct request_queue q;
| 		struct backing_dev_info bdi;
| 		q.backing_dev_info = &bdi;
| 
|   ;
|   return 0;
| }
| 
configure:32465: result: no
configure:32476: checking whether blk_queue_flag_clear() exists
configure:32511: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
/home/kau/zfs_chksm/build/conftest.c: In function ‘main’:
/home/kau/zfs_chksm/build/conftest.c:80:3: error: implicit declaration of function ‘blk_queue_flag_clear’ [-Werror=implicit-function-declaration]
   blk_queue_flag_clear(0, q);
   ^
cc1: all warnings being treated as errors
make[1]: *** [/home/kau/zfs_chksm/build/conftest.o] Error 1
make: *** [_module_/home/kau/zfs_chksm/build] Error 2
configure:32514: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_BIO_SET_DEV_GPL_ONLY 1
| #define HAVE_REQ_FAILFAST_MASK 1
| 
| 
| 		#include <linux/kernel.h>
| 		#include <linux/blkdev.h>
| 
| int
| main (void)
| {
| 
| 		struct request_queue *q = NULL;
| 		blk_queue_flag_clear(0, q);
| 
|   ;
|   return 0;
| }
| 
configure:32533: result: no
configure:32544: checking whether blk_queue_flag_set() exists
configure:32579: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
/home/kau/zfs_chksm/build/conftest.c: In function ‘main’:
/home/kau/zfs_chksm/build/conftest.c:80:3: error: implicit declaration of function ‘blk_queue_flag_set’ [-Werror=implicit-function-declaration]
   blk_queue_flag_set(0, q);
   ^
cc1: all warnings being treated as errors
make[1]: *** [/home/kau/zfs_chksm/build/conftest.o] Error 1
make: *** [_module_/home/kau/zfs_chksm/build] Error 2
configure:32582: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_BIO_SET_DEV_GPL_ONLY 1
| #define HAVE_REQ_FAILFAST_MASK 1
| 
| 
| 		#include <linux/kernel.h>
| 		#include <linux/blkdev.h>
| 
| int
| main (void)
| {
| 
| 		struct request_queue *q = NULL;
| 		blk_queue_flag_set(0, q);
| 
|   ;
|   return 0;
| }
| 
configure:32600: result: no
configure:32611: checking whether blk_queue_flush() is available
configure:32647: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024 -Wno-unused-but-set-variable  M=/home/kau/zfs_chksm/build 
configure:32650: $? = 0
configure:32652: test -s build/conftest.o
configure:32655: $? = 0
configure:32658: result: yes
configure:32664: checking whether blk_queue_flush() is GPL-only
configure:32701: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024 -Wno-unused-but-set-variable  M=/home/kau/zfs_chksm/build 
FATAL: modpost: GPL-incompatible module conftest.ko uses GPL-only symbol 'blk_queue_flush'
make[1]: *** [__modpost] Error 1
make: *** [modules] Error 2
configure:32704: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_BIO_SET_DEV_GPL_ONLY 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| 
| 
| 			#include <linux/module.h>
| 			#include <linux/blkdev.h>
| 
| 			MODULE_LICENSE("CDDL");
| 
| int
| main (void)
| {
| 
| 			struct request_queue *q = NULL;
| 			(void) blk_queue_flush(q, REQ_FLUSH);
| 
|   ;
|   return 0;
| }
| 
configure:32719: result: yes
configure:32746: checking whether blk_queue_write_cache() exists
configure:32782: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024 -Wno-unused-but-set-variable  M=/home/kau/zfs_chksm/build 
/home/kau/zfs_chksm/build/conftest.c: In function ‘main’:
/home/kau/zfs_chksm/build/conftest.c:83:3: error: implicit declaration of function ‘blk_queue_write_cache’ [-Werror=implicit-function-declaration]
   blk_queue_write_cache(q, true, true);
   ^
cc1: all warnings being treated as errors
make[1]: *** [/home/kau/zfs_chksm/build/conftest.o] Error 1
make: *** [_module_/home/kau/zfs_chksm/build] Error 2
configure:32785: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_BIO_SET_DEV_GPL_ONLY 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| 
| 
| 		#include <linux/kernel.h>
| 		#include <linux/blkdev.h>
| 
| 
| int
| main (void)
| {
| 
| 		struct request_queue *q = NULL;
| 		blk_queue_write_cache(q, true, true);
| 
|   ;
|   return 0;
| }
| 
configure:32872: result: no
configure:32885: checking whether blk_queue_max_hw_sectors() is available
configure:32921: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024 -Wno-unused-but-set-variable  M=/home/kau/zfs_chksm/build 
configure:32924: $? = 0
configure:32926: test -s build/conftest.o
configure:32929: $? = 0
configure:32932: result: yes
configure:32954: checking whether blk_queue_max_segments() is available
configure:32990: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024 -Wno-unused-but-set-variable  M=/home/kau/zfs_chksm/build 
configure:32993: $? = 0
configure:32995: test -s build/conftest.o
configure:32998: $? = 0
configure:33001: result: yes
configure:33023: checking whether the BIO_RW_UNPLUG enum is available
configure:33060: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024 -Wno-unused-but-set-variable  M=/home/kau/zfs_chksm/build 
/home/kau/zfs_chksm/build/conftest.c: In function ‘main’:
/home/kau/zfs_chksm/build/conftest.c:84:8: error: ‘BIO_RW_UNPLUG’ undeclared (first use in this function)
   rw = BIO_RW_UNPLUG;
        ^
/home/kau/zfs_chksm/build/conftest.c:84:8: note: each undeclared identifier is reported only once for each function it appears in
/home/kau/zfs_chksm/build/conftest.c:84:3: error: ‘rw’ has an incomplete type
   rw = BIO_RW_UNPLUG;
   ^
make[1]: *** [/home/kau/zfs_chksm/build/conftest.o] Error 1
make: *** [_module_/home/kau/zfs_chksm/build] Error 2
configure:33063: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_BIO_SET_DEV_GPL_ONLY 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| 
| 
| 		#include <linux/blkdev.h>
| 
| int
| main (void)
| {
| 
| 		extern enum bio_rw_flags rw;
| 
| 		rw = BIO_RW_UNPLUG;
| 
|   ;
|   return 0;
| }
| 
configure:33081: result: no
configure:33093: checking whether struct blk_plug is available
configure:33131: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024 -Wno-unused-but-set-variable  M=/home/kau/zfs_chksm/build 
configure:33134: $? = 0
configure:33136: test -s build/conftest.o
configure:33139: $? = 0
configure:33142: result: yes
configure:33163: checking whether get_disk_and_module() is available
configure:33198: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
/home/kau/zfs_chksm/build/conftest.c: In function ‘main’:
/home/kau/zfs_chksm/build/conftest.c:84:3: error: implicit declaration of function ‘get_disk_and_module’ [-Werror=implicit-function-declaration]
   (void) get_disk_and_module(disk);
   ^
cc1: all warnings being treated as errors
make[1]: *** [/home/kau/zfs_chksm/build/conftest.o] Error 1
make: *** [_module_/home/kau/zfs_chksm/build] Error 2
configure:33201: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_BIO_SET_DEV_GPL_ONLY 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| 
| 
| 		#include <linux/genhd.h>
| 
| int
| main (void)
| {
| 
| 		struct gendisk *disk = NULL;
| 		(void) get_disk_and_module(disk);
| 
|   ;
|   return 0;
| }
| 
configure:33221: result: no
configure:33269: checking whether get_disk_ro() is available
configure:33305: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024 -Wno-unused-but-set-variable  M=/home/kau/zfs_chksm/build 
configure:33308: $? = 0
configure:33310: test -s build/conftest.o
configure:33313: $? = 0
configure:33316: result: yes
configure:33337: checking whether get_gendisk() is available
configure:33371: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:33374: $? = 0
configure:33376: test -s build/conftest.o
configure:33379: $? = 0
configure:33431: result: yes
configure:33442: checking whether bio_set_op_attrs is available
configure:33477: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:33480: $? = 0
configure:33482: test -s build/conftest.o
configure:33485: $? = 0
configure:33488: result: yes
configure:33509: checking whether generic_readlink is global
configure:33544: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:33547: $? = 0
configure:33549: test -s build/conftest.o
configure:33552: $? = 0
configure:33555: result: yes
configure:33576: checking whether ql->discard_granularity is available
configure:33611: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:33614: $? = 0
configure:33616: test -s build/conftest.o
configure:33619: $? = 0
configure:33622: result: yes
configure:33643: checking whether super_block uses const struct xattr_handler
configure:33690: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:33693: $? = 0
configure:33695: test -s build/conftest.o
configure:33698: $? = 0
configure:33701: result: yes
configure:33722: checking whether xattr_handler has name
configure:33759: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
/home/kau/zfs_chksm/build/conftest.c:87:4: error: unknown field ‘name’ specified in initializer
    .name = XATTR_NAME_POSIX_ACL_ACCESS,
    ^
make[1]: *** [/home/kau/zfs_chksm/build/conftest.o] Error 1
make: *** [_module_/home/kau/zfs_chksm/build] Error 2
configure:33762: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_BIO_SET_DEV_GPL_ONLY 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| 
| 
| 		#include <linux/xattr.h>
| 
| 		static const struct xattr_handler
| 		    xops __attribute__ ((unused)) = {
| 			.name = XATTR_NAME_POSIX_ACL_ACCESS,
| 		};
| 
| int
| main (void)
| {
| 
| 
|   ;
|   return 0;
| }
| 
configure:33780: result: no
configure:33791: checking whether xattr_handler->get() wants both dentry and inode
configure:33831: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
/home/kau/zfs_chksm/build/conftest.c:90:4: error: initialization from incompatible pointer type [-Werror]
    .get = get,
    ^
/home/kau/zfs_chksm/build/conftest.c:90:4: error: (near initialization for ‘xops.get’) [-Werror]
cc1: all warnings being treated as errors
make[1]: *** [/home/kau/zfs_chksm/build/conftest.o] Error 1
make: *** [_module_/home/kau/zfs_chksm/build] Error 2
configure:33834: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_BIO_SET_DEV_GPL_ONLY 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| 
| 
| 		#include <linux/xattr.h>
| 
| 		int get(const struct xattr_handler *handler,
| 		    struct dentry *dentry, struct inode *inode,
| 		    const char *name, void *buffer, size_t size) { return 0; }
| 		static const struct xattr_handler
| 		    xops __attribute__ ((unused)) = {
| 			.get = get,
| 		};
| 
| int
| main (void)
| {
| 
| 
|   ;
|   return 0;
| }
| 
configure:33852: result: no
configure:33854: checking whether xattr_handler->get() wants xattr_handler
configure:33894: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
/home/kau/zfs_chksm/build/conftest.c:90:5: error: initialization from incompatible pointer type [-Werror]
     .get = get,
     ^
/home/kau/zfs_chksm/build/conftest.c:90:5: error: (near initialization for ‘xops.get’) [-Werror]
cc1: all warnings being treated as errors
make[1]: *** [/home/kau/zfs_chksm/build/conftest.o] Error 1
make: *** [_module_/home/kau/zfs_chksm/build] Error 2
configure:33897: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_BIO_SET_DEV_GPL_ONLY 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| 
| 
| 			#include <linux/xattr.h>
| 
| 			int get(const struct xattr_handler *handler,
| 			    struct dentry *dentry, const char *name,
| 			    void *buffer, size_t size) { return 0; }
| 			static const struct xattr_handler
| 			    xops __attribute__ ((unused)) = {
| 				.get = get,
| 			};
| 
| int
| main (void)
| {
| 
| 
|   ;
|   return 0;
| }
| 
configure:33915: result: no
configure:33917: checking whether xattr_handler->get() wants dentry
configure:33957: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:33960: $? = 0
configure:33962: test -s build/conftest.o
configure:33965: $? = 0
configure:33968: result: yes
configure:34071: checking whether xattr_handler->set() wants both dentry and inode
configure:34113: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
/home/kau/zfs_chksm/build/conftest.c:93:4: error: initialization from incompatible pointer type [-Werror]
    .set = set,
    ^
/home/kau/zfs_chksm/build/conftest.c:93:4: error: (near initialization for ‘xops.set’) [-Werror]
cc1: all warnings being treated as errors
make[1]: *** [/home/kau/zfs_chksm/build/conftest.o] Error 1
make: *** [_module_/home/kau/zfs_chksm/build] Error 2
configure:34116: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_BIO_SET_DEV_GPL_ONLY 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| 
| 
| 		#include <linux/xattr.h>
| 
| 		int set(const struct xattr_handler *handler,
| 		    struct dentry *dentry, struct inode *inode,
| 		    const char *name, const void *buffer,
| 		    size_t size, int flags)
| 		    { return 0; }
| 		static const struct xattr_handler
| 		    xops __attribute__ ((unused)) = {
| 			.set = set,
| 		};
| 
| int
| main (void)
| {
| 
| 
|   ;
|   return 0;
| }
| 
configure:34134: result: no
configure:34136: checking whether xattr_handler->set() wants xattr_handler
configure:34177: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
/home/kau/zfs_chksm/build/conftest.c:92:5: error: initialization from incompatible pointer type [-Werror]
     .set = set,
     ^
/home/kau/zfs_chksm/build/conftest.c:92:5: error: (near initialization for ‘xops.set’) [-Werror]
cc1: all warnings being treated as errors
make[1]: *** [/home/kau/zfs_chksm/build/conftest.o] Error 1
make: *** [_module_/home/kau/zfs_chksm/build] Error 2
configure:34180: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_BIO_SET_DEV_GPL_ONLY 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| 
| 
| 			#include <linux/xattr.h>
| 
| 			int set(const struct xattr_handler *handler,
| 			    struct dentry *dentry, const char *name,
| 			    const void *buffer, size_t size, int flags)
| 			    { return 0; }
| 			static const struct xattr_handler
| 			    xops __attribute__ ((unused)) = {
| 				.set = set,
| 			};
| 
| int
| main (void)
| {
| 
| 
|   ;
|   return 0;
| }
| 
configure:34198: result: no
configure:34200: checking whether xattr_handler->set() wants dentry
configure:34240: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:34243: $? = 0
configure:34245: test -s build/conftest.o
configure:34248: $? = 0
configure:34251: result: yes
configure:34355: checking whether xattr_handler->list() wants simple
configure:34393: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
/home/kau/zfs_chksm/build/conftest.c:90:4: error: initialization from incompatible pointer type [-Werror]
    .list = list,
    ^
/home/kau/zfs_chksm/build/conftest.c:90:4: error: (near initialization for ‘xops.list’) [-Werror]
cc1: all warnings being treated as errors
make[1]: *** [/home/kau/zfs_chksm/build/conftest.o] Error 1
make: *** [_module_/home/kau/zfs_chksm/build] Error 2
configure:34396: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_BIO_SET_DEV_GPL_ONLY 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| 
| 
| 		#include <linux/xattr.h>
| 
| 		bool list(struct dentry *dentry) { return 0; }
| 		static const struct xattr_handler
| 		    xops __attribute__ ((unused)) = {
| 			.list = list,
| 		};
| 
| int
| main (void)
| {
| 
| 
|   ;
|   return 0;
| }
| 
configure:34414: result: no
configure:34416: checking whether xattr_handler->list() wants xattr_handler
configure:34456: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
/home/kau/zfs_chksm/build/conftest.c:92:5: error: initialization from incompatible pointer type [-Werror]
     .list = list,
     ^
/home/kau/zfs_chksm/build/conftest.c:92:5: error: (near initialization for ‘xops.list’) [-Werror]
cc1: all warnings being treated as errors
make[1]: *** [/home/kau/zfs_chksm/build/conftest.o] Error 1
make: *** [_module_/home/kau/zfs_chksm/build] Error 2
configure:34459: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_BIO_SET_DEV_GPL_ONLY 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| 
| 
| 			#include <linux/xattr.h>
| 
| 			size_t list(const struct xattr_handler *handler,
| 			    struct dentry *dentry, char *list, size_t list_size,
| 			    const char *name, size_t name_len) { return 0; }
| 			static const struct xattr_handler
| 			    xops __attribute__ ((unused)) = {
| 				.list = list,
| 			};
| 
| int
| main (void)
| {
| 
| 
|   ;
|   return 0;
| }
| 
configure:34477: result: no
configure:34479: checking whether xattr_handler->list() wants dentry
configure:34520: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:34523: $? = 0
configure:34525: test -s build/conftest.o
configure:34528: $? = 0
configure:34531: result: yes
configure:34635: checking whether inode_owner_or_capable() exists
configure:34669: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:34672: $? = 0
configure:34674: test -s build/conftest.o
configure:34677: $? = 0
configure:34680: result: yes
configure:34766: checking whether posix_acl_from_xattr() needs user_ns
configure:34801: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:34804: $? = 0
configure:34806: test -s build/conftest.o
configure:34809: $? = 0
configure:34812: result: yes
configure:34833: checking whether posix_acl_release() is available
configure:34869: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:34872: $? = 0
configure:34874: test -s build/conftest.o
configure:34877: $? = 0
configure:34880: result: yes
configure:34886: checking whether posix_acl_release() is GPL-only
configure:34925: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
FATAL: modpost: GPL-incompatible module conftest.ko uses GPL-only symbol 'kfree_call_rcu'
make[1]: *** [__modpost] Error 1
make: *** [modules] Error 2
configure:34928: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_BIO_SET_DEV_GPL_ONLY 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| 
| 
| 			#include <linux/module.h>
| 			#include <linux/cred.h>
| 			#include <linux/fs.h>
| 			#include <linux/posix_acl.h>
| 
| 			MODULE_LICENSE("CDDL");
| 
| int
| main (void)
| {
| 
| 			struct posix_acl* tmp = posix_acl_alloc(1, 0);
| 			posix_acl_release(tmp);
| 
|   ;
|   return 0;
| }
| 
configure:34943: result: yes
configure:34971: checking whether set_cached_acl() is usable
configure:35012: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
FATAL: modpost: GPL-incompatible module conftest.ko uses GPL-only symbol 'kfree_call_rcu'
make[1]: *** [__modpost] Error 1
make: *** [modules] Error 2
configure:35015: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_BIO_SET_DEV_GPL_ONLY 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| 
| 
| 		#include <linux/module.h>
| 		#include <linux/cred.h>
| 		#include <linux/fs.h>
| 		#include <linux/posix_acl.h>
| 
| 		MODULE_LICENSE("CDDL");
| 
| int
| main (void)
| {
| 
| 		struct inode *ip = NULL;
| 		struct posix_acl *acl = posix_acl_alloc(1, 0);
| 		set_cached_acl(ip, ACL_TYPE_ACCESS, acl);
| 		forget_cached_acl(ip, ACL_TYPE_ACCESS);
| 
|   ;
|   return 0;
| }
| 
configure:35033: result: no
configure:35044: checking whether posix_acl_chmod exists
configure:35078: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:35081: $? = 0
configure:35083: test -s build/conftest.o
configure:35086: $? = 0
configure:35089: result: yes
configure:35109: checking whether __posix_acl_chmod exists
configure:35143: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
/home/kau/zfs_chksm/build/conftest.c: In function ‘main’:
/home/kau/zfs_chksm/build/conftest.c:98:3: error: implicit declaration of function ‘__posix_acl_chmod’ [-Werror=implicit-function-declaration]
   __posix_acl_chmod(NULL, 0, 0)
   ^
cc1: all warnings being treated as errors
make[1]: *** [/home/kau/zfs_chksm/build/conftest.o] Error 1
make: *** [_module_/home/kau/zfs_chksm/build] Error 2
configure:35146: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_BIO_SET_DEV_GPL_ONLY 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| 
| 
| 		#include <linux/fs.h>
| 		#include <linux/posix_acl.h>
| 
| int
| main (void)
| {
| 
| 		__posix_acl_chmod(NULL, 0, 0)
| 
|   ;
|   return 0;
| }
| 
configure:35164: result: no
configure:35175: checking whether posix_acl_equiv_mode() wants umode_t
configure:35210: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:35213: $? = 0
configure:35215: test -s build/conftest.o
configure:35218: $? = 0
configure:35221: result: yes
configure:35242: checking whether posix_acl_valid() wants user namespace
configure:35280: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
/home/kau/zfs_chksm/build/conftest.c: In function ‘main’:
/home/kau/zfs_chksm/build/conftest.c:103:3: error: passing argument 1 of ‘posix_acl_valid’ from incompatible pointer type [-Werror]
   error = posix_acl_valid(user_ns, acl);
   ^
In file included from /home/kau/zfs_chksm/build/conftest.c:93:0:
include/linux/posix_acl.h:87:12: note: expected ‘const struct posix_acl *’ but argument is of type ‘struct user_namespace *’
 extern int posix_acl_valid(const struct posix_acl *);
            ^
/home/kau/zfs_chksm/build/conftest.c:103:3: error: too many arguments to function ‘posix_acl_valid’
   error = posix_acl_valid(user_ns, acl);
   ^
In file included from /home/kau/zfs_chksm/build/conftest.c:93:0:
include/linux/posix_acl.h:87:12: note: declared here
 extern int posix_acl_valid(const struct posix_acl *);
            ^
cc1: all warnings being treated as errors
make[1]: *** [/home/kau/zfs_chksm/build/conftest.o] Error 1
make: *** [_module_/home/kau/zfs_chksm/build] Error 2
configure:35283: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_BIO_SET_DEV_GPL_ONLY 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| 
| 
| 		#include <linux/fs.h>
| 		#include <linux/posix_acl.h>
| 
| int
| main (void)
| {
| 
| 		struct user_namespace *user_ns = NULL;
| 		const struct posix_acl *acl = NULL;
| 		int error;
| 
| 		error = posix_acl_valid(user_ns, acl);
| 
|   ;
|   return 0;
| }
| 
configure:35301: result: no
configure:35312: checking whether iops->permission() exists
configure:35351: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:35354: $? = 0
configure:35356: test -s build/conftest.o
configure:35359: $? = 0
configure:35362: result: yes
configure:35383: checking whether iops->permission() wants nameidata
configure:35424: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
/home/kau/zfs_chksm/build/conftest.c:101:4: error: initialization from incompatible pointer type [-Werror]
    .permission = permission_fn,
    ^
/home/kau/zfs_chksm/build/conftest.c:101:4: error: (near initialization for ‘iops.permission’) [-Werror]
cc1: all warnings being treated as errors
make[1]: *** [/home/kau/zfs_chksm/build/conftest.o] Error 1
make: *** [_module_/home/kau/zfs_chksm/build] Error 2
configure:35427: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_BIO_SET_DEV_GPL_ONLY 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| 
| 
| 		#include <linux/fs.h>
| 		#include <linux/sched.h>
| 
| 		int permission_fn(struct inode *inode, int mask,
| 		    struct nameidata *nd) { return 0; }
| 
| 		static const struct inode_operations
| 		    iops __attribute__ ((unused)) = {
| 			.permission = permission_fn,
| 		};
| 
| int
| main (void)
| {
| 
| 
|   ;
|   return 0;
| }
| 
configure:35448: result: no
configure:35459: checking whether iops->check_acl() exists
configure:35498: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
/home/kau/zfs_chksm/build/conftest.c:99:4: error: unknown field ‘check_acl’ specified in initializer
    .check_acl = check_acl_fn,
    ^
/home/kau/zfs_chksm/build/conftest.c:99:4: error: initialization from incompatible pointer type [-Werror]
/home/kau/zfs_chksm/build/conftest.c:99:4: error: (near initialization for ‘iops.lookup’) [-Werror]
cc1: all warnings being treated as errors
make[1]: *** [/home/kau/zfs_chksm/build/conftest.o] Error 1
make: *** [_module_/home/kau/zfs_chksm/build] Error 2
configure:35501: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_BIO_SET_DEV_GPL_ONLY 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| 
| 
| 		#include <linux/fs.h>
| 
| 		int check_acl_fn(struct inode *inode, int mask) { return 0; }
| 
| 		static const struct inode_operations
| 		    iops __attribute__ ((unused)) = {
| 			.check_acl = check_acl_fn,
| 		};
| 
| int
| main (void)
| {
| 
| 
|   ;
|   return 0;
| }
| 
configure:35519: result: no
configure:35530: checking whether iops->check_acl() wants flags
configure:35570: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
/home/kau/zfs_chksm/build/conftest.c:100:4: error: unknown field ‘check_acl’ specified in initializer
    .check_acl = check_acl_fn,
    ^
/home/kau/zfs_chksm/build/conftest.c:100:4: error: initialization from incompatible pointer type [-Werror]
/home/kau/zfs_chksm/build/conftest.c:100:4: error: (near initialization for ‘iops.lookup’) [-Werror]
cc1: all warnings being treated as errors
make[1]: *** [/home/kau/zfs_chksm/build/conftest.o] Error 1
make: *** [_module_/home/kau/zfs_chksm/build] Error 2
configure:35573: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_BIO_SET_DEV_GPL_ONLY 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| 
| 
| 		#include <linux/fs.h>
| 
| 		int check_acl_fn(struct inode *inode, int mask,
| 		    unsigned int flags) { return 0; }
| 
| 		static const struct inode_operations
| 		    iops __attribute__ ((unused)) = {
| 			.check_acl = check_acl_fn,
| 		};
| 
| int
| main (void)
| {
| 
| 
|   ;
|   return 0;
| }
| 
configure:35594: result: no
configure:35605: checking whether iops->get_acl() exists
configure:35645: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:35648: $? = 0
configure:35650: test -s build/conftest.o
configure:35653: $? = 0
configure:35656: result: yes
configure:35677: checking whether iops->set_acl() exists
configure:35717: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
/home/kau/zfs_chksm/build/conftest.c:101:4: error: unknown field ‘set_acl’ specified in initializer
    .set_acl = set_acl_fn,
    ^
/home/kau/zfs_chksm/build/conftest.c:101:4: error: initialization from incompatible pointer type [-Werror]
/home/kau/zfs_chksm/build/conftest.c:101:4: error: (near initialization for ‘iops.lookup’) [-Werror]
cc1: all warnings being treated as errors
make[1]: *** [/home/kau/zfs_chksm/build/conftest.o] Error 1
make: *** [_module_/home/kau/zfs_chksm/build] Error 2
configure:35720: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_BIO_SET_DEV_GPL_ONLY 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| #define HAVE_GET_ACL 1
| 
| 
| 		#include <linux/fs.h>
| 
| 		int set_acl_fn(struct inode *inode, struct posix_acl *acl, int type)
| 		    { return 0; }
| 
| 		static const struct inode_operations
| 		    iops __attribute__ ((unused)) = {
| 			.set_acl = set_acl_fn,
| 		};
| 
| int
| main (void)
| {
| 
| 
|   ;
|   return 0;
| }
| 
configure:35738: result: no
configure:35750: checking whether iops->getattr() takes a path
configure:35792: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
/home/kau/zfs_chksm/build/conftest.c:103:4: error: initialization from incompatible pointer type [-Werror]
    .getattr = test_getattr,
    ^
/home/kau/zfs_chksm/build/conftest.c:103:4: error: (near initialization for ‘iops.getattr’) [-Werror]
cc1: all warnings being treated as errors
make[1]: *** [/home/kau/zfs_chksm/build/conftest.o] Error 1
make: *** [_module_/home/kau/zfs_chksm/build] Error 2
configure:35795: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_BIO_SET_DEV_GPL_ONLY 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| #define HAVE_GET_ACL 1
| 
| 
| 		#include <linux/fs.h>
| 
| 		int test_getattr(
| 		    const struct path *p, struct kstat *k,
| 		    u32 request_mask, unsigned int query_flags)
| 		    { return 0; }
| 
| 		static const struct inode_operations
| 		    iops __attribute__ ((unused)) = {
| 			.getattr = test_getattr,
| 		};
| 
| int
| main (void)
| {
| 
| 
|   ;
|   return 0;
| }
| 
configure:35813: result: no
configure:35824: checking whether iops->getattr() takes a vfsmount
configure:35866: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:35869: $? = 0
configure:35871: test -s build/conftest.o
configure:35874: $? = 0
configure:35877: result: yes
configure:35899: checking whether inode_set_flags() exists
configure:35933: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:35936: $? = 0
configure:35938: test -s build/conftest.o
configure:35941: $? = 0
configure:35944: result: yes
configure:35965: checking whether inode_set_iversion() exists
configure:35999: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
/home/kau/zfs_chksm/build/conftest.c:96:30: fatal error: linux/iversion.h: No such file or directory
   #include <linux/iversion.h>
                              ^
compilation terminated.
make[1]: *** [/home/kau/zfs_chksm/build/conftest.o] Error 1
make: *** [_module_/home/kau/zfs_chksm/build] Error 2
configure:36002: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_BIO_SET_DEV_GPL_ONLY 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| #define HAVE_GET_ACL 1
| #define HAVE_VFSMOUNT_IOPS_GETATTR 1
| #define HAVE_INODE_SET_FLAGS 1
| 
| 
| 		#include <linux/iversion.h>
| 
| int
| main (void)
| {
| 
| 		struct inode inode;
| 		inode_set_iversion(&inode, 1);
| 
|   ;
|   return 0;
| }
| 
configure:36020: result: no
configure:36031: checking whether uncached_acl_sentinel() exists
configure:36064: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
/home/kau/zfs_chksm/build/conftest.c: In function ‘main’:
/home/kau/zfs_chksm/build/conftest.c:102:3: error: implicit declaration of function ‘uncached_acl_sentinel’ [-Werror=implicit-function-declaration]
   void *sentinel __attribute__ ((unused)) = uncached_acl_sentinel(NULL);
   ^
/home/kau/zfs_chksm/build/conftest.c:102:45: error: initialization makes pointer from integer without a cast [-Werror]
   void *sentinel __attribute__ ((unused)) = uncached_acl_sentinel(NULL);
                                             ^
cc1: all warnings being treated as errors
make[1]: *** [/home/kau/zfs_chksm/build/conftest.o] Error 1
make: *** [_module_/home/kau/zfs_chksm/build] Error 2
configure:36067: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_BIO_SET_DEV_GPL_ONLY 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| #define HAVE_GET_ACL 1
| #define HAVE_VFSMOUNT_IOPS_GETATTR 1
| #define HAVE_INODE_SET_FLAGS 1
| 
| 
| 		#include <linux/fs.h>
| 
| int
| main (void)
| {
| 
| 		void *sentinel __attribute__ ((unused)) = uncached_acl_sentinel(NULL);
| 
|   ;
|   return 0;
| }
| 
configure:36085: result: no
configure:36096: checking whether sops->show_options() wants dentry
configure:36134: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:36137: $? = 0
configure:36139: test -s build/conftest.o
configure:36142: $? = 0
configure:36145: result: yes
configure:36166: checking whether file_inode() is available
configure:36200: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:36203: $? = 0
configure:36205: test -s build/conftest.o
configure:36208: $? = 0
configure:36211: result: yes
configure:36232: checking whether file_dentry() is available
configure:36266: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:36269: $? = 0
configure:36271: test -s build/conftest.o
configure:36274: $? = 0
configure:36277: result: yes
configure:36298: checking whether fops->fsync() wants
configure:36339: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
/home/kau/zfs_chksm/build/conftest.c:106:4: error: initialization from incompatible pointer type [-Werror]
    .fsync = test_fsync,
    ^
/home/kau/zfs_chksm/build/conftest.c:106:4: error: (near initialization for ‘fops.fsync’) [-Werror]
cc1: all warnings being treated as errors
make[1]: *** [/home/kau/zfs_chksm/build/conftest.o] Error 1
make: *** [_module_/home/kau/zfs_chksm/build] Error 2
configure:36342: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_BIO_SET_DEV_GPL_ONLY 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| #define HAVE_GET_ACL 1
| #define HAVE_VFSMOUNT_IOPS_GETATTR 1
| #define HAVE_INODE_SET_FLAGS 1
| #define HAVE_SHOW_OPTIONS_WITH_DENTRY 1
| #define HAVE_FILE_INODE 1
| #define HAVE_FILE_DENTRY 1
| 
| 
| 		#include <linux/fs.h>
| 
| 		int test_fsync(struct file *f, struct dentry *dentry, int x)
| 		    { return 0; }
| 
| 		static const struct file_operations
| 		    fops __attribute__ ((unused)) = {
| 			.fsync = test_fsync,
| 		};
| 
| int
| main (void)
| {
| 
| 
|   ;
|   return 0;
| }
| 
configure:36406: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
/home/kau/zfs_chksm/build/conftest.c:105:4: error: initialization from incompatible pointer type [-Werror]
    .fsync = test_fsync,
    ^
/home/kau/zfs_chksm/build/conftest.c:105:4: error: (near initialization for ‘fops.fsync’) [-Werror]
cc1: all warnings being treated as errors
make[1]: *** [/home/kau/zfs_chksm/build/conftest.o] Error 1
make: *** [_module_/home/kau/zfs_chksm/build] Error 2
configure:36409: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_BIO_SET_DEV_GPL_ONLY 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| #define HAVE_GET_ACL 1
| #define HAVE_VFSMOUNT_IOPS_GETATTR 1
| #define HAVE_INODE_SET_FLAGS 1
| #define HAVE_SHOW_OPTIONS_WITH_DENTRY 1
| #define HAVE_FILE_INODE 1
| #define HAVE_FILE_DENTRY 1
| 
| 
| 		#include <linux/fs.h>
| 
| 		int test_fsync(struct file *f, int x) { return 0; }
| 
| 		static const struct file_operations
| 		    fops __attribute__ ((unused)) = {
| 			.fsync = test_fsync,
| 		};
| 
| int
| main (void)
| {
| 
| 
|   ;
|   return 0;
| }
| 
configure:36474: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:36477: $? = 0
configure:36479: test -s build/conftest.o
configure:36482: $? = 0
configure:36485: result: range
configure:36505: checking whether sops->evict_inode() exists
configure:36541: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:36544: $? = 0
configure:36546: test -s build/conftest.o
configure:36549: $? = 0
configure:36552: result: yes
configure:36573: checking whether sops->dirty_inode() wants flags
configure:36612: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:36615: $? = 0
configure:36617: test -s build/conftest.o
configure:36620: $? = 0
configure:36623: result: yes
configure:36644: checking whether sops->nr_cached_objects() exists
configure:36683: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:36686: $? = 0
configure:36688: test -s build/conftest.o
configure:36691: $? = 0
configure:36694: result: yes
configure:36715: checking whether sops->free_cached_objects() exists
configure:36755: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:36758: $? = 0
configure:36760: test -s build/conftest.o
configure:36763: $? = 0
configure:36766: result: yes
configure:36788: checking whether fops->fallocate() exists
configure:36828: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:36831: $? = 0
configure:36833: test -s build/conftest.o
configure:36836: $? = 0
configure:36839: result: yes
configure:36860: checking whether iops->fallocate() exists
configure:36900: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
/home/kau/zfs_chksm/build/conftest.c:112:4: error: unknown field ‘fallocate’ specified in initializer
    .fallocate = test_fallocate,
    ^
/home/kau/zfs_chksm/build/conftest.c:112:4: error: initialization from incompatible pointer type [-Werror]
/home/kau/zfs_chksm/build/conftest.c:112:4: error: (near initialization for ‘fops.lookup’) [-Werror]
cc1: all warnings being treated as errors
make[1]: *** [/home/kau/zfs_chksm/build/conftest.o] Error 1
make: *** [_module_/home/kau/zfs_chksm/build] Error 2
configure:36903: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_BIO_SET_DEV_GPL_ONLY 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| #define HAVE_GET_ACL 1
| #define HAVE_VFSMOUNT_IOPS_GETATTR 1
| #define HAVE_INODE_SET_FLAGS 1
| #define HAVE_SHOW_OPTIONS_WITH_DENTRY 1
| #define HAVE_FILE_INODE 1
| #define HAVE_FILE_DENTRY 1
| #define HAVE_FSYNC_RANGE 1
| #define HAVE_EVICT_INODE 1
| #define HAVE_DIRTY_INODE_WITH_FLAGS 1
| #define HAVE_NR_CACHED_OBJECTS 1
| #define HAVE_FREE_CACHED_OBJECTS 1
| #define HAVE_FILE_FALLOCATE 1
| 
| 
| 		#include <linux/fs.h>
| 
| 		long test_fallocate(struct inode *inode, int mode,
| 		    loff_t offset, loff_t len) { return 0; }
| 
| 		static const struct inode_operations
| 		    fops __attribute__ ((unused)) = {
| 			.fallocate = test_fallocate,
| 		};
| 
| int
| main (void)
| {
| 
| 
|   ;
|   return 0;
| }
| 
configure:36921: result: no
configure:36933: checking whether fops->aio_fsync() exists
configure:36970: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:36973: $? = 0
configure:36975: test -s build/conftest.o
configure:36978: $? = 0
configure:36981: result: yes
configure:37002: checking whether iops->create()/mkdir()/mknod() take umode_t
configure:37042: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:37045: $? = 0
configure:37047: test -s build/conftest.o
configure:37050: $? = 0
configure:37053: result: yes
configure:37074: checking whether iops->lookup() passes nameidata
configure:37116: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
/home/kau/zfs_chksm/build/conftest.c:116:4: error: initialization from incompatible pointer type [-Werror]
    .lookup = inode_lookup,
    ^
/home/kau/zfs_chksm/build/conftest.c:116:4: error: (near initialization for ‘iops.lookup’) [-Werror]
cc1: all warnings being treated as errors
make[1]: *** [/home/kau/zfs_chksm/build/conftest.o] Error 1
make: *** [_module_/home/kau/zfs_chksm/build] Error 2
configure:37119: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_BIO_SET_DEV_GPL_ONLY 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| #define HAVE_GET_ACL 1
| #define HAVE_VFSMOUNT_IOPS_GETATTR 1
| #define HAVE_INODE_SET_FLAGS 1
| #define HAVE_SHOW_OPTIONS_WITH_DENTRY 1
| #define HAVE_FILE_INODE 1
| #define HAVE_FILE_DENTRY 1
| #define HAVE_FSYNC_RANGE 1
| #define HAVE_EVICT_INODE 1
| #define HAVE_DIRTY_INODE_WITH_FLAGS 1
| #define HAVE_NR_CACHED_OBJECTS 1
| #define HAVE_FREE_CACHED_OBJECTS 1
| #define HAVE_FILE_FALLOCATE 1
| #define HAVE_FILE_AIO_FSYNC 1
| #define HAVE_MKDIR_UMODE_T 1
| 
| 
| 		#include <linux/fs.h>
| 		#include <linux/sched.h>
| 
| 		struct dentry *inode_lookup(struct inode *inode,
| 		    struct dentry *dentry, struct nameidata *nidata)
| 		    { return NULL; }
| 
| 		static const struct inode_operations iops
| 		    __attribute__ ((unused)) = {
| 			.lookup	= inode_lookup,
| 		};
| 
| int
| main (void)
| {
| 
| 
|   ;
|   return 0;
| }
| 
configure:37137: result: no
configure:37148: checking whether iops->create() passes nameidata
configure:37194: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
/home/kau/zfs_chksm/build/conftest.c:120:4: error: initialization from incompatible pointer type [-Werror]
    .create  = inode_create,
    ^
/home/kau/zfs_chksm/build/conftest.c:120:4: error: (near initialization for ‘iops.create’) [-Werror]
cc1: all warnings being treated as errors
make[1]: *** [/home/kau/zfs_chksm/build/conftest.o] Error 1
make: *** [_module_/home/kau/zfs_chksm/build] Error 2
configure:37197: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_BIO_SET_DEV_GPL_ONLY 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| #define HAVE_GET_ACL 1
| #define HAVE_VFSMOUNT_IOPS_GETATTR 1
| #define HAVE_INODE_SET_FLAGS 1
| #define HAVE_SHOW_OPTIONS_WITH_DENTRY 1
| #define HAVE_FILE_INODE 1
| #define HAVE_FILE_DENTRY 1
| #define HAVE_FSYNC_RANGE 1
| #define HAVE_EVICT_INODE 1
| #define HAVE_DIRTY_INODE_WITH_FLAGS 1
| #define HAVE_NR_CACHED_OBJECTS 1
| #define HAVE_FREE_CACHED_OBJECTS 1
| #define HAVE_FILE_FALLOCATE 1
| #define HAVE_FILE_AIO_FSYNC 1
| #define HAVE_MKDIR_UMODE_T 1
| 
| 
| 		#include <linux/fs.h>
| 		#include <linux/sched.h>
| 
| 		#ifdef HAVE_MKDIR_UMODE_T
| 		int inode_create(struct inode *inode ,struct dentry *dentry,
| 		    umode_t umode, struct nameidata *nidata) { return 0; }
| 		#else
| 		int inode_create(struct inode *inode,struct dentry *dentry,
| 		    int umode, struct nameidata * nidata) { return 0; }
| 		#endif
| 
| 		static const struct inode_operations
| 		    iops __attribute__ ((unused)) = {
| 			.create		= inode_create,
| 		};
| 
| int
| main (void)
| {
| 
| 
|   ;
|   return 0;
| }
| 
configure:37215: result: no
configure:37226: checking whether iops->get_link() passes delayed
configure:37264: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
/home/kau/zfs_chksm/build/conftest.c:109:14: error: ‘struct delayed_call’ declared inside parameter list [-Werror]
       struct delayed_call *done) { return "symlink"; }
              ^
/home/kau/zfs_chksm/build/conftest.c:109:14: error: its scope is only this definition or declaration, which is probably not what you want [-Werror]
/home/kau/zfs_chksm/build/conftest.c:112:4: error: unknown field ‘get_link’ specified in initializer
    .get_link = get_link,
    ^
/home/kau/zfs_chksm/build/conftest.c:112:4: error: initialization from incompatible pointer type [-Werror]
/home/kau/zfs_chksm/build/conftest.c:112:4: error: (near initialization for ‘iops.lookup’) [-Werror]
cc1: all warnings being treated as errors
make[1]: *** [/home/kau/zfs_chksm/build/conftest.o] Error 1
make: *** [_module_/home/kau/zfs_chksm/build] Error 2
configure:37267: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_BIO_SET_DEV_GPL_ONLY 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| #define HAVE_GET_ACL 1
| #define HAVE_VFSMOUNT_IOPS_GETATTR 1
| #define HAVE_INODE_SET_FLAGS 1
| #define HAVE_SHOW_OPTIONS_WITH_DENTRY 1
| #define HAVE_FILE_INODE 1
| #define HAVE_FILE_DENTRY 1
| #define HAVE_FSYNC_RANGE 1
| #define HAVE_EVICT_INODE 1
| #define HAVE_DIRTY_INODE_WITH_FLAGS 1
| #define HAVE_NR_CACHED_OBJECTS 1
| #define HAVE_FREE_CACHED_OBJECTS 1
| #define HAVE_FILE_FALLOCATE 1
| #define HAVE_FILE_AIO_FSYNC 1
| #define HAVE_MKDIR_UMODE_T 1
| 
| 
| 		#include <linux/fs.h>
| 		const char *get_link(struct dentry *de, struct inode *ip,
| 		    struct delayed_call *done) { return "symlink"; }
| 		static struct inode_operations
| 		     iops __attribute__ ((unused)) = {
| 			.get_link = get_link,
| 		};
| 
| int
| main (void)
| {
| 
| 
|   ;
|   return 0;
| }
| 
configure:37285: result: no
configure:37287: checking whether iops->get_link() passes cookie
configure:37325: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
/home/kau/zfs_chksm/build/conftest.c:112:5: error: unknown field ‘get_link’ specified in initializer
     .get_link = get_link,
     ^
/home/kau/zfs_chksm/build/conftest.c:112:5: error: initialization from incompatible pointer type [-Werror]
/home/kau/zfs_chksm/build/conftest.c:112:5: error: (near initialization for ‘iops.lookup’) [-Werror]
cc1: all warnings being treated as errors
make[1]: *** [/home/kau/zfs_chksm/build/conftest.o] Error 1
make: *** [_module_/home/kau/zfs_chksm/build] Error 2
configure:37328: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_BIO_SET_DEV_GPL_ONLY 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| #define HAVE_GET_ACL 1
| #define HAVE_VFSMOUNT_IOPS_GETATTR 1
| #define HAVE_INODE_SET_FLAGS 1
| #define HAVE_SHOW_OPTIONS_WITH_DENTRY 1
| #define HAVE_FILE_INODE 1
| #define HAVE_FILE_DENTRY 1
| #define HAVE_FSYNC_RANGE 1
| #define HAVE_EVICT_INODE 1
| #define HAVE_DIRTY_INODE_WITH_FLAGS 1
| #define HAVE_NR_CACHED_OBJECTS 1
| #define HAVE_FREE_CACHED_OBJECTS 1
| #define HAVE_FILE_FALLOCATE 1
| #define HAVE_FILE_AIO_FSYNC 1
| #define HAVE_MKDIR_UMODE_T 1
| 
| 
| 			#include <linux/fs.h>
| 			const char *get_link(struct dentry *de, struct
| 			    inode *ip, void **cookie) { return "symlink"; }
| 			static struct inode_operations
| 			     iops __attribute__ ((unused)) = {
| 				.get_link = get_link,
| 			};
| 
| int
| main (void)
| {
| 
| 
|   ;
|   return 0;
| }
| 
configure:37346: result: no
configure:37349: checking whether iops->follow_link() passes cookie
configure:37387: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
/home/kau/zfs_chksm/build/conftest.c:112:4: error: initialization from incompatible pointer type [-Werror]
    .follow_link = follow_link,
    ^
/home/kau/zfs_chksm/build/conftest.c:112:4: error: (near initialization for ‘iops.follow_link’) [-Werror]
cc1: all warnings being treated as errors
make[1]: *** [/home/kau/zfs_chksm/build/conftest.o] Error 1
make: *** [_module_/home/kau/zfs_chksm/build] Error 2
configure:37390: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_BIO_SET_DEV_GPL_ONLY 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| #define HAVE_GET_ACL 1
| #define HAVE_VFSMOUNT_IOPS_GETATTR 1
| #define HAVE_INODE_SET_FLAGS 1
| #define HAVE_SHOW_OPTIONS_WITH_DENTRY 1
| #define HAVE_FILE_INODE 1
| #define HAVE_FILE_DENTRY 1
| #define HAVE_FSYNC_RANGE 1
| #define HAVE_EVICT_INODE 1
| #define HAVE_DIRTY_INODE_WITH_FLAGS 1
| #define HAVE_NR_CACHED_OBJECTS 1
| #define HAVE_FREE_CACHED_OBJECTS 1
| #define HAVE_FILE_FALLOCATE 1
| #define HAVE_FILE_AIO_FSYNC 1
| #define HAVE_MKDIR_UMODE_T 1
| 
| 
| 		#include <linux/fs.h>
| 		const char *follow_link(struct dentry *de,
| 		    void **cookie) { return "symlink"; }
| 		static struct inode_operations
| 		    iops __attribute__ ((unused)) = {
| 			.follow_link = follow_link,
| 		};
| 
| int
| main (void)
| {
| 
| 
|   ;
|   return 0;
| }
| 
configure:37408: result: no
configure:37410: checking whether iops->follow_link() passes nameidata
configure:37448: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:37451: $? = 0
configure:37453: test -s build/conftest.o
configure:37456: $? = 0
configure:37459: result: yes
configure:37533: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
/home/kau/zfs_chksm/build/conftest.c:109:4: error: #error "Expecting get_link() delayed done"
   #error "Expecting get_link() delayed done"
    ^
make[1]: *** [/home/kau/zfs_chksm/build/conftest.o] Error 1
make: *** [_module_/home/kau/zfs_chksm/build] Error 2
configure:37536: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_BIO_SET_DEV_GPL_ONLY 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| #define HAVE_GET_ACL 1
| #define HAVE_VFSMOUNT_IOPS_GETATTR 1
| #define HAVE_INODE_SET_FLAGS 1
| #define HAVE_SHOW_OPTIONS_WITH_DENTRY 1
| #define HAVE_FILE_INODE 1
| #define HAVE_FILE_DENTRY 1
| #define HAVE_FSYNC_RANGE 1
| #define HAVE_EVICT_INODE 1
| #define HAVE_DIRTY_INODE_WITH_FLAGS 1
| #define HAVE_NR_CACHED_OBJECTS 1
| #define HAVE_FREE_CACHED_OBJECTS 1
| #define HAVE_FILE_FALLOCATE 1
| #define HAVE_FILE_AIO_FSYNC 1
| #define HAVE_MKDIR_UMODE_T 1
| #define HAVE_FOLLOW_LINK_NAMEIDATA 1
| 
| 
| 		#if !defined(HAVE_GET_LINK_DELAYED)
| 		#error "Expecting get_link() delayed done"
| 		#endif
| 
| int
| main (void)
| {
| 
| 
|   ;
|   return 0;
| }
| 
configure:37552: checking whether iops->put_link() passes cookie
configure:37590: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
/home/kau/zfs_chksm/build/conftest.c:113:5: error: initialization from incompatible pointer type [-Werror]
     .put_link = put_link,
     ^
/home/kau/zfs_chksm/build/conftest.c:113:5: error: (near initialization for ‘iops.put_link’) [-Werror]
cc1: all warnings being treated as errors
make[1]: *** [/home/kau/zfs_chksm/build/conftest.o] Error 1
make: *** [_module_/home/kau/zfs_chksm/build] Error 2
configure:37593: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_BIO_SET_DEV_GPL_ONLY 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| #define HAVE_GET_ACL 1
| #define HAVE_VFSMOUNT_IOPS_GETATTR 1
| #define HAVE_INODE_SET_FLAGS 1
| #define HAVE_SHOW_OPTIONS_WITH_DENTRY 1
| #define HAVE_FILE_INODE 1
| #define HAVE_FILE_DENTRY 1
| #define HAVE_FSYNC_RANGE 1
| #define HAVE_EVICT_INODE 1
| #define HAVE_DIRTY_INODE_WITH_FLAGS 1
| #define HAVE_NR_CACHED_OBJECTS 1
| #define HAVE_FREE_CACHED_OBJECTS 1
| #define HAVE_FILE_FALLOCATE 1
| #define HAVE_FILE_AIO_FSYNC 1
| #define HAVE_MKDIR_UMODE_T 1
| #define HAVE_FOLLOW_LINK_NAMEIDATA 1
| 
| 
| 			#include <linux/fs.h>
| 			void put_link(struct inode *ip, void *cookie)
| 			    { return; }
| 			static struct inode_operations
| 			    iops __attribute__ ((unused)) = {
| 				.put_link = put_link,
| 			};
| 
| int
| main (void)
| {
| 
| 
|   ;
|   return 0;
| }
| 
configure:37611: result: no
configure:37613: checking whether iops->put_link() passes nameidata
configure:37651: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:37654: $? = 0
configure:37656: test -s build/conftest.o
configure:37659: $? = 0
configure:37662: result: yes
configure:37696: checking whether i_op->tmpfile() exists
configure:37734: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
/home/kau/zfs_chksm/build/conftest.c:114:4: error: unknown field ‘tmpfile’ specified in initializer
    .tmpfile = tmpfile,
    ^
/home/kau/zfs_chksm/build/conftest.c:114:4: error: initialization from incompatible pointer type [-Werror]
/home/kau/zfs_chksm/build/conftest.c:114:4: error: (near initialization for ‘iops.lookup’) [-Werror]
cc1: all warnings being treated as errors
make[1]: *** [/home/kau/zfs_chksm/build/conftest.o] Error 1
make: *** [_module_/home/kau/zfs_chksm/build] Error 2
configure:37737: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_BIO_SET_DEV_GPL_ONLY 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| #define HAVE_GET_ACL 1
| #define HAVE_VFSMOUNT_IOPS_GETATTR 1
| #define HAVE_INODE_SET_FLAGS 1
| #define HAVE_SHOW_OPTIONS_WITH_DENTRY 1
| #define HAVE_FILE_INODE 1
| #define HAVE_FILE_DENTRY 1
| #define HAVE_FSYNC_RANGE 1
| #define HAVE_EVICT_INODE 1
| #define HAVE_DIRTY_INODE_WITH_FLAGS 1
| #define HAVE_NR_CACHED_OBJECTS 1
| #define HAVE_FREE_CACHED_OBJECTS 1
| #define HAVE_FILE_FALLOCATE 1
| #define HAVE_FILE_AIO_FSYNC 1
| #define HAVE_MKDIR_UMODE_T 1
| #define HAVE_FOLLOW_LINK_NAMEIDATA 1
| #define HAVE_PUT_LINK_NAMEIDATA 1
| 
| 
| 		#include <linux/fs.h>
| 		int tmpfile(struct inode *inode, struct dentry *dentry,
| 		    umode_t mode) { return 0; }
| 		static struct inode_operations
| 		    iops __attribute__ ((unused)) = {
| 			.tmpfile = tmpfile,
| 		};
| 
| int
| main (void)
| {
| 
| 
|   ;
|   return 0;
| }
| 
configure:37755: result: no
configure:37766: checking whether iops->truncate_range() exists
configure:37803: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
/home/kau/zfs_chksm/build/conftest.c:113:4: error: unknown field ‘truncate_range’ specified in initializer
    .truncate_range = truncate_range,
    ^
/home/kau/zfs_chksm/build/conftest.c:113:4: error: initialization from incompatible pointer type [-Werror]
/home/kau/zfs_chksm/build/conftest.c:113:4: error: (near initialization for ‘iops.lookup’) [-Werror]
cc1: all warnings being treated as errors
make[1]: *** [/home/kau/zfs_chksm/build/conftest.o] Error 1
make: *** [_module_/home/kau/zfs_chksm/build] Error 2
configure:37806: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_BIO_SET_DEV_GPL_ONLY 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| #define HAVE_GET_ACL 1
| #define HAVE_VFSMOUNT_IOPS_GETATTR 1
| #define HAVE_INODE_SET_FLAGS 1
| #define HAVE_SHOW_OPTIONS_WITH_DENTRY 1
| #define HAVE_FILE_INODE 1
| #define HAVE_FILE_DENTRY 1
| #define HAVE_FSYNC_RANGE 1
| #define HAVE_EVICT_INODE 1
| #define HAVE_DIRTY_INODE_WITH_FLAGS 1
| #define HAVE_NR_CACHED_OBJECTS 1
| #define HAVE_FREE_CACHED_OBJECTS 1
| #define HAVE_FILE_FALLOCATE 1
| #define HAVE_FILE_AIO_FSYNC 1
| #define HAVE_MKDIR_UMODE_T 1
| #define HAVE_FOLLOW_LINK_NAMEIDATA 1
| #define HAVE_PUT_LINK_NAMEIDATA 1
| 
| 
| 		#include <linux/fs.h>
| 		void truncate_range(struct inode *inode, loff_t start,
| 		                    loff_t end) { return; }
| 		static struct inode_operations iops __attribute__ ((unused)) = {
| 			.truncate_range	= truncate_range,
| 		};
| 
| int
| main (void)
| {
| 
| 
|   ;
|   return 0;
| }
| 
configure:37824: result: no
configure:37835: checking whether dops->d_automount() exists
configure:37871: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:37874: $? = 0
configure:37876: test -s build/conftest.o
configure:37879: $? = 0
configure:37882: result: yes
configure:37903: checking whether eops->encode_fh() wants inode
configure:37940: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:37943: $? = 0
configure:37945: test -s build/conftest.o
configure:37948: $? = 0
configure:37951: result: yes
configure:37972: checking whether eops->commit_metadata() exists
configure:38008: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:38011: $? = 0
configure:38013: test -s build/conftest.o
configure:38016: $? = 0
configure:38019: result: yes
configure:38039: checking whether clear_inode() is available
configure:38073: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:38076: $? = 0
configure:38078: test -s build/conftest.o
configure:38081: $? = 0
configure:38133: result: yes
configure:38143: checking whether setattr_prepare() is available
configure:38181: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
/home/kau/zfs_chksm/build/conftest.c: In function ‘main’:
/home/kau/zfs_chksm/build/conftest.c:123:3: error: implicit declaration of function ‘setattr_prepare’ [-Werror=implicit-function-declaration]
   error = setattr_prepare(dentry, attr);
   ^
cc1: all warnings being treated as errors
make[1]: *** [/home/kau/zfs_chksm/build/conftest.o] Error 1
make: *** [_module_/home/kau/zfs_chksm/build] Error 2
configure:38184: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_BIO_SET_DEV_GPL_ONLY 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| #define HAVE_GET_ACL 1
| #define HAVE_VFSMOUNT_IOPS_GETATTR 1
| #define HAVE_INODE_SET_FLAGS 1
| #define HAVE_SHOW_OPTIONS_WITH_DENTRY 1
| #define HAVE_FILE_INODE 1
| #define HAVE_FILE_DENTRY 1
| #define HAVE_FSYNC_RANGE 1
| #define HAVE_EVICT_INODE 1
| #define HAVE_DIRTY_INODE_WITH_FLAGS 1
| #define HAVE_NR_CACHED_OBJECTS 1
| #define HAVE_FREE_CACHED_OBJECTS 1
| #define HAVE_FILE_FALLOCATE 1
| #define HAVE_FILE_AIO_FSYNC 1
| #define HAVE_MKDIR_UMODE_T 1
| #define HAVE_FOLLOW_LINK_NAMEIDATA 1
| #define HAVE_PUT_LINK_NAMEIDATA 1
| #define HAVE_AUTOMOUNT 1
| #define HAVE_ENCODE_FH_WITH_INODE 1
| #define HAVE_COMMIT_METADATA 1
| #define HAVE_CLEAR_INODE 1
| 
| 
| 		#include <linux/fs.h>
| 
| int
| main (void)
| {
| 
| 		struct dentry *dentry = NULL;
| 		struct iattr *attr = NULL;
| 		int error;
| 
| 		error = setattr_prepare(dentry, attr);
| 
|   ;
|   return 0;
| }
| 
configure:38204: result: no
configure:38251: checking whether insert_inode_locked() is available
configure:38285: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:38288: $? = 0
configure:38290: test -s build/conftest.o
configure:38293: $? = 0
configure:38345: result: yes
configure:38355: checking whether d_make_root() is available
configure:38389: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:38392: $? = 0
configure:38394: test -s build/conftest.o
configure:38397: $? = 0
configure:38449: result: yes
configure:38459: checking whether d_obtain_alias() is available
configure:38493: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:38496: $? = 0
configure:38498: test -s build/conftest.o
configure:38501: $? = 0
configure:38553: result: yes
configure:38563: checking whether d_prune_aliases() is available
configure:38598: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:38601: $? = 0
configure:38603: test -s build/conftest.o
configure:38606: $? = 0
configure:38658: result: yes
configure:38668: checking whether d_set_d_op() is available
configure:38702: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:38705: $? = 0
configure:38707: test -s build/conftest.o
configure:38710: $? = 0
configure:38762: result: yes
configure:38773: checking whether dops->d_revalidate() takes struct nameidata
configure:38814: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
/home/kau/zfs_chksm/build/conftest.c:126:4: error: initialization from incompatible pointer type [-Werror]
    .d_revalidate = revalidate,
    ^
/home/kau/zfs_chksm/build/conftest.c:126:4: error: (near initialization for ‘dops.d_revalidate’) [-Werror]
cc1: all warnings being treated as errors
make[1]: *** [/home/kau/zfs_chksm/build/conftest.o] Error 1
make: *** [_module_/home/kau/zfs_chksm/build] Error 2
configure:38817: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_BIO_SET_DEV_GPL_ONLY 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| #define HAVE_GET_ACL 1
| #define HAVE_VFSMOUNT_IOPS_GETATTR 1
| #define HAVE_INODE_SET_FLAGS 1
| #define HAVE_SHOW_OPTIONS_WITH_DENTRY 1
| #define HAVE_FILE_INODE 1
| #define HAVE_FILE_DENTRY 1
| #define HAVE_FSYNC_RANGE 1
| #define HAVE_EVICT_INODE 1
| #define HAVE_DIRTY_INODE_WITH_FLAGS 1
| #define HAVE_NR_CACHED_OBJECTS 1
| #define HAVE_FREE_CACHED_OBJECTS 1
| #define HAVE_FILE_FALLOCATE 1
| #define HAVE_FILE_AIO_FSYNC 1
| #define HAVE_MKDIR_UMODE_T 1
| #define HAVE_FOLLOW_LINK_NAMEIDATA 1
| #define HAVE_PUT_LINK_NAMEIDATA 1
| #define HAVE_AUTOMOUNT 1
| #define HAVE_ENCODE_FH_WITH_INODE 1
| #define HAVE_COMMIT_METADATA 1
| #define HAVE_CLEAR_INODE 1
| #define HAVE_INSERT_INODE_LOCKED 1
| #define HAVE_D_MAKE_ROOT 1
| #define HAVE_D_OBTAIN_ALIAS 1
| #define HAVE_D_PRUNE_ALIASES 1
| #define HAVE_D_SET_D_OP 1
| 
| 
| 		#include <linux/dcache.h>
| 		#include <linux/sched.h>
| 
| 		int revalidate (struct dentry *dentry,
| 		    struct nameidata *nidata) { return 0; }
| 
| 		static const struct dentry_operations
| 		    dops __attribute__ ((unused)) = {
| 			.d_revalidate	= revalidate,
| 		};
| 
| int
| main (void)
| {
| 
| 
|   ;
|   return 0;
| }
| 
configure:38835: result: no
configure:38846: checking whether dentry uses const struct dentry_operations
configure:38885: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:38888: $? = 0
configure:38890: test -s build/conftest.o
configure:38893: $? = 0
configure:38896: result: yes
configure:38916: checking whether truncate_setsize() is available
configure:38950: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:38953: $? = 0
configure:38955: test -s build/conftest.o
configure:38958: $? = 0
configure:39010: result: yes
configure:39021: checking whether security_inode_init_security wants 6 args
configure:39061: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
/home/kau/zfs_chksm/build/conftest.c: In function ‘main’:
/home/kau/zfs_chksm/build/conftest.c:133:3: error: passing argument 4 of ‘security_inode_init_security’ from incompatible pointer type [-Werror]
   security_inode_init_security(ip, dip, str, &name, &value, &len);
   ^
In file included from /home/kau/zfs_chksm/build/conftest.c:120:0:
include/linux/security.h:1893:5: note: expected ‘initxattrs’ but argument is of type ‘char **’
 int security_inode_init_security(struct inode *inode, struct inode *dir,
     ^
/home/kau/zfs_chksm/build/conftest.c:133:3: error: too many arguments to function ‘security_inode_init_security’
   security_inode_init_security(ip, dip, str, &name, &value, &len);
   ^
In file included from /home/kau/zfs_chksm/build/conftest.c:120:0:
include/linux/security.h:1893:5: note: declared here
 int security_inode_init_security(struct inode *inode, struct inode *dir,
     ^
cc1: all warnings being treated as errors
make[1]: *** [/home/kau/zfs_chksm/build/conftest.o] Error 1
make: *** [_module_/home/kau/zfs_chksm/build] Error 2
configure:39064: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_BIO_SET_DEV_GPL_ONLY 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| #define HAVE_GET_ACL 1
| #define HAVE_VFSMOUNT_IOPS_GETATTR 1
| #define HAVE_INODE_SET_FLAGS 1
| #define HAVE_SHOW_OPTIONS_WITH_DENTRY 1
| #define HAVE_FILE_INODE 1
| #define HAVE_FILE_DENTRY 1
| #define HAVE_FSYNC_RANGE 1
| #define HAVE_EVICT_INODE 1
| #define HAVE_DIRTY_INODE_WITH_FLAGS 1
| #define HAVE_NR_CACHED_OBJECTS 1
| #define HAVE_FREE_CACHED_OBJECTS 1
| #define HAVE_FILE_FALLOCATE 1
| #define HAVE_FILE_AIO_FSYNC 1
| #define HAVE_MKDIR_UMODE_T 1
| #define HAVE_FOLLOW_LINK_NAMEIDATA 1
| #define HAVE_PUT_LINK_NAMEIDATA 1
| #define HAVE_AUTOMOUNT 1
| #define HAVE_ENCODE_FH_WITH_INODE 1
| #define HAVE_COMMIT_METADATA 1
| #define HAVE_CLEAR_INODE 1
| #define HAVE_INSERT_INODE_LOCKED 1
| #define HAVE_D_MAKE_ROOT 1
| #define HAVE_D_OBTAIN_ALIAS 1
| #define HAVE_D_PRUNE_ALIASES 1
| #define HAVE_D_SET_D_OP 1
| #define HAVE_CONST_DENTRY_OPERATIONS 1
| #define HAVE_TRUNCATE_SETSIZE 1
| 
| 
| 		#include <linux/security.h>
| 
| int
| main (void)
| {
| 
| 		struct inode *ip __attribute__ ((unused)) = NULL;
| 		struct inode *dip __attribute__ ((unused)) = NULL;
| 		const struct qstr *str __attribute__ ((unused)) = NULL;
| 		char *name __attribute__ ((unused)) = NULL;
| 		void *value __attribute__ ((unused)) = NULL;
| 		size_t len __attribute__ ((unused)) = 0;
| 
| 		security_inode_init_security(ip, dip, str, &name, &value, &len);
| 
|   ;
|   return 0;
| }
| 
configure:39082: result: no
configure:39093: checking whether security_inode_init_security wants callback
configure:39131: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:39134: $? = 0
configure:39136: test -s build/conftest.o
configure:39139: $? = 0
configure:39142: result: yes
configure:39163: checking whether fst->mount() exists
configure:39206: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:39209: $? = 0
configure:39211: test -s build/conftest.o
configure:39214: $? = 0
configure:39217: result: yes
configure:39238: checking whether super_block has s_shrink
configure:39280: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:39283: $? = 0
configure:39285: test -s build/conftest.o
configure:39288: $? = 0
configure:39291: result: yes
configure:39313: checking whether shrink_control has nid
configure:39348: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
/home/kau/zfs_chksm/build/conftest.c: In function ‘main’:
/home/kau/zfs_chksm/build/conftest.c:131:16: error: ‘struct shrink_control’ has no member named ‘nid’
       sizeof(sc.nid);
                ^
make[1]: *** [/home/kau/zfs_chksm/build/conftest.o] Error 1
make: *** [_module_/home/kau/zfs_chksm/build] Error 2
configure:39351: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_BIO_SET_DEV_GPL_ONLY 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| #define HAVE_GET_ACL 1
| #define HAVE_VFSMOUNT_IOPS_GETATTR 1
| #define HAVE_INODE_SET_FLAGS 1
| #define HAVE_SHOW_OPTIONS_WITH_DENTRY 1
| #define HAVE_FILE_INODE 1
| #define HAVE_FILE_DENTRY 1
| #define HAVE_FSYNC_RANGE 1
| #define HAVE_EVICT_INODE 1
| #define HAVE_DIRTY_INODE_WITH_FLAGS 1
| #define HAVE_NR_CACHED_OBJECTS 1
| #define HAVE_FREE_CACHED_OBJECTS 1
| #define HAVE_FILE_FALLOCATE 1
| #define HAVE_FILE_AIO_FSYNC 1
| #define HAVE_MKDIR_UMODE_T 1
| #define HAVE_FOLLOW_LINK_NAMEIDATA 1
| #define HAVE_PUT_LINK_NAMEIDATA 1
| #define HAVE_AUTOMOUNT 1
| #define HAVE_ENCODE_FH_WITH_INODE 1
| #define HAVE_COMMIT_METADATA 1
| #define HAVE_CLEAR_INODE 1
| #define HAVE_INSERT_INODE_LOCKED 1
| #define HAVE_D_MAKE_ROOT 1
| #define HAVE_D_OBTAIN_ALIAS 1
| #define HAVE_D_PRUNE_ALIASES 1
| #define HAVE_D_SET_D_OP 1
| #define HAVE_CONST_DENTRY_OPERATIONS 1
| #define HAVE_TRUNCATE_SETSIZE 1
| #define HAVE_CALLBACK_SECURITY_INODE_INIT_SECURITY 1
| #define HAVE_FST_MOUNT 1
| #define HAVE_SHRINK 1
| 
| 
| 		#include <linux/fs.h>
| 
| int
| main (void)
| {
| 
| 		struct shrink_control sc __attribute__ ((unused));
| 		unsigned long scnidsize __attribute__ ((unused)) =
| 		    sizeof(sc.nid);
| 
|   ;
|   return 0;
| }
| 
configure:39369: result: no
configure:39380: checking whether super_block has s_instances list_head
configure:39415: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
/home/kau/zfs_chksm/build/conftest.c: In function ‘main’:
/home/kau/zfs_chksm/build/conftest.c:131:3: error: passing argument 1 of ‘INIT_LIST_HEAD’ from incompatible pointer type [-Werror]
   INIT_LIST_HEAD(&sb.s_instances);
   ^
In file included from include/linux/wait.h:5:0,
                 from include/linux/fs.h:6,
                 from /home/kau/zfs_chksm/build/conftest.c:123:
include/linux/list.h:24:20: note: expected ‘struct list_head *’ but argument is of type ‘struct hlist_node *’
 static inline void INIT_LIST_HEAD(struct list_head *list)
                    ^
cc1: all warnings being treated as errors
make[1]: *** [/home/kau/zfs_chksm/build/conftest.o] Error 1
make: *** [_module_/home/kau/zfs_chksm/build] Error 2
configure:39418: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_BIO_SET_DEV_GPL_ONLY 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| #define HAVE_GET_ACL 1
| #define HAVE_VFSMOUNT_IOPS_GETATTR 1
| #define HAVE_INODE_SET_FLAGS 1
| #define HAVE_SHOW_OPTIONS_WITH_DENTRY 1
| #define HAVE_FILE_INODE 1
| #define HAVE_FILE_DENTRY 1
| #define HAVE_FSYNC_RANGE 1
| #define HAVE_EVICT_INODE 1
| #define HAVE_DIRTY_INODE_WITH_FLAGS 1
| #define HAVE_NR_CACHED_OBJECTS 1
| #define HAVE_FREE_CACHED_OBJECTS 1
| #define HAVE_FILE_FALLOCATE 1
| #define HAVE_FILE_AIO_FSYNC 1
| #define HAVE_MKDIR_UMODE_T 1
| #define HAVE_FOLLOW_LINK_NAMEIDATA 1
| #define HAVE_PUT_LINK_NAMEIDATA 1
| #define HAVE_AUTOMOUNT 1
| #define HAVE_ENCODE_FH_WITH_INODE 1
| #define HAVE_COMMIT_METADATA 1
| #define HAVE_CLEAR_INODE 1
| #define HAVE_INSERT_INODE_LOCKED 1
| #define HAVE_D_MAKE_ROOT 1
| #define HAVE_D_OBTAIN_ALIAS 1
| #define HAVE_D_PRUNE_ALIASES 1
| #define HAVE_D_SET_D_OP 1
| #define HAVE_CONST_DENTRY_OPERATIONS 1
| #define HAVE_TRUNCATE_SETSIZE 1
| #define HAVE_CALLBACK_SECURITY_INODE_INIT_SECURITY 1
| #define HAVE_FST_MOUNT 1
| #define HAVE_SHRINK 1
| 
| 
| 		#include <linux/fs.h>
| 
| int
| main (void)
| {
| 
| 		struct super_block sb __attribute__ ((unused));
| 
| 		INIT_LIST_HEAD(&sb.s_instances);
| 
|   ;
|   return 0;
| }
| 
configure:39436: result: no
configure:39446: checking whether super_block has s_d_op
configure:39480: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:39483: $? = 0
configure:39485: test -s build/conftest.o
configure:39488: $? = 0
configure:39491: result: yes
configure:39512: checking whether super_setup_bdi_name() exists
configure:39550: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
/home/kau/zfs_chksm/build/conftest.c: In function ‘main’:
/home/kau/zfs_chksm/build/conftest.c:134:7: error: implicit declaration of function ‘super_setup_bdi_name’ [-Werror=implicit-function-declaration]
       super_setup_bdi_name(&sb, "%.28s-%ld", name, atomic_long_inc_return(&zfs_bdi_seq));
       ^
cc1: all warnings being treated as errors
make[1]: *** [/home/kau/zfs_chksm/build/conftest.o] Error 1
make: *** [_module_/home/kau/zfs_chksm/build] Error 2
configure:39553: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_BIO_SET_DEV_GPL_ONLY 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| #define HAVE_GET_ACL 1
| #define HAVE_VFSMOUNT_IOPS_GETATTR 1
| #define HAVE_INODE_SET_FLAGS 1
| #define HAVE_SHOW_OPTIONS_WITH_DENTRY 1
| #define HAVE_FILE_INODE 1
| #define HAVE_FILE_DENTRY 1
| #define HAVE_FSYNC_RANGE 1
| #define HAVE_EVICT_INODE 1
| #define HAVE_DIRTY_INODE_WITH_FLAGS 1
| #define HAVE_NR_CACHED_OBJECTS 1
| #define HAVE_FREE_CACHED_OBJECTS 1
| #define HAVE_FILE_FALLOCATE 1
| #define HAVE_FILE_AIO_FSYNC 1
| #define HAVE_MKDIR_UMODE_T 1
| #define HAVE_FOLLOW_LINK_NAMEIDATA 1
| #define HAVE_PUT_LINK_NAMEIDATA 1
| #define HAVE_AUTOMOUNT 1
| #define HAVE_ENCODE_FH_WITH_INODE 1
| #define HAVE_COMMIT_METADATA 1
| #define HAVE_CLEAR_INODE 1
| #define HAVE_INSERT_INODE_LOCKED 1
| #define HAVE_D_MAKE_ROOT 1
| #define HAVE_D_OBTAIN_ALIAS 1
| #define HAVE_D_PRUNE_ALIASES 1
| #define HAVE_D_SET_D_OP 1
| #define HAVE_CONST_DENTRY_OPERATIONS 1
| #define HAVE_TRUNCATE_SETSIZE 1
| #define HAVE_CALLBACK_SECURITY_INODE_INIT_SECURITY 1
| #define HAVE_FST_MOUNT 1
| #define HAVE_SHRINK 1
| #define HAVE_S_D_OP 1
| 
| 
| 		#include <linux/fs.h>
| 		struct super_block sb;
| 
| int
| main (void)
| {
| 
| 		char *name = "bdi";
| 		atomic_long_t zfs_bdi_seq;
| 		int error __attribute__((unused)) =
| 		    super_setup_bdi_name(&sb, "%.28s-%ld", name, atomic_long_inc_return(&zfs_bdi_seq));
| 
|   ;
|   return 0;
| }
| 
configure:39573: result: no
configure:39575: checking whether bdi_setup_and_register() wants 2 args
configure:39612: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
/home/kau/zfs_chksm/build/conftest.c: In function ‘main’:
/home/kau/zfs_chksm/build/conftest.c:133:8: error: too few arguments to function ‘bdi_setup_and_register’
        bdi_setup_and_register(&bdi, name);
        ^
In file included from /home/kau/zfs_chksm/build/conftest.c:124:0:
include/linux/backing-dev.h:120:5: note: declared here
 int bdi_setup_and_register(struct backing_dev_info *, char *, unsigned int);
     ^
make[1]: *** [/home/kau/zfs_chksm/build/conftest.o] Error 1
make: *** [_module_/home/kau/zfs_chksm/build] Error 2
configure:39615: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_BIO_SET_DEV_GPL_ONLY 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| #define HAVE_GET_ACL 1
| #define HAVE_VFSMOUNT_IOPS_GETATTR 1
| #define HAVE_INODE_SET_FLAGS 1
| #define HAVE_SHOW_OPTIONS_WITH_DENTRY 1
| #define HAVE_FILE_INODE 1
| #define HAVE_FILE_DENTRY 1
| #define HAVE_FSYNC_RANGE 1
| #define HAVE_EVICT_INODE 1
| #define HAVE_DIRTY_INODE_WITH_FLAGS 1
| #define HAVE_NR_CACHED_OBJECTS 1
| #define HAVE_FREE_CACHED_OBJECTS 1
| #define HAVE_FILE_FALLOCATE 1
| #define HAVE_FILE_AIO_FSYNC 1
| #define HAVE_MKDIR_UMODE_T 1
| #define HAVE_FOLLOW_LINK_NAMEIDATA 1
| #define HAVE_PUT_LINK_NAMEIDATA 1
| #define HAVE_AUTOMOUNT 1
| #define HAVE_ENCODE_FH_WITH_INODE 1
| #define HAVE_COMMIT_METADATA 1
| #define HAVE_CLEAR_INODE 1
| #define HAVE_INSERT_INODE_LOCKED 1
| #define HAVE_D_MAKE_ROOT 1
| #define HAVE_D_OBTAIN_ALIAS 1
| #define HAVE_D_PRUNE_ALIASES 1
| #define HAVE_D_SET_D_OP 1
| #define HAVE_CONST_DENTRY_OPERATIONS 1
| #define HAVE_TRUNCATE_SETSIZE 1
| #define HAVE_CALLBACK_SECURITY_INODE_INIT_SECURITY 1
| #define HAVE_FST_MOUNT 1
| #define HAVE_SHRINK 1
| #define HAVE_S_D_OP 1
| 
| 
| 			#include <linux/backing-dev.h>
| 			struct backing_dev_info bdi;
| 
| int
| main (void)
| {
| 
| 			char *name = "bdi";
| 			int error __attribute__((unused)) =
| 			    bdi_setup_and_register(&bdi, name);
| 
|   ;
|   return 0;
| }
| 
configure:39635: result: no
configure:39637: checking whether bdi_setup_and_register() wants 3 args
configure:39675: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:39678: $? = 0
configure:39680: test -s build/conftest.o
configure:39683: $? = 0
configure:39735: result: yes
configure:40261: checking whether set_nlink() is available
configure:40296: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:40299: $? = 0
configure:40301: test -s build/conftest.o
configure:40304: $? = 0
configure:40307: result: yes
configure:40328: checking whether elevator_change() is available
configure:40367: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024 -Wno-unused-but-set-variable  M=/home/kau/zfs_chksm/build 
configure:40370: $? = 0
configure:40372: test -s build/conftest.o
configure:40375: $? = 0
configure:40378: result: yes
configure:40399: checking whether sget() wants 5 args
configure:40437: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:40440: $? = 0
configure:40442: test -s build/conftest.o
configure:40445: $? = 0
configure:40448: result: yes
configure:40468: checking whether lseek_execute() is available
configure:40507: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
/home/kau/zfs_chksm/build/conftest.c: In function ‘main’:
/home/kau/zfs_chksm/build/conftest.c:139:3: error: implicit declaration of function ‘lseek_execute’ [-Werror=implicit-function-declaration]
   lseek_execute(fp, ip, offset, maxsize);
   ^
cc1: all warnings being treated as errors
make[1]: *** [/home/kau/zfs_chksm/build/conftest.o] Error 1
make: *** [_module_/home/kau/zfs_chksm/build] Error 2
configure:40510: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_BIO_SET_DEV_GPL_ONLY 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| #define HAVE_GET_ACL 1
| #define HAVE_VFSMOUNT_IOPS_GETATTR 1
| #define HAVE_INODE_SET_FLAGS 1
| #define HAVE_SHOW_OPTIONS_WITH_DENTRY 1
| #define HAVE_FILE_INODE 1
| #define HAVE_FILE_DENTRY 1
| #define HAVE_FSYNC_RANGE 1
| #define HAVE_EVICT_INODE 1
| #define HAVE_DIRTY_INODE_WITH_FLAGS 1
| #define HAVE_NR_CACHED_OBJECTS 1
| #define HAVE_FREE_CACHED_OBJECTS 1
| #define HAVE_FILE_FALLOCATE 1
| #define HAVE_FILE_AIO_FSYNC 1
| #define HAVE_MKDIR_UMODE_T 1
| #define HAVE_FOLLOW_LINK_NAMEIDATA 1
| #define HAVE_PUT_LINK_NAMEIDATA 1
| #define HAVE_AUTOMOUNT 1
| #define HAVE_ENCODE_FH_WITH_INODE 1
| #define HAVE_COMMIT_METADATA 1
| #define HAVE_CLEAR_INODE 1
| #define HAVE_INSERT_INODE_LOCKED 1
| #define HAVE_D_MAKE_ROOT 1
| #define HAVE_D_OBTAIN_ALIAS 1
| #define HAVE_D_PRUNE_ALIASES 1
| #define HAVE_D_SET_D_OP 1
| #define HAVE_CONST_DENTRY_OPERATIONS 1
| #define HAVE_TRUNCATE_SETSIZE 1
| #define HAVE_CALLBACK_SECURITY_INODE_INIT_SECURITY 1
| #define HAVE_FST_MOUNT 1
| #define HAVE_SHRINK 1
| #define HAVE_S_D_OP 1
| #define HAVE_3ARGS_BDI_SETUP_AND_REGISTER 1
| #define HAVE_SET_NLINK 1
| #define HAVE_ELEVATOR_CHANGE 1
| #define HAVE_5ARG_SGET 1
| 
| 
| 		#include <linux/fs.h>
| 
| int
| main (void)
| {
| 
| 		struct file *fp __attribute__ ((unused)) = NULL;
| 		struct inode *ip __attribute__ ((unused)) = NULL;
| 		loff_t offset __attribute__ ((unused)) = 0;
| 		loff_t maxsize __attribute__ ((unused)) = 0;
| 
| 		lseek_execute(fp, ip, offset, maxsize);
| 
|   ;
|   return 0;
| }
| 
configure:40530: result: no
configure:40578: checking whether fops->iterate_shared() is available
configure:40617: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
/home/kau/zfs_chksm/build/conftest.c:134:4: error: unknown field ‘iterate_shared’ specified in initializer
    .iterate_shared  = iterate,
    ^
/home/kau/zfs_chksm/build/conftest.c:134:4: error: initialization from incompatible pointer type [-Werror]
/home/kau/zfs_chksm/build/conftest.c:134:4: error: (near initialization for ‘fops.owner’) [-Werror]
cc1: all warnings being treated as errors
make[1]: *** [/home/kau/zfs_chksm/build/conftest.o] Error 1
make: *** [_module_/home/kau/zfs_chksm/build] Error 2
configure:40620: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_BIO_SET_DEV_GPL_ONLY 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| #define HAVE_GET_ACL 1
| #define HAVE_VFSMOUNT_IOPS_GETATTR 1
| #define HAVE_INODE_SET_FLAGS 1
| #define HAVE_SHOW_OPTIONS_WITH_DENTRY 1
| #define HAVE_FILE_INODE 1
| #define HAVE_FILE_DENTRY 1
| #define HAVE_FSYNC_RANGE 1
| #define HAVE_EVICT_INODE 1
| #define HAVE_DIRTY_INODE_WITH_FLAGS 1
| #define HAVE_NR_CACHED_OBJECTS 1
| #define HAVE_FREE_CACHED_OBJECTS 1
| #define HAVE_FILE_FALLOCATE 1
| #define HAVE_FILE_AIO_FSYNC 1
| #define HAVE_MKDIR_UMODE_T 1
| #define HAVE_FOLLOW_LINK_NAMEIDATA 1
| #define HAVE_PUT_LINK_NAMEIDATA 1
| #define HAVE_AUTOMOUNT 1
| #define HAVE_ENCODE_FH_WITH_INODE 1
| #define HAVE_COMMIT_METADATA 1
| #define HAVE_CLEAR_INODE 1
| #define HAVE_INSERT_INODE_LOCKED 1
| #define HAVE_D_MAKE_ROOT 1
| #define HAVE_D_OBTAIN_ALIAS 1
| #define HAVE_D_PRUNE_ALIASES 1
| #define HAVE_D_SET_D_OP 1
| #define HAVE_CONST_DENTRY_OPERATIONS 1
| #define HAVE_TRUNCATE_SETSIZE 1
| #define HAVE_CALLBACK_SECURITY_INODE_INIT_SECURITY 1
| #define HAVE_FST_MOUNT 1
| #define HAVE_SHRINK 1
| #define HAVE_S_D_OP 1
| #define HAVE_3ARGS_BDI_SETUP_AND_REGISTER 1
| #define HAVE_SET_NLINK 1
| #define HAVE_ELEVATOR_CHANGE 1
| #define HAVE_5ARG_SGET 1
| 
| 
| 		#include <linux/fs.h>
| 		int iterate(struct file *filp, struct dir_context * context)
| 		    { return 0; }
| 
| 		static const struct file_operations fops
| 		    __attribute__ ((unused)) = {
| 			.iterate_shared	 = iterate,
| 		};
| 
| int
| main (void)
| {
| 
| 
|   ;
|   return 0;
| }
| 
configure:40638: result: no
configure:40641: checking whether fops->iterate() is available
configure:40684: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
/home/kau/zfs_chksm/build/conftest.c:138:5: error: #error "RHEL 7.5, FMODE_KABI_ITERATE interface"
    #error "RHEL 7.5, FMODE_KABI_ITERATE interface"
     ^
make[1]: *** [/home/kau/zfs_chksm/build/conftest.o] Error 1
make: *** [_module_/home/kau/zfs_chksm/build] Error 2
configure:40687: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_BIO_SET_DEV_GPL_ONLY 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| #define HAVE_GET_ACL 1
| #define HAVE_VFSMOUNT_IOPS_GETATTR 1
| #define HAVE_INODE_SET_FLAGS 1
| #define HAVE_SHOW_OPTIONS_WITH_DENTRY 1
| #define HAVE_FILE_INODE 1
| #define HAVE_FILE_DENTRY 1
| #define HAVE_FSYNC_RANGE 1
| #define HAVE_EVICT_INODE 1
| #define HAVE_DIRTY_INODE_WITH_FLAGS 1
| #define HAVE_NR_CACHED_OBJECTS 1
| #define HAVE_FREE_CACHED_OBJECTS 1
| #define HAVE_FILE_FALLOCATE 1
| #define HAVE_FILE_AIO_FSYNC 1
| #define HAVE_MKDIR_UMODE_T 1
| #define HAVE_FOLLOW_LINK_NAMEIDATA 1
| #define HAVE_PUT_LINK_NAMEIDATA 1
| #define HAVE_AUTOMOUNT 1
| #define HAVE_ENCODE_FH_WITH_INODE 1
| #define HAVE_COMMIT_METADATA 1
| #define HAVE_CLEAR_INODE 1
| #define HAVE_INSERT_INODE_LOCKED 1
| #define HAVE_D_MAKE_ROOT 1
| #define HAVE_D_OBTAIN_ALIAS 1
| #define HAVE_D_PRUNE_ALIASES 1
| #define HAVE_D_SET_D_OP 1
| #define HAVE_CONST_DENTRY_OPERATIONS 1
| #define HAVE_TRUNCATE_SETSIZE 1
| #define HAVE_CALLBACK_SECURITY_INODE_INIT_SECURITY 1
| #define HAVE_FST_MOUNT 1
| #define HAVE_SHRINK 1
| #define HAVE_S_D_OP 1
| #define HAVE_3ARGS_BDI_SETUP_AND_REGISTER 1
| #define HAVE_SET_NLINK 1
| #define HAVE_ELEVATOR_CHANGE 1
| #define HAVE_5ARG_SGET 1
| 
| 
| 			#include <linux/fs.h>
| 			int iterate(struct file *filp,
| 			    struct dir_context *context) { return 0; }
| 
| 			static const struct file_operations fops
| 			    __attribute__ ((unused)) = {
| 				.iterate	 = iterate,
| 			};
| 
| 			#if defined(FMODE_KABI_ITERATE)
| 			#error "RHEL 7.5, FMODE_KABI_ITERATE interface"
| 			#endif
| 
| int
| main (void)
| {
| 
| 
|   ;
|   return 0;
| }
| 
configure:40705: result: no
configure:40708: checking whether fops->readdir() is available
configure:40747: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:40750: $? = 0
configure:40752: test -s build/conftest.o
configure:40755: $? = 0
configure:40758: result: yes
configure:40791: checking whether fops->read/write_iter() are available
configure:40834: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
/home/kau/zfs_chksm/build/conftest.c:138:7: error: unknown field ‘read_iter’ specified in initializer
       .read_iter = test_read,
       ^
/home/kau/zfs_chksm/build/conftest.c:138:7: error: initialization from incompatible pointer type [-Werror]
/home/kau/zfs_chksm/build/conftest.c:138:7: error: (near initialization for ‘fops.owner’) [-Werror]
/home/kau/zfs_chksm/build/conftest.c:139:7: error: unknown field ‘write_iter’ specified in initializer
       .write_iter = test_write,
       ^
/home/kau/zfs_chksm/build/conftest.c:139:7: error: initialization from incompatible pointer type [-Werror]
/home/kau/zfs_chksm/build/conftest.c:139:7: error: (near initialization for ‘fops.llseek’) [-Werror]
cc1: all warnings being treated as errors
make[1]: *** [/home/kau/zfs_chksm/build/conftest.o] Error 1
make: *** [_module_/home/kau/zfs_chksm/build] Error 2
configure:40837: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_BIO_SET_DEV_GPL_ONLY 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| #define HAVE_GET_ACL 1
| #define HAVE_VFSMOUNT_IOPS_GETATTR 1
| #define HAVE_INODE_SET_FLAGS 1
| #define HAVE_SHOW_OPTIONS_WITH_DENTRY 1
| #define HAVE_FILE_INODE 1
| #define HAVE_FILE_DENTRY 1
| #define HAVE_FSYNC_RANGE 1
| #define HAVE_EVICT_INODE 1
| #define HAVE_DIRTY_INODE_WITH_FLAGS 1
| #define HAVE_NR_CACHED_OBJECTS 1
| #define HAVE_FREE_CACHED_OBJECTS 1
| #define HAVE_FILE_FALLOCATE 1
| #define HAVE_FILE_AIO_FSYNC 1
| #define HAVE_MKDIR_UMODE_T 1
| #define HAVE_FOLLOW_LINK_NAMEIDATA 1
| #define HAVE_PUT_LINK_NAMEIDATA 1
| #define HAVE_AUTOMOUNT 1
| #define HAVE_ENCODE_FH_WITH_INODE 1
| #define HAVE_COMMIT_METADATA 1
| #define HAVE_CLEAR_INODE 1
| #define HAVE_INSERT_INODE_LOCKED 1
| #define HAVE_D_MAKE_ROOT 1
| #define HAVE_D_OBTAIN_ALIAS 1
| #define HAVE_D_PRUNE_ALIASES 1
| #define HAVE_D_SET_D_OP 1
| #define HAVE_CONST_DENTRY_OPERATIONS 1
| #define HAVE_TRUNCATE_SETSIZE 1
| #define HAVE_CALLBACK_SECURITY_INODE_INIT_SECURITY 1
| #define HAVE_FST_MOUNT 1
| #define HAVE_SHRINK 1
| #define HAVE_S_D_OP 1
| #define HAVE_3ARGS_BDI_SETUP_AND_REGISTER 1
| #define HAVE_SET_NLINK 1
| #define HAVE_ELEVATOR_CHANGE 1
| #define HAVE_5ARG_SGET 1
| #define HAVE_VFS_READDIR 1
| 
| 
| 		#include <linux/fs.h>
| 
| 		ssize_t test_read(struct kiocb *kiocb, struct iov_iter *to)
| 		    { return 0; }
| 		ssize_t test_write(struct kiocb *kiocb, struct iov_iter *from)
| 		    { return 0; }
| 
| 		static const struct file_operations
| 		    fops __attribute__ ((unused)) = {
| 		    .read_iter = test_read,
| 		    .write_iter = test_write,
| 		};
| 
| int
| main (void)
| {
| 
| 
|   ;
|   return 0;
| }
| 
configure:40928: result: no
configure:40938: checking whether generic_write_checks() takes kiocb
configure:40974: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
/home/kau/zfs_chksm/build/conftest.c: In function ‘main’:
/home/kau/zfs_chksm/build/conftest.c:138:3: error: passing argument 1 of ‘generic_write_checks’ from incompatible pointer type [-Werror]
   generic_write_checks(iocb, iov);
   ^
In file included from /home/kau/zfs_chksm/build/conftest.c:129:0:
include/linux/fs.h:2994:5: note: expected ‘struct file *’ but argument is of type ‘struct kiocb *’
 int generic_write_checks(struct file *file, loff_t *pos, size_t *count, int isblk);
     ^
/home/kau/zfs_chksm/build/conftest.c:138:3: error: passing argument 2 of ‘generic_write_checks’ from incompatible pointer type [-Werror]
   generic_write_checks(iocb, iov);
   ^
In file included from /home/kau/zfs_chksm/build/conftest.c:129:0:
include/linux/fs.h:2994:5: note: expected ‘loff_t *’ but argument is of type ‘struct iov_iter *’
 int generic_write_checks(struct file *file, loff_t *pos, size_t *count, int isblk);
     ^
/home/kau/zfs_chksm/build/conftest.c:138:3: error: too few arguments to function ‘generic_write_checks’
   generic_write_checks(iocb, iov);
   ^
In file included from /home/kau/zfs_chksm/build/conftest.c:129:0:
include/linux/fs.h:2994:5: note: declared here
 int generic_write_checks(struct file *file, loff_t *pos, size_t *count, int isblk);
     ^
cc1: all warnings being treated as errors
make[1]: *** [/home/kau/zfs_chksm/build/conftest.o] Error 1
make: *** [_module_/home/kau/zfs_chksm/build] Error 2
configure:40977: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_BIO_SET_DEV_GPL_ONLY 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| #define HAVE_GET_ACL 1
| #define HAVE_VFSMOUNT_IOPS_GETATTR 1
| #define HAVE_INODE_SET_FLAGS 1
| #define HAVE_SHOW_OPTIONS_WITH_DENTRY 1
| #define HAVE_FILE_INODE 1
| #define HAVE_FILE_DENTRY 1
| #define HAVE_FSYNC_RANGE 1
| #define HAVE_EVICT_INODE 1
| #define HAVE_DIRTY_INODE_WITH_FLAGS 1
| #define HAVE_NR_CACHED_OBJECTS 1
| #define HAVE_FREE_CACHED_OBJECTS 1
| #define HAVE_FILE_FALLOCATE 1
| #define HAVE_FILE_AIO_FSYNC 1
| #define HAVE_MKDIR_UMODE_T 1
| #define HAVE_FOLLOW_LINK_NAMEIDATA 1
| #define HAVE_PUT_LINK_NAMEIDATA 1
| #define HAVE_AUTOMOUNT 1
| #define HAVE_ENCODE_FH_WITH_INODE 1
| #define HAVE_COMMIT_METADATA 1
| #define HAVE_CLEAR_INODE 1
| #define HAVE_INSERT_INODE_LOCKED 1
| #define HAVE_D_MAKE_ROOT 1
| #define HAVE_D_OBTAIN_ALIAS 1
| #define HAVE_D_PRUNE_ALIASES 1
| #define HAVE_D_SET_D_OP 1
| #define HAVE_CONST_DENTRY_OPERATIONS 1
| #define HAVE_TRUNCATE_SETSIZE 1
| #define HAVE_CALLBACK_SECURITY_INODE_INIT_SECURITY 1
| #define HAVE_FST_MOUNT 1
| #define HAVE_SHRINK 1
| #define HAVE_S_D_OP 1
| #define HAVE_3ARGS_BDI_SETUP_AND_REGISTER 1
| #define HAVE_SET_NLINK 1
| #define HAVE_ELEVATOR_CHANGE 1
| #define HAVE_5ARG_SGET 1
| #define HAVE_VFS_READDIR 1
| 
| 
| 		#include <linux/fs.h>
| 
| 
| int
| main (void)
| {
| 
| 		struct kiocb *iocb = NULL;
| 		struct iov_iter *iov = NULL;
| 		generic_write_checks(iocb, iov);
| 
|   ;
|   return 0;
| }
| 
configure:40995: result: no
configure:41006: checking whether kmap_atomic wants 1 args
configure:41040: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:41043: $? = 0
configure:41045: test -s build/conftest.o
configure:41048: $? = 0
configure:41051: result: yes
configure:41072: checking whether follow_down_one() is available
configure:41106: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:41109: $? = 0
configure:41111: test -s build/conftest.o
configure:41114: $? = 0
configure:41117: result: yes
configure:41138: checking whether make_request_fn() returns int
configure:41176: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
/home/kau/zfs_chksm/build/conftest.c: In function ‘main’:
/home/kau/zfs_chksm/build/conftest.c:142:3: error: passing argument 2 of ‘blk_queue_make_request’ from incompatible pointer type [-Werror]
   blk_queue_make_request(NULL, &make_request);
   ^
In file included from /home/kau/zfs_chksm/build/conftest.c:131:0:
include/linux/blkdev.h:1143:13: note: expected ‘void (*)(struct request_queue *, struct bio *)’ but argument is of type ‘int (*)(struct request_queue *, struct bio *)’
 extern void blk_queue_make_request(struct request_queue *, make_request_fn *);
             ^
cc1: all warnings being treated as errors
make[1]: *** [/home/kau/zfs_chksm/build/conftest.o] Error 1
make: *** [_module_/home/kau/zfs_chksm/build] Error 2
configure:41179: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_BIO_SET_DEV_GPL_ONLY 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| #define HAVE_GET_ACL 1
| #define HAVE_VFSMOUNT_IOPS_GETATTR 1
| #define HAVE_INODE_SET_FLAGS 1
| #define HAVE_SHOW_OPTIONS_WITH_DENTRY 1
| #define HAVE_FILE_INODE 1
| #define HAVE_FILE_DENTRY 1
| #define HAVE_FSYNC_RANGE 1
| #define HAVE_EVICT_INODE 1
| #define HAVE_DIRTY_INODE_WITH_FLAGS 1
| #define HAVE_NR_CACHED_OBJECTS 1
| #define HAVE_FREE_CACHED_OBJECTS 1
| #define HAVE_FILE_FALLOCATE 1
| #define HAVE_FILE_AIO_FSYNC 1
| #define HAVE_MKDIR_UMODE_T 1
| #define HAVE_FOLLOW_LINK_NAMEIDATA 1
| #define HAVE_PUT_LINK_NAMEIDATA 1
| #define HAVE_AUTOMOUNT 1
| #define HAVE_ENCODE_FH_WITH_INODE 1
| #define HAVE_COMMIT_METADATA 1
| #define HAVE_CLEAR_INODE 1
| #define HAVE_INSERT_INODE_LOCKED 1
| #define HAVE_D_MAKE_ROOT 1
| #define HAVE_D_OBTAIN_ALIAS 1
| #define HAVE_D_PRUNE_ALIASES 1
| #define HAVE_D_SET_D_OP 1
| #define HAVE_CONST_DENTRY_OPERATIONS 1
| #define HAVE_TRUNCATE_SETSIZE 1
| #define HAVE_CALLBACK_SECURITY_INODE_INIT_SECURITY 1
| #define HAVE_FST_MOUNT 1
| #define HAVE_SHRINK 1
| #define HAVE_S_D_OP 1
| #define HAVE_3ARGS_BDI_SETUP_AND_REGISTER 1
| #define HAVE_SET_NLINK 1
| #define HAVE_ELEVATOR_CHANGE 1
| #define HAVE_5ARG_SGET 1
| #define HAVE_VFS_READDIR 1
| #define HAVE_1ARG_KMAP_ATOMIC 1
| #define HAVE_FOLLOW_DOWN_ONE 1
| 
| 
| 		#include <linux/blkdev.h>
| 
| 		int make_request(struct request_queue *q, struct bio *bio)
| 		{
| 			return (0);
| 		}
| 
| int
| main (void)
| {
| 
| 		blk_queue_make_request(NULL, &make_request);
| 
|   ;
|   return 0;
| }
| 
configure:41200: result: no
configure:41202: checking whether make_request_fn() returns void
configure:41240: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:41243: $? = 0
configure:41245: test -s build/conftest.o
configure:41248: $? = 0
configure:41251: result: yes
configure:41350: checking whether 3 arg generic IO accounting symbols are available
configure:41390: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
/home/kau/zfs_chksm/build/conftest.c:135:29: error: initialization from incompatible pointer type [-Werror]
       struct hd_struct *) = &generic_start_io_acct;
                             ^
/home/kau/zfs_chksm/build/conftest.c:137:24: error: initialization from incompatible pointer type [-Werror]
       unsigned long) = &generic_end_io_acct;
                        ^
/home/kau/zfs_chksm/build/conftest.c: In function ‘main’:
/home/kau/zfs_chksm/build/conftest.c:143:3: error: passing argument 3 of ‘generic_start_io_acct’ makes integer from pointer without a cast [-Werror]
   generic_start_io_acct(0, 0, NULL);
   ^
In file included from /home/kau/zfs_chksm/build/conftest.c:132:0:
include/linux/bio.h:318:6: note: expected ‘long unsigned int’ but argument is of type ‘void *’
 void generic_start_io_acct(struct request_queue *q, int rw,
      ^
/home/kau/zfs_chksm/build/conftest.c:143:3: error: too few arguments to function ‘generic_start_io_acct’
   generic_start_io_acct(0, 0, NULL);
   ^
In file included from /home/kau/zfs_chksm/build/conftest.c:132:0:
include/linux/bio.h:318:6: note: declared here
 void generic_start_io_acct(struct request_queue *q, int rw,
      ^
/home/kau/zfs_chksm/build/conftest.c:144:3: error: passing argument 2 of ‘generic_end_io_acct’ makes integer from pointer without a cast [-Werror]
   generic_end_io_acct(0, NULL, 0);
   ^
In file included from /home/kau/zfs_chksm/build/conftest.c:132:0:
include/linux/bio.h:320:6: note: expected ‘int’ but argument is of type ‘void *’
 void generic_end_io_acct(struct request_queue *q, int rw,
      ^
/home/kau/zfs_chksm/build/conftest.c:144:3: error: too few arguments to function ‘generic_end_io_acct’
   generic_end_io_acct(0, NULL, 0);
   ^
In file included from /home/kau/zfs_chksm/build/conftest.c:132:0:
include/linux/bio.h:320:6: note: declared here
 void generic_end_io_acct(struct request_queue *q, int rw,
      ^
cc1: all warnings being treated as errors
make[1]: *** [/home/kau/zfs_chksm/build/conftest.o] Error 1
make: *** [_module_/home/kau/zfs_chksm/build] Error 2
configure:41393: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_BIO_SET_DEV_GPL_ONLY 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| #define HAVE_GET_ACL 1
| #define HAVE_VFSMOUNT_IOPS_GETATTR 1
| #define HAVE_INODE_SET_FLAGS 1
| #define HAVE_SHOW_OPTIONS_WITH_DENTRY 1
| #define HAVE_FILE_INODE 1
| #define HAVE_FILE_DENTRY 1
| #define HAVE_FSYNC_RANGE 1
| #define HAVE_EVICT_INODE 1
| #define HAVE_DIRTY_INODE_WITH_FLAGS 1
| #define HAVE_NR_CACHED_OBJECTS 1
| #define HAVE_FREE_CACHED_OBJECTS 1
| #define HAVE_FILE_FALLOCATE 1
| #define HAVE_FILE_AIO_FSYNC 1
| #define HAVE_MKDIR_UMODE_T 1
| #define HAVE_FOLLOW_LINK_NAMEIDATA 1
| #define HAVE_PUT_LINK_NAMEIDATA 1
| #define HAVE_AUTOMOUNT 1
| #define HAVE_ENCODE_FH_WITH_INODE 1
| #define HAVE_COMMIT_METADATA 1
| #define HAVE_CLEAR_INODE 1
| #define HAVE_INSERT_INODE_LOCKED 1
| #define HAVE_D_MAKE_ROOT 1
| #define HAVE_D_OBTAIN_ALIAS 1
| #define HAVE_D_PRUNE_ALIASES 1
| #define HAVE_D_SET_D_OP 1
| #define HAVE_CONST_DENTRY_OPERATIONS 1
| #define HAVE_TRUNCATE_SETSIZE 1
| #define HAVE_CALLBACK_SECURITY_INODE_INIT_SECURITY 1
| #define HAVE_FST_MOUNT 1
| #define HAVE_SHRINK 1
| #define HAVE_S_D_OP 1
| #define HAVE_3ARGS_BDI_SETUP_AND_REGISTER 1
| #define HAVE_SET_NLINK 1
| #define HAVE_ELEVATOR_CHANGE 1
| #define HAVE_5ARG_SGET 1
| #define HAVE_VFS_READDIR 1
| #define HAVE_1ARG_KMAP_ATOMIC 1
| #define HAVE_FOLLOW_DOWN_ONE 1
| #define MAKE_REQUEST_FN_RET void
| 
| 
| 		#include <linux/bio.h>
| 
| 		void (*generic_start_io_acct_f)(int, unsigned long,
| 		    struct hd_struct *) = &generic_start_io_acct;
| 		void (*generic_end_io_acct_f)(int, struct hd_struct *,
| 		    unsigned long) = &generic_end_io_acct;
| 
| int
| main (void)
| {
| 
| 		generic_start_io_acct(0, 0, NULL);
| 		generic_end_io_acct(0, NULL, 0);
| 
|   ;
|   return 0;
| }
| 
configure:41413: result: no
configure:41461: checking whether 4 arg generic IO accounting symbols are available
configure:41501: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:41504: $? = 0
configure:41506: test -s build/conftest.o
configure:41509: $? = 0
configure:41561: result: yes
configure:41572: checking which kernel_fpu function to use
configure:41607: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:41610: $? = 0
configure:41612: test -s build/conftest.o
configure:41615: $? = 0
configure:41618: result: kernel_fpu_*
configure:41706: checking whether i_(uid|gid)_(read|write) exist
configure:41740: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:41743: $? = 0
configure:41745: test -s build/conftest.o
configure:41748: $? = 0
configure:41751: result: yes
configure:41772: checking whether module_param_call() is hardened
configure:41817: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
In file included from include/linux/thread_info.h:11:0,
                 from include/linux/preempt.h:9,
                 from include/linux/spinlock.h:50,
                 from include/linux/seqlock.h:35,
                 from include/linux/time.h:5,
                 from include/linux/stat.h:18,
                 from include/linux/module.h:10,
                 from /home/kau/zfs_chksm/build/conftest.c:136:
include/linux/bug.h:36:45: error: passing argument 1 of ‘__check_old_set_param’ from incompatible pointer type [-Werror]
 #define BUILD_BUG_ON_ZERO(e) (sizeof(struct { int:-!!(e); }))
                                             ^
include/linux/moduleparam.h:179:2: note: in expansion of macro ‘BUILD_BUG_ON_ZERO’
  BUILD_BUG_ON_ZERO((perm) < 0 || (perm) > 0777 || ((perm) & 2)) \
  ^
include/linux/moduleparam.h:191:2: note: in expansion of macro ‘__module_param_call’
  __module_param_call(MODULE_PARAM_PREFIX,   \
  ^
/home/kau/zfs_chksm/build/conftest.c:149:3: note: in expansion of macro ‘module_param_call’
   module_param_call(p, param_set, param_get, NULL, 0644);
   ^
In file included from include/linux/module.h:17:0,
                 from /home/kau/zfs_chksm/build/conftest.c:136:
include/linux/moduleparam.h:197:1: note: expected ‘int (*)(const char *, struct kernel_param *)’ but argument is of type ‘int (*)(const char *, const struct kernel_param *)’
 __check_old_set_param(int (*oldset)(const char *, struct kernel_param *))
 ^
In file included from include/linux/thread_info.h:11:0,
                 from include/linux/preempt.h:9,
                 from include/linux/spinlock.h:50,
                 from include/linux/seqlock.h:35,
                 from include/linux/time.h:5,
                 from include/linux/stat.h:18,
                 from include/linux/module.h:10,
                 from /home/kau/zfs_chksm/build/conftest.c:136:
include/linux/bug.h:36:45: error: passing argument 1 of ‘__check_old_set_param’ from incompatible pointer type [-Werror]
 #define BUILD_BUG_ON_ZERO(e) (sizeof(struct { int:-!!(e); }))
                                             ^
include/linux/moduleparam.h:179:2: note: in expansion of macro ‘BUILD_BUG_ON_ZERO’
  BUILD_BUG_ON_ZERO((perm) < 0 || (perm) > 0777 || ((perm) & 2)) \
  ^
include/linux/moduleparam.h:191:2: note: in expansion of macro ‘__module_param_call’
  __module_param_call(MODULE_PARAM_PREFIX,   \
  ^
/home/kau/zfs_chksm/build/conftest.c:149:3: note: in expansion of macro ‘module_param_call’
   module_param_call(p, param_set, param_get, NULL, 0644);
   ^
In file included from include/linux/module.h:17:0,
                 from /home/kau/zfs_chksm/build/conftest.c:136:
include/linux/moduleparam.h:197:1: note: expected ‘int (*)(const char *, struct kernel_param *)’ but argument is of type ‘int (*)(const char *, const struct kernel_param *)’
 __check_old_set_param(int (*oldset)(const char *, struct kernel_param *))
 ^
In file included from include/linux/thread_info.h:11:0,
                 from include/linux/preempt.h:9,
                 from include/linux/spinlock.h:50,
                 from include/linux/seqlock.h:35,
                 from include/linux/time.h:5,
                 from include/linux/stat.h:18,
                 from include/linux/module.h:10,
                 from /home/kau/zfs_chksm/build/conftest.c:136:
include/linux/bug.h:36:45: error: passing argument 1 of ‘__check_old_set_param’ from incompatible pointer type [-Werror]
 #define BUILD_BUG_ON_ZERO(e) (sizeof(struct { int:-!!(e); }))
                                             ^
include/linux/moduleparam.h:179:2: note: in expansion of macro ‘BUILD_BUG_ON_ZERO’
  BUILD_BUG_ON_ZERO((perm) < 0 || (perm) > 0777 || ((perm) & 2)) \
  ^
include/linux/moduleparam.h:191:2: note: in expansion of macro ‘__module_param_call’
  __module_param_call(MODULE_PARAM_PREFIX,   \
  ^
/home/kau/zfs_chksm/build/conftest.c:149:3: note: in expansion of macro ‘module_param_call’
   module_param_call(p, param_set, param_get, NULL, 0644);
   ^
In file included from include/linux/module.h:17:0,
                 from /home/kau/zfs_chksm/build/conftest.c:136:
include/linux/moduleparam.h:197:1: note: expected ‘int (*)(const char *, struct kernel_param *)’ but argument is of type ‘int (*)(const char *, const struct kernel_param *)’
 __check_old_set_param(int (*oldset)(const char *, struct kernel_param *))
 ^
include/linux/moduleparam.h:182:16: error: passing argument 1 of ‘__check_old_set_param’ from incompatible pointer type [-Werror]
  static struct kernel_param __moduleparam_const __param_##name \
                ^
include/linux/moduleparam.h:191:2: note: in expansion of macro ‘__module_param_call’
  __module_param_call(MODULE_PARAM_PREFIX,   \
  ^
/home/kau/zfs_chksm/build/conftest.c:149:3: note: in expansion of macro ‘module_param_call’
   module_param_call(p, param_set, param_get, NULL, 0644);
   ^
include/linux/moduleparam.h:197:1: note: expected ‘int (*)(const char *, struct kernel_param *)’ but argument is of type ‘int (*)(const char *, const struct kernel_param *)’
 __check_old_set_param(int (*oldset)(const char *, struct kernel_param *))
 ^
cc1: all warnings being treated as errors
make[1]: *** [/home/kau/zfs_chksm/build/conftest.o] Error 1
make: *** [_module_/home/kau/zfs_chksm/build] Error 2
configure:41820: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_BIO_SET_DEV_GPL_ONLY 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| #define HAVE_GET_ACL 1
| #define HAVE_VFSMOUNT_IOPS_GETATTR 1
| #define HAVE_INODE_SET_FLAGS 1
| #define HAVE_SHOW_OPTIONS_WITH_DENTRY 1
| #define HAVE_FILE_INODE 1
| #define HAVE_FILE_DENTRY 1
| #define HAVE_FSYNC_RANGE 1
| #define HAVE_EVICT_INODE 1
| #define HAVE_DIRTY_INODE_WITH_FLAGS 1
| #define HAVE_NR_CACHED_OBJECTS 1
| #define HAVE_FREE_CACHED_OBJECTS 1
| #define HAVE_FILE_FALLOCATE 1
| #define HAVE_FILE_AIO_FSYNC 1
| #define HAVE_MKDIR_UMODE_T 1
| #define HAVE_FOLLOW_LINK_NAMEIDATA 1
| #define HAVE_PUT_LINK_NAMEIDATA 1
| #define HAVE_AUTOMOUNT 1
| #define HAVE_ENCODE_FH_WITH_INODE 1
| #define HAVE_COMMIT_METADATA 1
| #define HAVE_CLEAR_INODE 1
| #define HAVE_INSERT_INODE_LOCKED 1
| #define HAVE_D_MAKE_ROOT 1
| #define HAVE_D_OBTAIN_ALIAS 1
| #define HAVE_D_PRUNE_ALIASES 1
| #define HAVE_D_SET_D_OP 1
| #define HAVE_CONST_DENTRY_OPERATIONS 1
| #define HAVE_TRUNCATE_SETSIZE 1
| #define HAVE_CALLBACK_SECURITY_INODE_INIT_SECURITY 1
| #define HAVE_FST_MOUNT 1
| #define HAVE_SHRINK 1
| #define HAVE_S_D_OP 1
| #define HAVE_3ARGS_BDI_SETUP_AND_REGISTER 1
| #define HAVE_SET_NLINK 1
| #define HAVE_ELEVATOR_CHANGE 1
| #define HAVE_5ARG_SGET 1
| #define HAVE_VFS_READDIR 1
| #define HAVE_1ARG_KMAP_ATOMIC 1
| #define HAVE_FOLLOW_DOWN_ONE 1
| #define MAKE_REQUEST_FN_RET void
| #define HAVE_GENERIC_IO_ACCT_4ARG 1
| #define HAVE_KERNEL_FPU 1
| #define KERNEL_EXPORTS_X86_FPU 1
| #define HAVE_KUID_HELPERS 1
| 
| 
| 		#include <linux/module.h>
| 		#include <linux/moduleparam.h>
| 
| 		int param_get(char *b, const struct kernel_param *kp)
| 		{
| 			return (0);
| 		}
| 
| 		int param_set(const char *b, const struct kernel_param *kp)
| 		{
| 			return (0);
| 		}
| 
| 		module_param_call(p, param_set, param_get, NULL, 0644);
| 
| int
| main (void)
| {
| 
| 
|   ;
|   return 0;
| }
| 
configure:41838: result: no
configure:41849: checking whether iops->rename() wants flags
configure:41889: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
/home/kau/zfs_chksm/build/conftest.c:143:4: error: initialization from incompatible pointer type [-Werror]
    .rename = rename_fn,
    ^
/home/kau/zfs_chksm/build/conftest.c:143:4: error: (near initialization for ‘iops.rename’) [-Werror]
cc1: all warnings being treated as errors
make[1]: *** [/home/kau/zfs_chksm/build/conftest.o] Error 1
make: *** [_module_/home/kau/zfs_chksm/build] Error 2
configure:41892: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_BIO_SET_DEV_GPL_ONLY 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| #define HAVE_GET_ACL 1
| #define HAVE_VFSMOUNT_IOPS_GETATTR 1
| #define HAVE_INODE_SET_FLAGS 1
| #define HAVE_SHOW_OPTIONS_WITH_DENTRY 1
| #define HAVE_FILE_INODE 1
| #define HAVE_FILE_DENTRY 1
| #define HAVE_FSYNC_RANGE 1
| #define HAVE_EVICT_INODE 1
| #define HAVE_DIRTY_INODE_WITH_FLAGS 1
| #define HAVE_NR_CACHED_OBJECTS 1
| #define HAVE_FREE_CACHED_OBJECTS 1
| #define HAVE_FILE_FALLOCATE 1
| #define HAVE_FILE_AIO_FSYNC 1
| #define HAVE_MKDIR_UMODE_T 1
| #define HAVE_FOLLOW_LINK_NAMEIDATA 1
| #define HAVE_PUT_LINK_NAMEIDATA 1
| #define HAVE_AUTOMOUNT 1
| #define HAVE_ENCODE_FH_WITH_INODE 1
| #define HAVE_COMMIT_METADATA 1
| #define HAVE_CLEAR_INODE 1
| #define HAVE_INSERT_INODE_LOCKED 1
| #define HAVE_D_MAKE_ROOT 1
| #define HAVE_D_OBTAIN_ALIAS 1
| #define HAVE_D_PRUNE_ALIASES 1
| #define HAVE_D_SET_D_OP 1
| #define HAVE_CONST_DENTRY_OPERATIONS 1
| #define HAVE_TRUNCATE_SETSIZE 1
| #define HAVE_CALLBACK_SECURITY_INODE_INIT_SECURITY 1
| #define HAVE_FST_MOUNT 1
| #define HAVE_SHRINK 1
| #define HAVE_S_D_OP 1
| #define HAVE_3ARGS_BDI_SETUP_AND_REGISTER 1
| #define HAVE_SET_NLINK 1
| #define HAVE_ELEVATOR_CHANGE 1
| #define HAVE_5ARG_SGET 1
| #define HAVE_VFS_READDIR 1
| #define HAVE_1ARG_KMAP_ATOMIC 1
| #define HAVE_FOLLOW_DOWN_ONE 1
| #define MAKE_REQUEST_FN_RET void
| #define HAVE_GENERIC_IO_ACCT_4ARG 1
| #define HAVE_KERNEL_FPU 1
| #define KERNEL_EXPORTS_X86_FPU 1
| #define HAVE_KUID_HELPERS 1
| 
| 
| 		#include <linux/fs.h>
| 		int rename_fn(struct inode *sip, struct dentry *sdp,
| 			struct inode *tip, struct dentry *tdp,
| 			unsigned int flags) { return 0; }
| 
| 		static const struct inode_operations
| 		    iops __attribute__ ((unused)) = {
| 			.rename = rename_fn,
| 		};
| 
| int
| main (void)
| {
| 
| 
|   ;
|   return 0;
| }
| 
configure:41910: result: no
configure:41921: checking whether generic_setxattr() exists
configure:41959: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:41962: $? = 0
configure:41964: test -s build/conftest.o
configure:41967: $? = 0
configure:41970: result: yes
configure:41990: checking whether current_time() exists
configure:42025: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
/home/kau/zfs_chksm/build/conftest.c: In function ‘main’:
/home/kau/zfs_chksm/build/conftest.c:144:3: error: implicit declaration of function ‘current_time’ [-Werror=implicit-function-declaration]
   ip.i_atime = current_time(&ip);
   ^
/home/kau/zfs_chksm/build/conftest.c:144:14: error: incompatible types when assigning to type ‘struct timespec’ from type ‘int’
   ip.i_atime = current_time(&ip);
              ^
cc1: all warnings being treated as errors
make[1]: *** [/home/kau/zfs_chksm/build/conftest.o] Error 1
make: *** [_module_/home/kau/zfs_chksm/build] Error 2
configure:42028: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_BIO_SET_DEV_GPL_ONLY 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| #define HAVE_GET_ACL 1
| #define HAVE_VFSMOUNT_IOPS_GETATTR 1
| #define HAVE_INODE_SET_FLAGS 1
| #define HAVE_SHOW_OPTIONS_WITH_DENTRY 1
| #define HAVE_FILE_INODE 1
| #define HAVE_FILE_DENTRY 1
| #define HAVE_FSYNC_RANGE 1
| #define HAVE_EVICT_INODE 1
| #define HAVE_DIRTY_INODE_WITH_FLAGS 1
| #define HAVE_NR_CACHED_OBJECTS 1
| #define HAVE_FREE_CACHED_OBJECTS 1
| #define HAVE_FILE_FALLOCATE 1
| #define HAVE_FILE_AIO_FSYNC 1
| #define HAVE_MKDIR_UMODE_T 1
| #define HAVE_FOLLOW_LINK_NAMEIDATA 1
| #define HAVE_PUT_LINK_NAMEIDATA 1
| #define HAVE_AUTOMOUNT 1
| #define HAVE_ENCODE_FH_WITH_INODE 1
| #define HAVE_COMMIT_METADATA 1
| #define HAVE_CLEAR_INODE 1
| #define HAVE_INSERT_INODE_LOCKED 1
| #define HAVE_D_MAKE_ROOT 1
| #define HAVE_D_OBTAIN_ALIAS 1
| #define HAVE_D_PRUNE_ALIASES 1
| #define HAVE_D_SET_D_OP 1
| #define HAVE_CONST_DENTRY_OPERATIONS 1
| #define HAVE_TRUNCATE_SETSIZE 1
| #define HAVE_CALLBACK_SECURITY_INODE_INIT_SECURITY 1
| #define HAVE_FST_MOUNT 1
| #define HAVE_SHRINK 1
| #define HAVE_S_D_OP 1
| #define HAVE_3ARGS_BDI_SETUP_AND_REGISTER 1
| #define HAVE_SET_NLINK 1
| #define HAVE_ELEVATOR_CHANGE 1
| #define HAVE_5ARG_SGET 1
| #define HAVE_VFS_READDIR 1
| #define HAVE_1ARG_KMAP_ATOMIC 1
| #define HAVE_FOLLOW_DOWN_ONE 1
| #define MAKE_REQUEST_FN_RET void
| #define HAVE_GENERIC_IO_ACCT_4ARG 1
| #define HAVE_KERNEL_FPU 1
| #define KERNEL_EXPORTS_X86_FPU 1
| #define HAVE_KUID_HELPERS 1
| #define HAVE_GENERIC_SETXATTR 1
| 
| 
| 		#include <linux/fs.h>
| 
| int
| main (void)
| {
| 
| 		struct inode ip __attribute__ ((unused));
| 		ip.i_atime = current_time(&ip);
| 
|   ;
|   return 0;
| }
| 
configure:42048: result: no
configure:42097: checking whether global_node_page_state() exists
configure:42131: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
/home/kau/zfs_chksm/build/conftest.c: In function ‘main’:
/home/kau/zfs_chksm/build/conftest.c:144:3: error: implicit declaration of function ‘global_node_page_state’ [-Werror=implicit-function-declaration]
   (void) global_node_page_state(0);
   ^
cc1: all warnings being treated as errors
make[1]: *** [/home/kau/zfs_chksm/build/conftest.o] Error 1
make: *** [_module_/home/kau/zfs_chksm/build] Error 2
configure:42134: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_BIO_SET_DEV_GPL_ONLY 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| #define HAVE_GET_ACL 1
| #define HAVE_VFSMOUNT_IOPS_GETATTR 1
| #define HAVE_INODE_SET_FLAGS 1
| #define HAVE_SHOW_OPTIONS_WITH_DENTRY 1
| #define HAVE_FILE_INODE 1
| #define HAVE_FILE_DENTRY 1
| #define HAVE_FSYNC_RANGE 1
| #define HAVE_EVICT_INODE 1
| #define HAVE_DIRTY_INODE_WITH_FLAGS 1
| #define HAVE_NR_CACHED_OBJECTS 1
| #define HAVE_FREE_CACHED_OBJECTS 1
| #define HAVE_FILE_FALLOCATE 1
| #define HAVE_FILE_AIO_FSYNC 1
| #define HAVE_MKDIR_UMODE_T 1
| #define HAVE_FOLLOW_LINK_NAMEIDATA 1
| #define HAVE_PUT_LINK_NAMEIDATA 1
| #define HAVE_AUTOMOUNT 1
| #define HAVE_ENCODE_FH_WITH_INODE 1
| #define HAVE_COMMIT_METADATA 1
| #define HAVE_CLEAR_INODE 1
| #define HAVE_INSERT_INODE_LOCKED 1
| #define HAVE_D_MAKE_ROOT 1
| #define HAVE_D_OBTAIN_ALIAS 1
| #define HAVE_D_PRUNE_ALIASES 1
| #define HAVE_D_SET_D_OP 1
| #define HAVE_CONST_DENTRY_OPERATIONS 1
| #define HAVE_TRUNCATE_SETSIZE 1
| #define HAVE_CALLBACK_SECURITY_INODE_INIT_SECURITY 1
| #define HAVE_FST_MOUNT 1
| #define HAVE_SHRINK 1
| #define HAVE_S_D_OP 1
| #define HAVE_3ARGS_BDI_SETUP_AND_REGISTER 1
| #define HAVE_SET_NLINK 1
| #define HAVE_ELEVATOR_CHANGE 1
| #define HAVE_5ARG_SGET 1
| #define HAVE_VFS_READDIR 1
| #define HAVE_1ARG_KMAP_ATOMIC 1
| #define HAVE_FOLLOW_DOWN_ONE 1
| #define MAKE_REQUEST_FN_RET void
| #define HAVE_GENERIC_IO_ACCT_4ARG 1
| #define HAVE_KERNEL_FPU 1
| #define KERNEL_EXPORTS_X86_FPU 1
| #define HAVE_KUID_HELPERS 1
| #define HAVE_GENERIC_SETXATTR 1
| 
| 
| 		#include <linux/mm.h>
| 		#include <linux/vmstat.h>
| 
| int
| main (void)
| {
| 
| 		(void) global_node_page_state(0);
| 
|   ;
|   return 0;
| }
| 
configure:42152: result: no
configure:42163: checking whether global_zone_page_state() exists
configure:42197: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
/home/kau/zfs_chksm/build/conftest.c: In function ‘main’:
/home/kau/zfs_chksm/build/conftest.c:144:3: error: implicit declaration of function ‘global_zone_page_state’ [-Werror=implicit-function-declaration]
   (void) global_zone_page_state(0);
   ^
cc1: all warnings being treated as errors
make[1]: *** [/home/kau/zfs_chksm/build/conftest.o] Error 1
make: *** [_module_/home/kau/zfs_chksm/build] Error 2
configure:42200: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_BIO_SET_DEV_GPL_ONLY 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| #define HAVE_GET_ACL 1
| #define HAVE_VFSMOUNT_IOPS_GETATTR 1
| #define HAVE_INODE_SET_FLAGS 1
| #define HAVE_SHOW_OPTIONS_WITH_DENTRY 1
| #define HAVE_FILE_INODE 1
| #define HAVE_FILE_DENTRY 1
| #define HAVE_FSYNC_RANGE 1
| #define HAVE_EVICT_INODE 1
| #define HAVE_DIRTY_INODE_WITH_FLAGS 1
| #define HAVE_NR_CACHED_OBJECTS 1
| #define HAVE_FREE_CACHED_OBJECTS 1
| #define HAVE_FILE_FALLOCATE 1
| #define HAVE_FILE_AIO_FSYNC 1
| #define HAVE_MKDIR_UMODE_T 1
| #define HAVE_FOLLOW_LINK_NAMEIDATA 1
| #define HAVE_PUT_LINK_NAMEIDATA 1
| #define HAVE_AUTOMOUNT 1
| #define HAVE_ENCODE_FH_WITH_INODE 1
| #define HAVE_COMMIT_METADATA 1
| #define HAVE_CLEAR_INODE 1
| #define HAVE_INSERT_INODE_LOCKED 1
| #define HAVE_D_MAKE_ROOT 1
| #define HAVE_D_OBTAIN_ALIAS 1
| #define HAVE_D_PRUNE_ALIASES 1
| #define HAVE_D_SET_D_OP 1
| #define HAVE_CONST_DENTRY_OPERATIONS 1
| #define HAVE_TRUNCATE_SETSIZE 1
| #define HAVE_CALLBACK_SECURITY_INODE_INIT_SECURITY 1
| #define HAVE_FST_MOUNT 1
| #define HAVE_SHRINK 1
| #define HAVE_S_D_OP 1
| #define HAVE_3ARGS_BDI_SETUP_AND_REGISTER 1
| #define HAVE_SET_NLINK 1
| #define HAVE_ELEVATOR_CHANGE 1
| #define HAVE_5ARG_SGET 1
| #define HAVE_VFS_READDIR 1
| #define HAVE_1ARG_KMAP_ATOMIC 1
| #define HAVE_FOLLOW_DOWN_ONE 1
| #define MAKE_REQUEST_FN_RET void
| #define HAVE_GENERIC_IO_ACCT_4ARG 1
| #define HAVE_KERNEL_FPU 1
| #define KERNEL_EXPORTS_X86_FPU 1
| #define HAVE_KUID_HELPERS 1
| #define HAVE_GENERIC_SETXATTR 1
| 
| 
| 		#include <linux/mm.h>
| 		#include <linux/vmstat.h>
| 
| int
| main (void)
| {
| 
| 		(void) global_zone_page_state(0);
| 
|   ;
|   return 0;
| }
| 
configure:42218: result: no
configure:42230: checking whether enum node_stat_item contains NR_FILE_PAGES
configure:42233: ./scripts/enum-extract.pl node_stat_item /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64/include/linux/mmzone.h | egrep -qx NR_FILE_PAGES
configure:42236: $? = 1
configure:42248: result: no
configure:42254: checking whether enum node_stat_item contains NR_INACTIVE_ANON
configure:42257: ./scripts/enum-extract.pl node_stat_item /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64/include/linux/mmzone.h | egrep -qx NR_INACTIVE_ANON
configure:42260: $? = 1
configure:42272: result: no
configure:42278: checking whether enum node_stat_item contains NR_INACTIVE_FILE
configure:42281: ./scripts/enum-extract.pl node_stat_item /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64/include/linux/mmzone.h | egrep -qx NR_INACTIVE_FILE
configure:42284: $? = 1
configure:42296: result: no
configure:42302: checking whether enum node_stat_item contains NR_SLAB_RECLAIMABLE
configure:42305: ./scripts/enum-extract.pl node_stat_item /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64/include/linux/mmzone.h | egrep -qx NR_SLAB_RECLAIMABLE
configure:42308: $? = 1
configure:42320: result: no
configure:42327: checking whether enum zone_stat_item contains NR_FILE_PAGES
configure:42330: ./scripts/enum-extract.pl zone_stat_item /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64/include/linux/mmzone.h | egrep -qx NR_FILE_PAGES
configure:42333: $? = 0
configure:42336: result: yes
configure:42351: checking whether enum zone_stat_item contains NR_INACTIVE_ANON
configure:42354: ./scripts/enum-extract.pl zone_stat_item /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64/include/linux/mmzone.h | egrep -qx NR_INACTIVE_ANON
configure:42357: $? = 0
configure:42360: result: yes
configure:42375: checking whether enum zone_stat_item contains NR_INACTIVE_FILE
configure:42378: ./scripts/enum-extract.pl zone_stat_item /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64/include/linux/mmzone.h | egrep -qx NR_INACTIVE_FILE
configure:42381: $? = 0
configure:42384: result: yes
configure:42399: checking whether enum zone_stat_item contains NR_SLAB_RECLAIMABLE
configure:42402: ./scripts/enum-extract.pl zone_stat_item /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64/include/linux/mmzone.h | egrep -qx NR_SLAB_RECLAIMABLE
configure:42405: $? = 0
configure:42408: result: yes
configure:42424: checking global_page_state enums are sane
configure:42572: result: yes
configure:42577: checking whether posix_acl has refcount_t
configure:42613: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
/home/kau/zfs_chksm/build/conftest.c: In function ‘main’:
/home/kau/zfs_chksm/build/conftest.c:150:44: error: initialization from incompatible pointer type [-Werror]
   refcount_t *r __attribute__ ((unused)) = &acl.a_refcount;
                                            ^
cc1: all warnings being treated as errors
make[1]: *** [/home/kau/zfs_chksm/build/conftest.o] Error 1
make: *** [_module_/home/kau/zfs_chksm/build] Error 2
configure:42616: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.13"
| #define PACKAGE_STRING "zfs 0.7.13"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.13"
| #define ZFS_META_RELEASE "5_g692d353"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.13"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBUDEV 1
| #define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
| #define HAVE_LIBAIO 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_ACCESS_OK_TYPE 1
| #define ZFS_DEVICE_MINOR 249
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_SUPER_USER_NS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_BIO_SET_DEV_GPL_ONLY 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| #define HAVE_GET_ACL 1
| #define HAVE_VFSMOUNT_IOPS_GETATTR 1
| #define HAVE_INODE_SET_FLAGS 1
| #define HAVE_SHOW_OPTIONS_WITH_DENTRY 1
| #define HAVE_FILE_INODE 1
| #define HAVE_FILE_DENTRY 1
| #define HAVE_FSYNC_RANGE 1
| #define HAVE_EVICT_INODE 1
| #define HAVE_DIRTY_INODE_WITH_FLAGS 1
| #define HAVE_NR_CACHED_OBJECTS 1
| #define HAVE_FREE_CACHED_OBJECTS 1
| #define HAVE_FILE_FALLOCATE 1
| #define HAVE_FILE_AIO_FSYNC 1
| #define HAVE_MKDIR_UMODE_T 1
| #define HAVE_FOLLOW_LINK_NAMEIDATA 1
| #define HAVE_PUT_LINK_NAMEIDATA 1
| #define HAVE_AUTOMOUNT 1
| #define HAVE_ENCODE_FH_WITH_INODE 1
| #define HAVE_COMMIT_METADATA 1
| #define HAVE_CLEAR_INODE 1
| #define HAVE_INSERT_INODE_LOCKED 1
| #define HAVE_D_MAKE_ROOT 1
| #define HAVE_D_OBTAIN_ALIAS 1
| #define HAVE_D_PRUNE_ALIASES 1
| #define HAVE_D_SET_D_OP 1
| #define HAVE_CONST_DENTRY_OPERATIONS 1
| #define HAVE_TRUNCATE_SETSIZE 1
| #define HAVE_CALLBACK_SECURITY_INODE_INIT_SECURITY 1
| #define HAVE_FST_MOUNT 1
| #define HAVE_SHRINK 1
| #define HAVE_S_D_OP 1
| #define HAVE_3ARGS_BDI_SETUP_AND_REGISTER 1
| #define HAVE_SET_NLINK 1
| #define HAVE_ELEVATOR_CHANGE 1
| #define HAVE_5ARG_SGET 1
| #define HAVE_VFS_READDIR 1
| #define HAVE_1ARG_KMAP_ATOMIC 1
| #define HAVE_FOLLOW_DOWN_ONE 1
| #define MAKE_REQUEST_FN_RET void
| #define HAVE_GENERIC_IO_ACCT_4ARG 1
| #define HAVE_KERNEL_FPU 1
| #define KERNEL_EXPORTS_X86_FPU 1
| #define HAVE_KUID_HELPERS 1
| #define HAVE_GENERIC_SETXATTR 1
| #define ZFS_ENUM_ZONE_STAT_ITEM_NR_FILE_PAGES 1
| #define ZFS_ENUM_ZONE_STAT_ITEM_NR_INACTIVE_ANON 1
| #define ZFS_ENUM_ZONE_STAT_ITEM_NR_INACTIVE_FILE 1
| #define ZFS_ENUM_ZONE_STAT_ITEM_NR_SLAB_RECLAIMABLE 1
| 
| 
| 		#include <linux/backing-dev.h>
| 		#include <linux/refcount.h>
| 		#include <linux/posix_acl.h>
| 
| int
| main (void)
| {
| 
| 		struct posix_acl acl;
| 		refcount_t *r __attribute__ ((unused)) = &acl.a_refcount;
| 
|   ;
|   return 0;
| }
| 
configure:42634: result: no
configure:42646: checking whether ns_capable exists
configure:42679: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:42682: $? = 0
configure:42684: test -s build/conftest.o
configure:42687: $? = 0
configure:42690: result: yes
configure:42711: checking whether cred_t->user_ns exists
configure:42745: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:42748: $? = 0
configure:42750: test -s build/conftest.o
configure:42753: $? = 0
configure:42756: result: yes
configure:42777: checking whether kuid_has_mapping/kgid_has_mapping exist
configure:42811: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:42814: $? = 0
configure:42816: test -s build/conftest.o
configure:42819: $? = 0
configure:42822: result: yes
configure:42844: checking whether in_compat_syscall() is available
configure:42877: cp conftest.c conftest.h build && make modules -C /usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64 EXTRA_CFLAGS=-Werror -Wframe-larger-than=1024   M=/home/kau/zfs_chksm/build 
configure:42880: $? = 0
configure:42882: test -s build/conftest.o
configure:42885: $? = 0
configure:42888: result: yes
configure:42978: checking whether assertion support will be enabled
configure:43013: result: no
configure:43017: checking whether debuginfo support will be forced
configure:43052: result: no
configure:43173: checking that generated files are newer than configure
configure:43179: result: done
configure:43242: creating ./config.status

## ---------------------- ##
## Running config.status. ##
## ---------------------- ##

This file was extended by zfs config.status 0.7.13, which was
generated by GNU Autoconf 2.69.  Invocation command line was

  CONFIG_FILES    = 
  CONFIG_HEADERS  = 
  CONFIG_LINKS    = 
  CONFIG_COMMANDS = 
  $ ./config.status 

on pm1

config.status:1683: creating Makefile
config.status:1683: creating udev/Makefile
config.status:1683: creating udev/rules.d/Makefile
config.status:1683: creating etc/Makefile
config.status:1683: creating etc/init.d/Makefile
config.status:1683: creating etc/zfs/Makefile
config.status:1683: creating etc/systemd/Makefile
config.status:1683: creating etc/systemd/system/Makefile
config.status:1683: creating etc/sudoers.d/Makefile
config.status:1683: creating etc/modules-load.d/Makefile
config.status:1683: creating man/Makefile
config.status:1683: creating man/man1/Makefile
config.status:1683: creating man/man5/Makefile
config.status:1683: creating man/man8/Makefile
config.status:1683: creating lib/Makefile
config.status:1683: creating lib/libspl/Makefile
config.status:1683: creating lib/libspl/asm-generic/Makefile
config.status:1683: creating lib/libspl/asm-i386/Makefile
config.status:1683: creating lib/libspl/asm-x86_64/Makefile
config.status:1683: creating lib/libspl/include/Makefile
config.status:1683: creating lib/libspl/include/ia32/Makefile
config.status:1683: creating lib/libspl/include/ia32/sys/Makefile
config.status:1683: creating lib/libspl/include/rpc/Makefile
config.status:1683: creating lib/libspl/include/sys/Makefile
config.status:1683: creating lib/libspl/include/sys/dktp/Makefile
config.status:1683: creating lib/libspl/include/util/Makefile
config.status:1683: creating lib/libavl/Makefile
config.status:1683: creating lib/libefi/Makefile
config.status:1683: creating lib/libicp/Makefile
config.status:1683: creating lib/libnvpair/Makefile
config.status:1683: creating lib/libunicode/Makefile
config.status:1683: creating lib/libuutil/Makefile
config.status:1683: creating lib/libzpool/Makefile
config.status:1683: creating lib/libzfs/libzfs.pc
config.status:1683: creating lib/libzfs/libzfs_core.pc
config.status:1683: creating lib/libzfs/Makefile
config.status:1683: creating lib/libzfs_core/Makefile
config.status:1683: creating lib/libshare/Makefile
config.status:1683: creating cmd/Makefile
config.status:1683: creating cmd/zdb/Makefile
config.status:1683: creating cmd/zhack/Makefile
config.status:1683: creating cmd/zfs/Makefile
config.status:1683: creating cmd/zinject/Makefile
config.status:1683: creating cmd/zpool/Makefile
config.status:1683: creating cmd/zstreamdump/Makefile
config.status:1683: creating cmd/ztest/Makefile
config.status:1683: creating cmd/zpios/Makefile
config.status:1683: creating cmd/mount_zfs/Makefile
config.status:1683: creating cmd/fsck_zfs/Makefile
config.status:1683: creating cmd/zvol_id/Makefile
config.status:1683: creating cmd/vdev_id/Makefile
config.status:1683: creating cmd/arcstat/Makefile
config.status:1683: creating cmd/dbufstat/Makefile
config.status:1683: creating cmd/arc_summary/Makefile
config.status:1683: creating cmd/zed/Makefile
config.status:1683: creating cmd/raidz_test/Makefile
config.status:1683: creating cmd/zgenhostid/Makefile
config.status:1683: creating contrib/Makefile
config.status:1683: creating contrib/bash_completion.d/Makefile
config.status:1683: creating contrib/dracut/Makefile
config.status:1683: creating contrib/dracut/02zfsexpandknowledge/Makefile
config.status:1683: creating contrib/dracut/90zfs/Makefile
config.status:1683: creating contrib/initramfs/Makefile
config.status:1683: creating contrib/initramfs/hooks/Makefile
config.status:1683: creating contrib/initramfs/scripts/Makefile
config.status:1683: creating contrib/initramfs/scripts/local-top/Makefile
config.status:1683: creating module/Makefile
config.status:1683: creating module/avl/Makefile
config.status:1683: creating module/nvpair/Makefile
config.status:1683: creating module/unicode/Makefile
config.status:1683: creating module/zcommon/Makefile
config.status:1683: creating module/zfs/Makefile
config.status:1683: creating module/zpios/Makefile
config.status:1683: creating module/icp/Makefile
config.status:1683: creating include/Makefile
config.status:1683: creating include/linux/Makefile
config.status:1683: creating include/sys/Makefile
config.status:1683: creating include/sys/fs/Makefile
config.status:1683: creating include/sys/fm/Makefile
config.status:1683: creating include/sys/fm/fs/Makefile
config.status:1683: creating include/sys/crypto/Makefile
config.status:1683: creating include/sys/sysevent/Makefile
config.status:1683: creating scripts/Makefile
config.status:1683: creating scripts/zpios-profile/Makefile
config.status:1683: creating scripts/zpios-test/Makefile
config.status:1683: creating scripts/zpool-config/Makefile
config.status:1683: creating scripts/common.sh
config.status:1683: creating tests/Makefile
config.status:1683: creating tests/test-runner/Makefile
config.status:1683: creating tests/test-runner/cmd/Makefile
config.status:1683: creating tests/test-runner/include/Makefile
config.status:1683: creating tests/test-runner/man/Makefile
config.status:1683: creating tests/runfiles/Makefile
config.status:1683: creating tests/zfs-tests/Makefile
config.status:1683: creating tests/zfs-tests/callbacks/Makefile
config.status:1683: creating tests/zfs-tests/cmd/Makefile
config.status:1683: creating tests/zfs-tests/cmd/chg_usr_exec/Makefile
config.status:1683: creating tests/zfs-tests/cmd/user_ns_exec/Makefile
config.status:1683: creating tests/zfs-tests/cmd/devname2devid/Makefile
config.status:1683: creating tests/zfs-tests/cmd/dir_rd_update/Makefile
config.status:1683: creating tests/zfs-tests/cmd/file_check/Makefile
config.status:1683: creating tests/zfs-tests/cmd/file_trunc/Makefile
config.status:1683: creating tests/zfs-tests/cmd/file_write/Makefile
config.status:1683: creating tests/zfs-tests/cmd/largest_file/Makefile
config.status:1683: creating tests/zfs-tests/cmd/mkbusy/Makefile
config.status:1683: creating tests/zfs-tests/cmd/mkfile/Makefile
config.status:1683: creating tests/zfs-tests/cmd/mkfiles/Makefile
config.status:1683: creating tests/zfs-tests/cmd/mktree/Makefile
config.status:1683: creating tests/zfs-tests/cmd/mmap_exec/Makefile
config.status:1683: creating tests/zfs-tests/cmd/mmap_libaio/Makefile
config.status:1683: creating tests/zfs-tests/cmd/mmapwrite/Makefile
config.status:1683: creating tests/zfs-tests/cmd/randfree_file/Makefile
config.status:1683: creating tests/zfs-tests/cmd/readmmap/Makefile
config.status:1683: creating tests/zfs-tests/cmd/rename_dir/Makefile
config.status:1683: creating tests/zfs-tests/cmd/rm_lnkcnt_zero_file/Makefile
config.status:1683: creating tests/zfs-tests/cmd/threadsappend/Makefile
config.status:1683: creating tests/zfs-tests/cmd/xattrtest/Makefile
config.status:1683: creating tests/zfs-tests/include/Makefile
config.status:1683: creating tests/zfs-tests/include/default.cfg
config.status:1683: creating tests/zfs-tests/tests/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/acl/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/acl/posix/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/atime/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/bootfs/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/cache/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/cachefile/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/casenorm/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/checksum/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/chattr/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/clean_mirror/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/cli_root/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/cli_root/zdb/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/cli_root/zfs_clone/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/cli_root/zfs_copies/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/cli_root/zfs_create/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/cli_root/zfs_destroy/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/cli_root/zfs_get/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/cli_root/zfs_inherit/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/cli_root/zfs/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/cli_root/zfs_mount/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/cli_root/zfs_promote/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/cli_root/zfs_property/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/cli_root/zfs_receive/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/cli_root/zfs_rename/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/cli_root/zfs_reservation/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/cli_root/zfs_rollback/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/cli_root/zfs_send/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/cli_root/zfs_set/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/cli_root/zfs_share/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/cli_root/zfs_snapshot/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/cli_root/zfs_unmount/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/cli_root/zfs_unshare/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/cli_root/zfs_upgrade/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/cli_root/zpool_add/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/cli_root/zpool_attach/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/cli_root/zpool_clear/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/cli_root/zpool_create/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/cli_root/zpool_destroy/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/cli_root/zpool_detach/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/cli_root/zpool_expand/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/cli_root/zpool_export/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/cli_root/zpool_get/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/cli_root/zpool_history/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/cli_root/zpool_import/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/cli_root/zpool_labelclear/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/cli_root/zpool/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/cli_root/zpool_offline/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/cli_root/zpool_online/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/cli_root/zpool_remove/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/cli_root/zpool_replace/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/cli_root/zpool_scrub/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/cli_root/zpool_set/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/cli_root/zpool_status/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/cli_root/zpool_sync/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/cli_root/zpool_upgrade/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/cli_user/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/cli_user/misc/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/cli_user/zfs_list/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/cli_user/zpool_iostat/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/cli_user/zpool_list/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/compression/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/cp_files/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/ctime/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/delegate/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/devices/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/events/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/exec/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/fault/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/features/async_destroy/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/features/large_dnode/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/features/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/grow_pool/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/grow_replicas/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/history/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/inheritance/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/inuse/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/kstat/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/large_files/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/largest_pool/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/link_count/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/libzfs/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/migration/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/mmap/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/mmp/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/mount/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/mv_files/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/nestedfs/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/no_space/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/nopwrite/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/online_offline/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/pool_names/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/poolversion/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/privilege/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/quota/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/raidz/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/redundancy/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/refquota/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/refreserv/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/rename_dirs/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/replacement/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/reservation/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/rootpool/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/rsend/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/scrub_mirror/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/slog/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/snapshot/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/snapused/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/sparse/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/threadsappend/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/tmpfile/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/truncate/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/user_namespace/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/userquota/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/upgrade/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/vdev_zaps/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/write_dirs/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/xattr/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/zvol/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/zvol/zvol_cli/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/zvol/zvol_ENOSPC/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/zvol/zvol_misc/Makefile
config.status:1683: creating tests/zfs-tests/tests/functional/zvol/zvol_swap/Makefile
config.status:1683: creating tests/zfs-tests/tests/perf/Makefile
config.status:1683: creating tests/zfs-tests/tests/perf/fio/Makefile
config.status:1683: creating tests/zfs-tests/tests/perf/regression/Makefile
config.status:1683: creating tests/zfs-tests/tests/perf/scripts/Makefile
config.status:1683: creating tests/zfs-tests/tests/stress/Makefile
config.status:1683: creating rpm/Makefile
config.status:1683: creating rpm/redhat/Makefile
config.status:1683: creating rpm/redhat/zfs.spec
config.status:1683: creating rpm/redhat/zfs-kmod.spec
config.status:1683: creating rpm/redhat/zfs-dkms.spec
config.status:1683: creating rpm/generic/Makefile
config.status:1683: creating rpm/generic/zfs.spec
config.status:1683: creating rpm/generic/zfs-kmod.spec
config.status:1683: creating rpm/generic/zfs-dkms.spec
config.status:1683: creating zfs-script-config.sh
config.status:1683: creating zfs.release
config.status:1683: creating zfs_config.h
config.status:1912: executing depfiles commands
config.status:1912: executing libtool commands

## ---------------- ##
## Cache variables. ##
## ---------------- ##

ac_cv_build=x86_64-unknown-linux-gnu
ac_cv_c_compiler_gnu=yes
ac_cv_env_CCASFLAGS_set=
ac_cv_env_CCASFLAGS_value=
ac_cv_env_CCAS_set=
ac_cv_env_CCAS_value=
ac_cv_env_CC_set=
ac_cv_env_CC_value=
ac_cv_env_CFLAGS_set=
ac_cv_env_CFLAGS_value=
ac_cv_env_CPPFLAGS_set=
ac_cv_env_CPPFLAGS_value=
ac_cv_env_CPP_set=
ac_cv_env_CPP_value=
ac_cv_env_LDFLAGS_set=
ac_cv_env_LDFLAGS_value=
ac_cv_env_LIBS_set=
ac_cv_env_LIBS_value=
ac_cv_env_build_alias_set=
ac_cv_env_build_alias_value=
ac_cv_env_host_alias_set=
ac_cv_env_host_alias_value=
ac_cv_env_target_alias_set=
ac_cv_env_target_alias_value=
ac_cv_func_mlockall=yes
ac_cv_header_blkid_blkid_h=yes
ac_cv_header_dlfcn_h=yes
ac_cv_header_inttypes_h=yes
ac_cv_header_libaio_h=yes
ac_cv_header_libudev_h=yes
ac_cv_header_memory_h=yes
ac_cv_header_stdc=yes
ac_cv_header_stdint_h=yes
ac_cv_header_stdlib_h=yes
ac_cv_header_string_h=yes
ac_cv_header_strings_h=yes
ac_cv_header_sys_stat_h=yes
ac_cv_header_sys_types_h=yes
ac_cv_header_unistd_h=yes
ac_cv_header_uuid_uuid_h=yes
ac_cv_header_zlib_h=yes
ac_cv_host=x86_64-unknown-linux-gnu
ac_cv_lib_tirpc_xdrmem_create=no
ac_cv_objext=o
ac_cv_path_EGREP='/usr/bin/grep -E'
ac_cv_path_FGREP='/usr/bin/grep -F'
ac_cv_path_GREP=/usr/bin/grep
ac_cv_path_SED=/usr/bin/sed
ac_cv_path_install='/usr/bin/install -c'
ac_cv_path_mkdir=/usr/bin/mkdir
ac_cv_prog_AWK=gawk
ac_cv_prog_CPP='gcc -E'
ac_cv_prog_ac_ct_AR=ar
ac_cv_prog_ac_ct_CC=gcc
ac_cv_prog_ac_ct_OBJDUMP=objdump
ac_cv_prog_ac_ct_RANLIB=ranlib
ac_cv_prog_ac_ct_STRIP=strip
ac_cv_prog_cc_c89=
ac_cv_prog_cc_g=yes
ac_cv_prog_cc_gcc_c_o=yes
ac_cv_prog_make_make_set=yes
ac_cv_search_compress2=-lz
ac_cv_search_crc32='none required'
ac_cv_search_udev_device_get_is_initialized=-ludev
ac_cv_search_uncompress='none required'
ac_cv_search_uuid_generate=-luuid
ac_cv_search_uuid_is_null='none required'
ac_cv_search_xdrmem_create='none required'
ac_cv_target=x86_64-unknown-linux-gnu
am_cv_CCAS_dependencies_compiler_type=gcc3
am_cv_CC_dependencies_compiler_type=gcc3
am_cv_make_support_nested_variables=yes
lt_cv_ar_at_file=@
lt_cv_archive_cmds_need_lc=no
lt_cv_deplibs_check_method=pass_all
lt_cv_file_magic_cmd='$MAGIC_CMD'
lt_cv_file_magic_test_file=
lt_cv_ld_reload_flag=-r
lt_cv_nm_interface='BSD nm'
lt_cv_objdir=.libs
lt_cv_path_LD=/usr/bin/ld
lt_cv_path_NM='/usr/bin/nm -B'
lt_cv_path_mainfest_tool=no
lt_cv_prog_compiler_c_o=yes
lt_cv_prog_compiler_pic='-fPIC -DPIC'
lt_cv_prog_compiler_pic_works=yes
lt_cv_prog_compiler_rtti_exceptions=no
lt_cv_prog_compiler_static_works=no
lt_cv_prog_gnu_ld=yes
lt_cv_sharedlib_from_linklib_cmd='printf %s\n'
lt_cv_shlibpath_overrides_runpath=no
lt_cv_sys_global_symbol_pipe='sed -n -e '\''s/^.*[	 ]\([ABCDGIRSTW][ABCDGIRSTW]*\)[	 ][	 ]*\([_A-Za-z][_A-Za-z0-9]*\)$/\1 \2 \2/p'\'' | sed '\''/ __gnu_lto/d'\'''
lt_cv_sys_global_symbol_to_c_name_address='sed -n -e '\''s/^: \([^ ]*\)[ ]*$/  {\"\1\", (void *) 0},/p'\'' -e '\''s/^[ABCDGIRSTW]* \([^ ]*\) \([^ ]*\)$/  {"\2", (void *) \&\2},/p'\'''
lt_cv_sys_global_symbol_to_c_name_address_lib_prefix='sed -n -e '\''s/^: \([^ ]*\)[ ]*$/  {\"\1\", (void *) 0},/p'\'' -e '\''s/^[ABCDGIRSTW]* \([^ ]*\) \(lib[^ ]*\)$/  {"\2", (void *) \&\2},/p'\'' -e '\''s/^[ABCDGIRSTW]* \([^ ]*\) \([^ ]*\)$/  {"lib\2", (void *) \&\2},/p'\'''
lt_cv_sys_global_symbol_to_cdecl='sed -n -e '\''s/^T .* \(.*\)$/extern int \1();/p'\'' -e '\''s/^[ABCDGIRSTW]* .* \(.*\)$/extern char \1;/p'\'''
lt_cv_sys_max_cmd_len=1572864
lt_cv_to_host_file_cmd=func_convert_file_noop
lt_cv_to_tool_file_cmd=func_convert_file_noop

## ----------------- ##
## Output variables. ##
## ----------------- ##














	@echo "Need to reconfigure with --enable-code-coverage"
	@echo "Need to reconfigure with --enable-code-coverage"
 $(CODE_COVERAGE_IGNORE_PATTERN);
 $(CODE_COVERAGE_OUTPUT_FILE);
#
#
#    $(PACKAGE_NAME)-$(PACKAGE_VERSION)-coverage)
#    $(PACKAGE_NAME)-$(PACKAGE_VERSION)-coverage.info)
#    (Default: $(top_builddir))
#    (Default: empty)
#    Multiple directories may be specified, separated by whitespace.
#    by lcov for code coverage. (Default:
#    collecting lcov instance. (Default: $CODE_COVERAGE_LCOV_OPTIONS_GCOVPATH)
#    genhtml instance. (Default: based on $CODE_COVERAGE_BRANCH_COVERAGE)
#    instance. (Default: $CODE_COVERAGE_GENHTML_OPTIONS_DEFAULT)
#    instance. (Default: $CODE_COVERAGE_LCOV_OPTIONS_DEFAULT)
#    instance. (Default: $CODE_COVERAGE_LCOV_RMOPTS_DEFAULT)
#    instances. (Default: $CODE_COVERAGE_LCOV_SHOPTS_DEFAULT)
#    instances. (Default: based on $CODE_COVERAGE_BRANCH_COVERAGE)
#    lcov instance. (Default: empty)
#    reports to be created. (Default:
#    set to 0 to disable it and leave empty to stay with the default.
#  - CODE_COVERAGE_BRANCH_COVERAGE: Set to 1 to enforce branch coverage,
#  - CODE_COVERAGE_DIRECTORY: Top-level directory for code coverage reporting.
#  - CODE_COVERAGE_GENHTML_OPTIONS: Extra options to pass to the genhtml
#  - CODE_COVERAGE_GENHTML_OPTIONS_DEFAULT: Extra options to pass to the
#  - CODE_COVERAGE_IGNORE_PATTERN: Extra glob pattern of files to ignore
#  - CODE_COVERAGE_LCOV_OPTIONS: Extra options to pass to the collecting lcov
#  - CODE_COVERAGE_LCOV_OPTIONS_DEFAULT: Extra options to pass to the
#  - CODE_COVERAGE_LCOV_OPTIONS_GCOVPATH: --gcov-tool pathtogcov
#  - CODE_COVERAGE_LCOV_RMOPTS: Extra options to pass to the filtering lcov
#  - CODE_COVERAGE_LCOV_RMOPTS_DEFAULT: Extra options to pass to the filtering
#  - CODE_COVERAGE_LCOV_SHOPTS: Extra options to shared between both lcov
#  - CODE_COVERAGE_LCOV_SHOPTS_DEFAULT: Extra options shared between both lcov
#  - CODE_COVERAGE_OUTPUT_DIRECTORY: Directory for generated code coverage
#  - CODE_COVERAGE_OUTPUT_FILE: Filename and path for the .info file generated
# $(PACKAGE_VERSION). In order to add the current git hash to the title,
# Capture code coverage data
# Code coverage
# Hook rule executed before code-coverage-capture, overridable by the user
# Optional variables
# Optional:
# The generated report will be titled using the $(PACKAGE_NAME) and
# Use recursive makes in order to ignore errors during check
# sanitizes the test-name: replaces with underscores: dashes and dots
# use the git-version-gen script, available online.
$(if $(CODE_COVERAGE_BRANCH_COVERAGE),\
'
--rc genhtml_branch_coverage=$(CODE_COVERAGE_BRANCH_COVERAGE))
--rc lcov_branch_coverage=$(CODE_COVERAGE_BRANCH_COVERAGE))
.PHONY: check-code-coverage code-coverage-capture code-coverage-capture-hook code-coverage-clean
ACLOCAL='${SHELL} /home/kau/zfs_chksm/config/missing aclocal-1.13'
ALIEN='alien'
ALIEN_VERSION=''
AMDEPBACKSLASH='\'
AMDEP_FALSE='#'
AMDEP_TRUE=''
AMTAR='$${TAR-tar}'
AM_BACKSLASH='\'
AM_DEFAULT_V='$(AM_DEFAULT_VERBOSITY)'
AM_DEFAULT_VERBOSITY='0'
AM_DISTCHECK_CONFIGURE_FLAGS += --disable-code-coverage
AM_DISTCHECK_CONFIGURE_FLAGS ?=
AM_V='$(V)'
AR='ar'
AUTOCONF='${SHELL} /home/kau/zfs_chksm/config/missing autoconf'
AUTOHEADER='${SHELL} /home/kau/zfs_chksm/config/missing autoheader'
AUTOMAKE='${SHELL} /home/kau/zfs_chksm/config/missing automake-1.13'
AWK='gawk'
CC='gcc'
CCAS='gcc'
CCASDEPMODE='depmode=gcc3'
CCASFLAGS='-g -O2'
CCDEPMODE='depmode=gcc3'
CFLAGS='-g -O2'
CODE_COVERAGE_BRANCH_COVERAGE ?=
CODE_COVERAGE_CFLAGS=''
CODE_COVERAGE_CPPFLAGS=''
CODE_COVERAGE_CXXFLAGS=''
CODE_COVERAGE_DIRECTORY ?= $(top_builddir)
CODE_COVERAGE_ENABLED='no'
CODE_COVERAGE_ENABLED_FALSE=''
CODE_COVERAGE_ENABLED_TRUE='#'
CODE_COVERAGE_GENHTML_OPTIONS ?= $(CODE_COVERAGE_GENHTML_OPTIONS_DEFAULT)
CODE_COVERAGE_GENHTML_OPTIONS_DEFAULT ?=\
CODE_COVERAGE_IGNORE_PATTERN ?=
CODE_COVERAGE_LCOV_OPTIONS ?= $(CODE_COVERAGE_LCOV_OPTIONS_DEFAULT)
CODE_COVERAGE_LCOV_OPTIONS_DEFAULT ?= $(CODE_COVERAGE_LCOV_OPTIONS_GCOVPATH)
CODE_COVERAGE_LCOV_OPTIONS_GCOVPATH ?= --gcov-tool "$(GCOV)"
CODE_COVERAGE_LCOV_RMOPTS ?= $(CODE_COVERAGE_LCOV_RMOPTS_DEFAULT)
CODE_COVERAGE_LCOV_RMOPTS_DEFAULT ?=
CODE_COVERAGE_LCOV_SHOPTS ?= $(CODE_COVERAGE_LCOV_SHOPTS_DEFAULT)
CODE_COVERAGE_LCOV_SHOPTS_DEFAULT ?= $(if $(CODE_COVERAGE_BRANCH_COVERAGE),\
CODE_COVERAGE_LDFLAGS=''
CODE_COVERAGE_LIBS=''
CODE_COVERAGE_OUTPUT_DIRECTORY ?= $(PACKAGE_NAME)-$(PACKAGE_VERSION)-coverage
CODE_COVERAGE_OUTPUT_FILE ?= $(PACKAGE_NAME)-$(PACKAGE_VERSION)-coverage.info
CODE_COVERAGE_RULES='
CONFIG_KERNEL_FALSE='#'
CONFIG_KERNEL_TRUE=''
CONFIG_QAT_FALSE=''
CONFIG_QAT_TRUE='#'
CONFIG_USER_FALSE='#'
CONFIG_USER_TRUE=''
CPP='gcc -E'
CPPFLAGS=''
CYGPATH_W='echo'
DEBUG_CFLAGS='-DNDEBUG'
DEBUG_STACKFLAGS=''
DEBUG_ZFS='_without_debug'
DEFAULT_INITCONF_DIR='/etc/sysconfig'
DEFAULT_INIT_DIR='${prefix}/etc/init.d'
DEFAULT_INIT_SCRIPT='redhat'
DEFAULT_PACKAGE='rpm'
DEFINE_INITRAMFS=''
DEFINE_SYSTEMD='--with systemd --define "_unitdir $(systemdunitdir)" --define "_presetdir $(systemdpresetdir)"'
DEFS='-DHAVE_CONFIG_H'
DEPDIR='.deps'
DLLTOOL='false'
DPKG='dpkg'
DPKGBUILD='dpkg-buildpackage'
DPKGBUILD_VERSION=''
DPKG_VERSION=''
DSYMUTIL=''
DUMPBIN=''
ECHO_C=''
ECHO_N='-n'
ECHO_T=''
EGREP='/usr/bin/grep -E'
EXEEXT=''
FGREP='/usr/bin/grep -F'
FRAME_LARGER_THAN='-Wframe-larger-than=1024'
GCOV=''
GENHTML=''
GITIGNOREFILES += $(CODE_COVERAGE_OUTPUT_FILE) $(CODE_COVERAGE_OUTPUT_DIRECTORY)
GITIGNOREFILES ?=
GREP='/usr/bin/grep'
HAVE_ALIEN='no'
HAVE_DPKG='no'
HAVE_DPKGBUILD='no'
HAVE_RPM='yes'
HAVE_RPMBUILD='yes'
INSTALL_DATA='${INSTALL} -m 644'
INSTALL_PROGRAM='${INSTALL}'
INSTALL_SCRIPT='${INSTALL}'
INSTALL_STRIP_PROGRAM='$(install_sh) -c -s'
KERNELCPPFLAGS=' -std=gnu99 -Wno-declaration-after-statement -Wno-unused-but-set-variable  -DHAVE_SPL -D_KERNEL -DTEXT_DOMAIN=\"zfs-linux-kernel\" -DNDEBUG '
KERNELMAKE_PARAMS=''
LCOV=''
LD='/usr/bin/ld -m elf_x86_64'
LDFLAGS=''
LIBAIO='-laio'
LIBBLKID='-lblkid'
LIBOBJS=''
LIBS='-ludev -luuid -lz '
LIBTIRPC=''
LIBTIRPC_CFLAGS=''
LIBTOOL='$(SHELL) $(top_builddir)/libtool'
LIBUDEV='-ludev'
LIBUUID='-luuid'
LINUX='/usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64'
LINUX_OBJ='/usr/src/kernels/3.10.0-1062.1.1.el7_myms.x86_64'
LINUX_SYMBOLS='Module.symvers'
LINUX_VERSION='3.10.0-1062.1.1.el7_myms.x86_64'
LIPO=''
LN_S='ln -s'
LTLIBOBJS=''
MAINT='#'
MAINTAINER_MODE_FALSE=''
MAINTAINER_MODE_TRUE='#'
MAKEINFO='${SHELL} /home/kau/zfs_chksm/config/missing makeinfo'
MANIFEST_TOOL=':'
MKDIR_P='/usr/bin/mkdir -p'
MULTIARCH_LIBDIR=''
NM='/usr/bin/nm -B'
NMEDIT=''
NO_BOOL_COMPARE=''
NO_FORMAT_TRUNCATION='-Wno-format-truncation'
NO_UNUSED_BUT_SET_VARIABLE='-Wno-unused-but-set-variable'
OBJDUMP='objdump'
OBJEXT='o'
OTOOL64=''
OTOOL=''
PACKAGE='zfs'
PACKAGE_BUGREPORT=''
PACKAGE_NAME='zfs'
PACKAGE_STRING='zfs 0.7.13'
PACKAGE_TARNAME='zfs'
PACKAGE_URL=''
PACKAGE_VERSION='0.7.13'
PATH_SEPARATOR=':'
QAT_OBJ=''
QAT_SRC=''
QAT_SYMBOLS=''
RANLIB='ranlib'
RELEASE='5_g692d353'
RM='rm -f'
RPM='rpm'
RPMBUILD='rpmbuild'
RPMBUILD_VERSION='4.11.3'
RPM_DEFINE_COMMON='--define "$(DEBUG_ZFS) 1"'
RPM_DEFINE_DKMS=''
RPM_DEFINE_KMOD='--define "kernels $(LINUX_VERSION)" --define "require_spldir $(SPL)" --define "require_splobj $(SPL_OBJ)" --define "ksrc $(LINUX)" --define "kobj $(LINUX_OBJ)" --define "_wrong_version_format_terminate_build 0"'
RPM_DEFINE_UTIL=' --define "_initconfdir $(DEFAULT_INITCONF_DIR)" $(DEFINE_INITRAMFS) $(DEFINE_SYSTEMD)'
RPM_SPEC_DIR='rpm/redhat'
RPM_VERSION='4.11.3'
SED='/usr/bin/sed'
SET_MAKE=''
SHELL='/bin/sh'
SPL='/usr/src/spl-0.7.13'
SPL_OBJ='/usr/src/spl-0.7.13/3.10.0-1062.1.1.el7_myms.x86_64'
SPL_SYMBOLS='Module.symvers'
SPL_VERSION='0.7.13-1'
SRPM_DEFINE_COMMON='--define "build_src_rpm 1"'
SRPM_DEFINE_DKMS=''
SRPM_DEFINE_KMOD=''
SRPM_DEFINE_UTIL=''
STRIP='strip'
TARGET_ASM_DIR='asm-x86_64'
TARGET_ASM_GENERIC_FALSE=''
TARGET_ASM_GENERIC_TRUE='#'
TARGET_ASM_I386_FALSE=''
TARGET_ASM_I386_TRUE='#'
TARGET_ASM_X86_64_FALSE='#'
TARGET_ASM_X86_64_TRUE=''
VENDOR='redhat'
VERSION='0.7.13'
WANT_DEVNAME2DEVID_FALSE='#'
WANT_DEVNAME2DEVID_TRUE=''
WANT_MMAP_LIBAIO_FALSE='#'
WANT_MMAP_LIBAIO_TRUE=''
ZFS_CONFIG='all'
ZFS_INIT_SYSTEMD='systemd'
ZFS_INIT_SYSV='init.d'
ZFS_META_ALIAS='zfs-0.7.13-5_g692d353'
ZFS_META_AUTHOR='OpenZFS on Linux'
ZFS_META_DATA=''
ZFS_META_LICENSE='CDDL'
ZFS_META_LT_AGE=''
ZFS_META_LT_CURRENT=''
ZFS_META_LT_REVISION=''
ZFS_META_NAME='zfs'
ZFS_META_RELEASE='5_g692d353'
ZFS_META_VERSION='0.7.13'
ZFS_MODULE_LOAD='modules-load.d'
ZLIB='-lz'
ZONENAME='echo global'
ac_ct_AR='ar'
ac_ct_CC='gcc'
ac_ct_DUMPBIN=''
am__EXEEXT_FALSE=''
am__EXEEXT_TRUE='#'
am__fastdepCCAS_FALSE='#'
am__fastdepCCAS_TRUE=''
am__fastdepCC_FALSE='#'
am__fastdepCC_TRUE=''
am__include='include'
am__isrc=''
am__leading_dot='.'
am__nodep='_no'
am__quote=''
am__tar='$${TAR-tar} chof - "$$tardir"'
am__untar='$${TAR-tar} xf -'
bindir='${exec_prefix}/bin'
build='x86_64-unknown-linux-gnu'
build_alias=''
build_cpu='x86_64'
build_os='linux-gnu'
build_vendor='unknown'
check-code-coverage:
code-coverage-capture-hook:
code-coverage-capture: code-coverage-capture-hook
code_coverage_quiet = $(code_coverage_quiet_$(V))
code_coverage_quiet_ = $(code_coverage_quiet_$(AM_DEFAULT_VERBOSITY))
code_coverage_quiet_0 = --quiet
code_coverage_sanitize = $(subst -,_,$(subst .,_,$(1)))
code_coverage_v_genhtml = $(code_coverage_v_genhtml_$(V))
code_coverage_v_genhtml_ = $(code_coverage_v_genhtml_$(AM_DEFAULT_VERBOSITY))
code_coverage_v_genhtml_0 = @echo "  GEN   " $(CODE_COVERAGE_OUTPUT_DIRECTORY);
code_coverage_v_lcov_cap = $(code_coverage_v_lcov_cap_$(V))
code_coverage_v_lcov_cap_ = $(code_coverage_v_lcov_cap_$(AM_DEFAULT_VERBOSITY))
code_coverage_v_lcov_cap_0 = @echo "  LCOV   --capture"\
code_coverage_v_lcov_ign = $(code_coverage_v_lcov_ign_$(V))
code_coverage_v_lcov_ign_ = $(code_coverage_v_lcov_ign_$(AM_DEFAULT_VERBOSITY))
code_coverage_v_lcov_ign_0 = @echo "  LCOV   --remove /tmp/*"\
datadir='${datarootdir}'
datarootdir='${prefix}/share'
docdir='${datarootdir}/doc/${PACKAGE_TARNAME}'
dracutdir='/usr/lib/dracut'
dvidir='${docdir}'
exec_prefix='${prefix}'
host='x86_64-unknown-linux-gnu'
host_alias=''
host_cpu='x86_64'
host_os='linux-gnu'
host_vendor='unknown'
htmldir='${docdir}'
includedir='${prefix}/include'
infodir='${datarootdir}/info'
install_sh='${SHELL} /home/kau/zfs_chksm/config/install-sh'
libdir='${exec_prefix}/lib'
libexecdir='${exec_prefix}/libexec'
localedir='${datarootdir}/locale'
localstatedir='${prefix}/var'
mandir='${datarootdir}/man'
mkdir_p='$(MKDIR_P)'
modulesloaddir='/usr/lib/modules-load.d'
mounthelperdir='/sbin'
oldincludedir='/usr/include'
pdfdir='${docdir}'
prefix='/usr/local'
program_transform_name='s,x,x,'
psdir='${docdir}'
runstatedir='${localstatedir}/run'
sbindir='${exec_prefix}/sbin'
sharedstatedir='${prefix}/com'
sysconfdir='${prefix}/etc'
systemdpresetdir='/usr/lib/systemd/system-preset'
systemdunitdir='/usr/lib/systemd/system'
target='x86_64-unknown-linux-gnu'
target_alias=''
target_cpu='x86_64'
target_os='linux-gnu'
target_vendor='unknown'
udevdir='/lib/udev'
udevruledir='/lib/udev/rules.d'

## ----------- ##
## confdefs.h. ##
## ----------- ##

/* confdefs.h */
#define PACKAGE_NAME "zfs"
#define PACKAGE_TARNAME "zfs"
#define PACKAGE_VERSION "0.7.13"
#define PACKAGE_STRING "zfs 0.7.13"
#define PACKAGE_BUGREPORT ""
#define PACKAGE_URL ""
#define ZFS_META_NAME "zfs"
#define ZFS_META_VERSION "0.7.13"
#define ZFS_META_RELEASE "5_g692d353"
#define ZFS_META_LICENSE "CDDL"
#define ZFS_META_ALIAS "zfs-0.7.13-5_g692d353"
#define ZFS_META_AUTHOR "OpenZFS on Linux"
#define PACKAGE "zfs"
#define VERSION "0.7.13"
#define STDC_HEADERS 1
#define HAVE_SYS_TYPES_H 1
#define HAVE_SYS_STAT_H 1
#define HAVE_STDLIB_H 1
#define HAVE_STRING_H 1
#define HAVE_MEMORY_H 1
#define HAVE_STRINGS_H 1
#define HAVE_INTTYPES_H 1
#define HAVE_STDINT_H 1
#define HAVE_UNISTD_H 1
#define HAVE_DLFCN_H 1
#define LT_OBJDIR ".libs/"
#define HAVE_SSE 1
#define HAVE_SSE2 1
#define HAVE_SSE3 1
#define HAVE_SSSE3 1
#define HAVE_SSE4_1 1
#define HAVE_SSE4_2 1
#define HAVE_AVX 1
#define HAVE_AVX2 1
#define HAVE_AVX512F 1
#define HAVE_AVX512CD 1
#define HAVE_AVX512DQ 1
#define HAVE_AVX512BW 1
#define HAVE_AVX512IFMA 1
#define HAVE_AVX512VBMI 1
#define HAVE_AVX512PF 1
#define HAVE_AVX512ER 1
#define HAVE_AVX512VL 1
#define HAVE_ZLIB 1
#define HAVE_LIBUUID 1
#define HAVE_LIBBLKID 1
#define HAVE_LIBUDEV 1
#define HAVE_LIBUDEV_UDEV_DEVICE_GET_IS_INITIALIZED 1
#define HAVE_LIBAIO 1
#define HAVE_MAKEDEV_IN_SYSMACROS 1
#define HAVE_MLOCKALL 1
#define HAVE_ACCESS_OK_TYPE 1
#define ZFS_DEVICE_MINOR 249
#define HAVE_KERNEL_OBJTOOL 1
#define HAVE_LARGE_STACKS 1
#define HAVE_CURRENT_BIO_LIST 1
#define HAVE_SUPER_USER_NS 1
#define HAVE_BLOCK_DEVICE_OPERATIONS_CHECK_EVENTS 1
#define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
#define HAVE_FMODE_T 1
#define HAVE_3ARG_BLKDEV_GET 1
#define HAVE_BLKDEV_GET_BY_PATH 1
#define HAVE_1ARG_LOOKUP_BDEV 1
#define HAVE_1ARG_INVALIDATE_BDEV 1
#define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
#define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
#define HAVE_BIO_SET_DEV_GPL_ONLY 1
#define HAVE_REQ_FAILFAST_MASK 1
#define HAVE_BLK_QUEUE_FLUSH 1
#define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
#define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
#define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
#define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
#define HAVE_GET_DISK_RO 1
#define HAVE_GET_GENDISK 1
#define HAVE_BIO_SET_OP_ATTRS 1
#define HAVE_GENERIC_READLINK 1
#define HAVE_DISCARD_GRANULARITY 1
#define HAVE_CONST_XATTR_HANDLER 1
#define HAVE_XATTR_GET_DENTRY 1
#define HAVE_XATTR_SET_DENTRY 1
#define HAVE_XATTR_LIST_DENTRY 1
#define HAVE_INODE_OWNER_OR_CAPABLE 1
#define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
#define HAVE_POSIX_ACL_RELEASE 1
#define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
#define HAVE_POSIX_ACL_CHMOD 1
#define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
#define HAVE_PERMISSION 1
#define HAVE_GET_ACL 1
#define HAVE_VFSMOUNT_IOPS_GETATTR 1
#define HAVE_INODE_SET_FLAGS 1
#define HAVE_SHOW_OPTIONS_WITH_DENTRY 1
#define HAVE_FILE_INODE 1
#define HAVE_FILE_DENTRY 1
#define HAVE_FSYNC_RANGE 1
#define HAVE_EVICT_INODE 1
#define HAVE_DIRTY_INODE_WITH_FLAGS 1
#define HAVE_NR_CACHED_OBJECTS 1
#define HAVE_FREE_CACHED_OBJECTS 1
#define HAVE_FILE_FALLOCATE 1
#define HAVE_FILE_AIO_FSYNC 1
#define HAVE_MKDIR_UMODE_T 1
#define HAVE_FOLLOW_LINK_NAMEIDATA 1
#define HAVE_PUT_LINK_NAMEIDATA 1
#define HAVE_AUTOMOUNT 1
#define HAVE_ENCODE_FH_WITH_INODE 1
#define HAVE_COMMIT_METADATA 1
#define HAVE_CLEAR_INODE 1
#define HAVE_INSERT_INODE_LOCKED 1
#define HAVE_D_MAKE_ROOT 1
#define HAVE_D_OBTAIN_ALIAS 1
#define HAVE_D_PRUNE_ALIASES 1
#define HAVE_D_SET_D_OP 1
#define HAVE_CONST_DENTRY_OPERATIONS 1
#define HAVE_TRUNCATE_SETSIZE 1
#define HAVE_CALLBACK_SECURITY_INODE_INIT_SECURITY 1
#define HAVE_FST_MOUNT 1
#define HAVE_SHRINK 1
#define HAVE_S_D_OP 1
#define HAVE_3ARGS_BDI_SETUP_AND_REGISTER 1
#define HAVE_SET_NLINK 1
#define HAVE_ELEVATOR_CHANGE 1
#define HAVE_5ARG_SGET 1
#define HAVE_VFS_READDIR 1
#define HAVE_1ARG_KMAP_ATOMIC 1
#define HAVE_FOLLOW_DOWN_ONE 1
#define MAKE_REQUEST_FN_RET void
#define HAVE_GENERIC_IO_ACCT_4ARG 1
#define HAVE_KERNEL_FPU 1
#define KERNEL_EXPORTS_X86_FPU 1
#define HAVE_KUID_HELPERS 1
#define HAVE_GENERIC_SETXATTR 1
#define ZFS_ENUM_ZONE_STAT_ITEM_NR_FILE_PAGES 1
#define ZFS_ENUM_ZONE_STAT_ITEM_NR_INACTIVE_ANON 1
#define ZFS_ENUM_ZONE_STAT_ITEM_NR_INACTIVE_FILE 1
#define ZFS_ENUM_ZONE_STAT_ITEM_NR_SLAB_RECLAIMABLE 1
#define HAVE_NS_CAPABLE 1
#define HAVE_CRED_USER_NS 1
#define HAVE_KUID_HAS_MAPPING 1
#define HAVE_IN_COMPAT_SYSCALL 1

configure: exit 0
